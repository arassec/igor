webpackJsonp([1],{"0FHk":function(e,t){},"0KMB":function(e,t){},"1hFe":function(e,t){},"2eIf":function(e,t){},"5adI":function(e,t){},"6S91":function(e,t){},"6ny7":function(e,t){},AQfP:function(e,t){},BbNJ:function(e,t){},BwOu:function(e,t){},Dg2P:function(e,t){},Dydv:function(e,t){},Jfij:function(e,t){},L0Qp:function(e,t){},NHnr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("7+uW"),r={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("nav",[n("router-link",{class:e.isActiveTab("home")?e.activeClass:"",attrs:{to:"/"},nativeOn:{click:function(t){e.setActiveTab("home")}}},[e._v("Home\n    ")]),e._v(" "),n("router-link",{class:e.isActiveTab("jobs")?e.activeClass:"",attrs:{to:"/jobs"},nativeOn:{click:function(t){e.setActiveTab("jobs")}}},[e._v("Jobs\n    ")]),e._v(" "),n("router-link",{class:e.isActiveTab("services")?e.activeClass:"",attrs:{to:"/services"},nativeOn:{click:function(t){e.setActiveTab("services")}}},[e._v("Services\n    ")])],1),e._v(" "),n("router-view")],1)},staticRenderFns:[]};var o={name:"app",components:{Navigation:n("VU/8")({name:"app-navigation",data:function(){return{choice:this.$route.name,activeClass:"active"}},methods:{setActiveTab:function(e){this.choice=e},isActiveTab:function(e){return this.choice===e}}},r,!1,function(e){n("AQfP")},"data-v-5144be62",null).exports}},i={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("Navigation")],1)},staticRenderFns:[]};var s=n("VU/8")(o,i,!1,function(e){n("Dydv")},null,null).exports,c=n("/ocq"),l={render:function(){var e=this.$createElement;return(this._self._c||e)("div",[this._v("\n    TODO: Add home content!\n")])},staticRenderFns:[]};var d=n("VU/8")({name:"app-status"},l,!1,function(e){n("oW0u")},"data-v-00814fd2",null).exports,u=n("c/Tr"),v=n.n(u),f={render:function(){var e=this.$createElement;return(this._self._c||e)("div")},staticRenderFns:[]};var p=n("VU/8")({name:"spacer-item"},f,!1,function(e){n("Rbld")},"data-v-76f126bd",null).exports,m={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"button",on:{click:function(t){e.$emit("clicked")}}},[n("font-awesome-icon",{class:e.iconstyle,attrs:{icon:e.icon}})],1)},staticRenderFns:[]};var h=n("VU/8")({name:"input-button",props:["icon"],computed:{iconstyle:function(){return"eye"===this.icon?"minus-four":""}}},m,!1,function(e){n("0FHk")},"data-v-3136b92c",null).exports,b={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"row"},[t("div",{staticClass:"left"},[this._t("left")],2),this._v(" "),t("div",{staticClass:"right"},[this._t("right")],2)])},staticRenderFns:[]};var g=n("VU/8")({name:"button-row"},b,!1,function(e){n("6S91")},"data-v-dce7d0e0",null).exports,_={render:function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"panel"},[this._t("default")],2)},staticRenderFns:[]};var k=n("VU/8")({name:"core-panel"},_,!1,function(e){n("wsNZ")},"data-v-0af0e6ef",null).exports,C={name:"list-header",components:{CorePanel:k,ButtonRow:g,InputButton:h},props:["filter","addButtonText","addButtonTarget"],data:function(){return{filterText:""}},watch:{filterText:function(e,t){this.filter(e)}},mounted:function(){var e=this;document.addEventListener("keydown",function(t){27===t.keyCode&&(e.filterText="")})}},y={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("core-panel",[n("h1",[e._t("title",[e._v("default title")])],2),e._v(" "),n("button-row",[n("div",{staticClass:"filter",attrs:{slot:"left"},slot:"left"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.filterText,expression:"filterText"}],attrs:{id:"filter-input",type:"text",placeholder:"filter list"},domProps:{value:e.filterText},on:{input:function(t){t.target.composing||(e.filterText=t.target.value)}}}),e._v(" "),n("font-awesome-icon",{attrs:{icon:"search"}}),e._v(" "),e.filterText.length>0?n("input-button",{attrs:{icon:"times"},on:{clicked:function(t){e.filterText=""}}}):e._e()],1),e._v(" "),n("p",{attrs:{slot:"right"},slot:"right"},[n("router-link",{attrs:{to:e.addButtonTarget}},[n("input-button",{attrs:{icon:"plus"}})],1)],1)])],1)},staticRenderFns:[]};var w=n("VU/8")(C,y,!1,function(e){n("uo7b")},"data-v-972601f4",null).exports,$={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition",{attrs:{name:"modal"}},[n("div",{staticClass:"modal-mask",on:{click:e.close}},[n("div",{staticClass:"modal-wrapper"},[n("div",{staticClass:"modal-container center",on:{click:function(e){e.stopPropagation()}}},[n("div",{staticClass:"modal-header"},[n("h1",[e._t("header",[e._v("\n                            default header\n                        ")])],2)]),e._v(" "),n("div",{staticClass:"modal-body"},[e._t("body",[e._v("\n                        default body\n                    ")])],2),e._v(" "),n("div",{staticClass:"modal-footer"},[e._t("footer")],2)])])])])},staticRenderFns:[]};var x=n("VU/8")({name:"modal-dialog",methods:{close:function(){this.$emit("close")}}},$,!1,function(e){n("OwlF")},"data-v-83f55aae",null).exports,T={render:function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"list-name"},[this._t("default")],2)},staticRenderFns:[]};var P={name:"service-list-entry",components:{ListName:n("VU/8")({name:"list-name"},T,!1,function(e){n("gmBa")},"data-v-155f7ea4",null).exports,ButtonRow:g,CorePanel:k,InputButton:h,ModalDialog:x},props:["id","name"],data:function(){return{showDeleteDialog:!1,showEditService:!1,requestInProgress:!1,serviceConfiguration:{}}},methods:{editService:function(e){this.$router.push({name:"service-editor",params:{serviceId:e}})},deleteService:function(e){this.showDeleteDialog=!1;var t=this;this.$http.delete("/api/service/"+e).then(function(){t.$root.$data.store.setFeedback("Service '"+t.name+"' has been deleted.",!1),t.$emit("actionPerformed")}).catch(function(e){console.log(e),t.$root.$data.store.setFeedback("Service '"+t.name+"' could not be deleted!",!1),t.$emit("actionPerformed")})}}},E={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("core-panel",[n("button-row",[n("list-name",{attrs:{slot:"left"},slot:"left"},[e._v("\n            "+e._s(e.name)+"\n        ")]),e._v(" "),n("p",{attrs:{slot:"right"},slot:"right"},[n("input-button",{attrs:{icon:"cog"},on:{clicked:function(t){e.editService(e.id)}}}),e._v(" "),n("input-button",{attrs:{icon:"trash-alt"},on:{clicked:function(t){e.showDeleteDialog=!e.showDeleteDialog}}})],1)],1),e._v(" "),e.showDeleteDialog?n("modal-dialog",{on:{close:function(t){e.showDeleteDialog=!1}}},[n("p",{attrs:{slot:"header"},slot:"header"},[e._v("Delete Service?")]),e._v(" "),n("p",{attrs:{slot:"body"},slot:"body"},[e._v("Do you really want to delete service '"+e._s(e.name)+"'?")]),e._v(" "),n("div",{attrs:{slot:"footer"},slot:"footer"},[n("button-row",[n("p",{attrs:{slot:"left"},slot:"left"},[n("input-button",{attrs:{icon:"times"},on:{clicked:function(t){e.showDeleteDialog=!1}}})],1),e._v(" "),n("p",{attrs:{slot:"right"},slot:"right"},[n("input-button",{staticClass:"right",attrs:{icon:"check"},on:{clicked:function(t){e.deleteService(e.id)}}})],1)])],1)]):e._e()],1)},staticRenderFns:[]};var I=n("VU/8")(P,E,!1,function(e){n("2eIf")},"data-v-06f9b550",null).exports,j={render:function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"container"},[this._t("default")],2)},staticRenderFns:[]};var V=n("VU/8")({name:"core-container"},j,!1,function(e){n("5adI")},"data-v-33cde268",null).exports,S={render:function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"content"},[this._t("default")],2)},staticRenderFns:[]};var F=n("VU/8")({name:"core-content"},S,!1,function(e){n("L0Qp")},"data-v-50777ea4",null).exports,O={render:function(){var e=this.$createElement,t=this._self._c||e;return this.feedback.message.length>0?t("transition",{attrs:{name:"snackbar"}},[t("div",{staticClass:"snackbar",class:{alert:this.feedback.alert,feedback:!this.feedback.alert}},[this._v("\n        "+this._s(this.feedback.message)+"\n    ")])]):this._e()},staticRenderFns:[]};var D={name:"service-list",components:{FeedbackSnackbar:n("VU/8")({name:"feedback-snackbar",computed:{feedback:function(){return this.$root.$data.store.getFeedback()}}},O,!1,function(e){n("vAn3")},"data-v-b35f936e",null).exports,CoreContent:F,CoreContainer:V,CorePanel:k,ServiceListEntry:I,ListHeader:w,SpacerItem:p},props:["saveResult"],data:function(){return{services:[],filterText:""}},methods:{loadServices:function(){var e=this;this.$http.get("/api/service").then(function(t){for(var n=e.services.length;n>0;n--)e.services.pop();v()(t.data).forEach(function(t){e.services.push(t)}),e.services.sort(function(e,t){return e.name.localeCompare(t.name)})}).catch(function(t){console.log(t),e.$root.$data.store.setFeedback("Services could not be loaded!",!0)})},filter:function(e){this.filterText=e}},computed:{filteredServices:function(){var e=this;return this.services.filter(function(t){return t.name.includes(e.filterText)})}},mounted:function(){this.loadServices()}},R={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("core-container",[n("spacer-item"),e._v(" "),n("core-content",[n("list-header",{attrs:{addButtonTarget:"service-editor",addButtonText:"Add Service",filter:e.filter}},[n("p",{attrs:{slot:"title"},slot:"title"},[e._v("Available Services")])]),e._v(" "),e._l(e.filteredServices,function(t){return n("service-list-entry",{key:t.id,attrs:{id:t.id,name:t.name},on:{actionPerformed:function(t){e.loadServices()}}})}),e._v(" "),n("feedback-snackbar")],2),e._v(" "),n("spacer-item")],1)},staticRenderFns:[]};var N=n("VU/8")(D,R,!1,function(e){n("0KMB")},"data-v-606eb6bc",null).exports,B={render:function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"error"},[this._t("default")],2)},staticRenderFns:[]};var U=n("VU/8")({name:"validation-error"},B,!1,function(e){n("V90+")},"data-v-484d7025",null).exports,q={name:"parameter-editor",components:{InputButton:h,ValidationError:U},props:["parameters"],data:function(){return{validationOk:!0,parameterValidationErrors:[],parameterInputTypes:[]}},events:{"validate-input":function(){this.validateInput()}},methods:{isNumber:function(e){return"int"===e||"java.lang.Integer"===e||"long"===e||"java.lang.Long"===e},isBoolean:function(e){return"boolean"===e||"java.lang.Boolean"===e},formatParameterName:function(e){return(e=e.replace(/\.?([A-Z])/g,function(e,t){return" "+t.toLowerCase()}).replace(/^_/,"")).charAt(0).toUpperCase()+e.slice(1)},validateInput:function(){for(var e=this.parameterValidationErrors.length;e>0;e--)this.parameterValidationErrors[e]="";var t=this;return this.parameters.forEach(function(e,n){t.parameterValidationErrors[n]=""}),this.parameters.forEach(function(e,n){e.optional&&null==e.value&&(e.value=""),e.optional||null!=e.value&&""!==e.value||(t.parameterValidationErrors[n]="Value required",t.validationOk=!1)}),this.$forceUpdate(),!!t.validationOk||(t.validationOk=!0,!1)},checkValidationError:function(e){return void 0===this.parameterValidationErrors[e]&&(this.parameterValidationErrors[e]=""),this.parameterValidationErrors[e].length>0},toggleCleartext:function(e){"password"===this.parameterInputTypes[e]?this.$set(this.parameterInputTypes,e,"text"):this.$set(this.parameterInputTypes,e,"password")}},created:function(){var e=this;this.parameters.forEach(function(t,n){e.isNumber(t.type)||e.isBoolean(t.type)||(t.secured?e.$set(e.parameterInputTypes,n,"password"):e.$set(e.parameterInputTypes,n,"text"))})}},A={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("table",[e._l(e.parameters,function(t,a){return[n("tr",{key:t.name},[n("td",[t.optional?n("label",[e._v(e._s(e.formatParameterName(t.name)))]):e._e(),e._v(" "),t.optional?e._e():n("label",[e._v(e._s(e.formatParameterName(t.name))+"*")])]),e._v(" "),n("td",[e.isNumber(t.type)?n("input",{directives:[{name:"model",rawName:"v-model.number",value:t.value,expression:"param.value",modifiers:{number:!0}}],attrs:{type:"text",autocomplete:"off"},domProps:{value:t.value},on:{input:function(n){n.target.composing||e.$set(t,"value",e._n(n.target.value))},blur:function(t){e.$forceUpdate()}}}):e._e(),e._v(" "),e.isBoolean(t.type)?n("font-awesome-icon",{attrs:{icon:t.value?"check-square":"square"},on:{click:function(e){t.value=!t.value}}}):e._e(),e._v(" "),e.isNumber(t.type)||e.isBoolean(t.type)?e._e():n("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.value,expression:"param.value",modifiers:{trim:!0}}],attrs:{autocomplete:"off",type:e.parameterInputTypes[a]},domProps:{value:t.value},on:{input:function(n){n.target.composing||e.$set(t,"value",n.target.value.trim())},blur:function(t){e.$forceUpdate()}}}),e._v(" "),e.isNumber(t.type)||e.isBoolean(t.type)||!t.secured?e._e():n("input-button",{attrs:{icon:"eye"},on:{clicked:function(t){e.toggleCleartext(a)}}})],1),e._v(" "),n("td",[e.checkValidationError(a)?n("validation-error",[e._v("\n                    "+e._s(e.parameterValidationErrors[a])+"\n                ")]):e._e()],1)])]})],2)},staticRenderFns:[]};var J=n("VU/8")(q,A,!1,function(e){n("zdQ3")},"data-v-b7ebe7b8",null).exports,L={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:{info:!e.alert,alert:e.alert}},[null!=e.icon&&null!=e.iconClass?n("font-awesome-icon",{class:e.iconClass,attrs:{icon:e.icon}}):e._e(),e._v(" "),null!=e.icon&&null==e.iconClass?n("font-awesome-icon",{attrs:{icon:e.icon}}):e._e(),e._v(" "),n("label",[e._v(e._s(e.text))])],1)},staticRenderFns:[]};var H=n("VU/8")({name:"feedback-box",props:["text","alert","icon","iconClass"]},L,!1,function(e){n("1hFe")},"data-v-ae85e538",null).exports,M={name:"feedback-panel",components:{FeedbackBox:H},props:["feedback","alert","requestInProgress"]},Q={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.feedback.length>0?n("div",[e.feedback.length>0&&e.alert?n("feedback-box",{attrs:{text:e.feedback,alert:e.alert}}):e._e(),e._v(" "),e.feedback.length>0&&!e.alert&&e.requestInProgress?n("feedback-box",{attrs:{text:e.feedback,icon:"spinner",iconClass:"fa-spin"}}):e._e(),e._v(" "),e.feedback.length>0&&!e.alert&&!e.requestInProgress?n("feedback-box",{attrs:{text:e.feedback}}):e._e()],1):e._e()},staticRenderFns:[]};var W=n("VU/8")(M,Q,!1,function(e){n("lrg1")},"data-v-70c08b0b",null).exports,Z={name:"service-editor",components:{FeedbackPanel:W,ValidationError:U,ButtonRow:g,CoreContent:F,CoreContainer:V,CorePanel:k,InputButton:h,ParameterEditor:J,SpacerItem:p},props:["serviceId"],data:function(){return{newService:!0,serviceCategories:[],selectedCategory:"",serviceTypes:[],nameValidationError:"",feedback:"",feedbackOk:!0,requestInProgress:!1,serviceConfiguration:{name:"",serviceCategory:{},serviceType:{},parameters:{}}}},methods:{loadService:function(e){this.feedback="",this.feedbackOk=!0;var t=this;this.$http.get("/api/service/"+e).then(function(e){t.serviceConfiguration=e.data,t.serviceCategories.push(t.serviceConfiguration.serviceCategory),t.selectedCategory=t.serviceConfiguration.serviceCategory.type,t.serviceTypes.push(t.serviceConfiguration.serviceType)}).catch(function(e){t.feedback=e,t.feedbackOk=!1})},loadServiceCategories:function(){var e=this;this.$http.get("/api/servicecategory").then(function(t){for(var n=e.serviceCategories.length;n>0;n--)e.serviceCategories.pop();v()(t.data).forEach(function(t){e.serviceCategories.push(t)}),e.selectedCategory=e.serviceCategories[0].type,e.loadServiceTypes(e.selectedCategory)}).catch(function(t){e.feedback=t,e.feedbackOk=!1})},loadServiceTypes:function(e){var t=this;this.$http.get("/api/servicetype/"+e).then(function(e){for(var n=t.serviceTypes.length;n>0;n--)t.serviceTypes.pop();v()(e.data).forEach(function(e){t.serviceTypes.push(e)}),t.serviceConfiguration.serviceType=t.serviceTypes[0],t.loadTypeParameters(t.serviceConfiguration.serviceType.type)}).catch(function(e){t.feedback=e,t.feedbackOk=!1})},loadTypeParameters:function(e){var t=this;this.$http.get("/api/serviceparams/"+e).then(function(e){t.serviceConfiguration.parameters=e.data}).catch(function(e){t.feedback=e,t.feedbackOk=!1})},testConfiguration:function(){if(this.validateInput()){this.feedback="Testing...",this.requestInProgress=!0;var e=this;this.$http.post("/api/service/test",this.serviceConfiguration).then(function(t){e.feedback=t.data,e.feedbackOk=!0,e.requestInProgress=!1}).catch(function(t){e.feedback=t.response.data,e.feedbackOk=!1,e.requestInProgress=!1})}},saveConfiguration:function(){if(this.validateInput()){this.feedback="Saving...",this.requestInProgress=!0;var e=this;this.newService?this.$http.post("/api/service",this.serviceConfiguration).then(function(){e.$root.$data.store.setFeedback("Service "+e.serviceConfiguration.name+" saved.",!1),e.$router.push({name:"services"})}).catch(function(t){e.feedback="Saving failed! ("+t.response.data.error+")",e.feedbackOk=!1,e.requestInProgress=!1}):this.$http.put("/api/service",this.serviceConfiguration).then(function(){e.$root.$data.store.setFeedback("Service "+e.serviceConfiguration.name+" updated.",!1),e.$router.push({name:"services"})}).catch(function(t){e.feedback="Saving failed! ("+t.response.data.error+")",e.feedbackOk=!1,e.requestInProgress=!1})}},validateInput:function(){this.feedback="",this.feedbackOk=!0,this.nameValidationError="";var e=!0;null!=this.serviceConfiguration.name&&""!==this.serviceConfiguration.name||(this.nameValidationError="Name must be set",e=!1);var t=!0;return void 0!==this.$refs.parameterEditor&&(t=this.$refs.parameterEditor.validateInput()),e&&t},cancel:function(){this.$router.back()}},mounted:function(){null!=this.serviceId?(this.newService=!1,this.loadService(this.serviceId)):this.loadServiceCategories()}},z={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("core-container",[n("spacer-item"),e._v(" "),n("core-content",[n("core-panel",[n("h1",[e._v(e._s(e.newService?"New Service":"Edit Service"))]),e._v(" "),n("table",[n("tr",[n("td",[n("label",[e._v("Name")])]),e._v(" "),n("td",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.serviceConfiguration.name,expression:"serviceConfiguration.name"}],attrs:{type:"text",autocomplete:"off"},domProps:{value:e.serviceConfiguration.name},on:{input:function(t){t.target.composing||e.$set(e.serviceConfiguration,"name",t.target.value)}}})]),e._v(" "),n("td",[e.nameValidationError.length>0?n("validation-error",[e._v("\n                            "+e._s(e.nameValidationError)+"\n                        ")]):e._e()],1)]),e._v(" "),n("tr",[n("td",[n("label",{attrs:{for:"category-input"}},[e._v("Category")])]),e._v(" "),n("td",[n("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedCategory,expression:"selectedCategory"}],attrs:{id:"category-input",disabled:!e.newService},on:{change:[function(t){var n=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.selectedCategory=t.target.multiple?n:n[0]},function(t){e.loadServiceTypes(e.selectedCategory)}]}},e._l(e.serviceCategories,function(t){return n("option",{key:t.type,domProps:{value:t.type}},[e._v("\n                                "+e._s(t.label)+"\n                            ")])}))]),e._v(" "),n("td")]),e._v(" "),n("tr",[n("td",[n("label",{attrs:{for:"type-input"}},[e._v("Type")])]),e._v(" "),n("td",[n("select",{directives:[{name:"model",rawName:"v-model",value:e.serviceConfiguration.serviceType,expression:"serviceConfiguration.serviceType"}],attrs:{id:"type-input",disabled:!e.newService},on:{change:[function(t){var n=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.serviceConfiguration,"serviceType",t.target.multiple?n:n[0])},function(t){e.loadTypeParameters(e.serviceConfiguration.serviceType.type)}]}},e._l(e.serviceTypes,function(t){return n("option",{key:t.type,domProps:{value:t}},[e._v("\n                                "+e._s(t.label)+"\n                            ")])}))]),e._v(" "),n("td")])])]),e._v(" "),Object.keys(e.serviceConfiguration.parameters).length>0?n("core-panel",[n("h2",[e._v("Parameters")]),e._v(" "),n("parameter-editor",{ref:"parameterEditor",attrs:{parameters:e.serviceConfiguration.parameters}})],1):e._e(),e._v(" "),n("core-panel",[n("feedback-panel",{attrs:{feedback:e.feedback,alert:!e.feedbackOk,requestInProgress:e.requestInProgress}}),e._v(" "),n("button-row",[n("p",{attrs:{slot:"left"},slot:"left"},[n("input-button",{attrs:{icon:"times"},on:{clicked:function(t){e.cancel()}}})],1),e._v(" "),n("p",{attrs:{slot:"right"},slot:"right"},[n("input-button",{attrs:{icon:"plug"},on:{clicked:function(t){e.testConfiguration()}}}),e._v(" "),n("input-button",{attrs:{icon:"save"},on:{clicked:function(t){e.saveConfiguration()}}})],1)])],1)],1),e._v(" "),n("spacer-item")],1)},staticRenderFns:[]};var K=n("VU/8")(Z,z,!1,function(e){n("6ny7")},"data-v-9b25d932",null).exports,X={name:"job-list-entry",components:{ModalDialog:x},props:["id","name"],data:function(){return{showDeleteDialog:!1,feedback:"",feedbackOk:!0}},methods:{editJob:function(e){this.$router.push({name:"editor",params:{id:e}})},deleteJob:function(e){this.feedback="",this.feedbackOk=!0,this.showDeleteDialog=!1;var t=this;this.$http.delete("/api/job/"+e).then(function(){t.$emit("job-deleted")}).catch(function(e){t.feedback=e,t.feedbackOk=!1})}}},G={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("core-panel",[n("button-row",[n("list-name",{attrs:{slot:"left"},slot:"left"},[e._v("\n            "+e._s(e.name)+"\n        ")]),e._v(" "),n("p",{attrs:{slot:"right"},slot:"right"},[n("input-button",{on:{clicked:function(t){e.editJob(e.id)}}},[n("font-awesome-icon",{attrs:{icon:"cog"}})],1),e._v(" "),n("input-button",{on:{clicked:function(t){e.showDeleteDialog=!e.showDeleteDialog}}},[n("font-awesome-icon",{attrs:{icon:"trash-alt"}})],1)],1)],1),e._v(" "),e.showDeleteDialog?n("modal-dialog",[n("p",{attrs:{slot:"header"},slot:"header"},[e._v("Delete Job?")]),e._v(" "),n("p",{attrs:{slot:"body"},slot:"body"},[e._v("Do you really want to delete job '"+e._s(e.name)+"'?")]),e._v(" "),n("div",{attrs:{slot:"footer"},slot:"footer"},[n("button-row",[n("p",{attrs:{slot:"left"},slot:"left"},[n("input-button",{on:{clicked:function(t){e.showDeleteDialog=!1}}},[n("font-awesome-icon",{attrs:{icon:"times"}})],1)],1),e._v(" "),n("p",{attrs:{slot:"right"},slot:"right"},[n("input-button",{staticClass:"right",on:{clicked:function(t){e.deleteJob(e.id)}}},[n("font-awesome-icon",{attrs:{icon:"check"}})],1)],1)])],1)]):e._e()],1)},staticRenderFns:[]};var Y={name:"job-list",components:{CoreContent:F,CoreContainer:V,FeedbackBox:H,CorePanel:k,JobListEntry:n("VU/8")(X,G,!1,function(e){n("Jfij")},"data-v-331c344d",null).exports,ListHeader:w,SpacerItem:p},props:["saveResult"],data:function(){return{jobs:[],feedback:"",feedbackOk:!0,filterText:""}},methods:{loadJobs:function(){this.feedback="",this.feedbackOk=!0;var e=this;this.$http.get("/api/job/id").then(function(t){for(var n=e.jobs.length;n>0;n--)e.jobs.pop();v()(t.data).forEach(function(t){e.jobs.push(t)}),e.jobs.sort(function(e,t){return e.localeCompare(t)})}).catch(function(t){e.feedback=t,e.feedbackOk=!1})},filter:function(e){this.filterText=e}},computed:{filteredJobs:function(){var e=this;return this.jobs.filter(function(t){return t.name.includes(e.filterText)})}},mounted:function(){this.loadJobs()}},ee={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("core-container",[n("spacer-item"),e._v(" "),n("core-content",[n("list-header",{attrs:{addButtonTarget:"job-editor",addButtonText:"Add Job",filter:e.filter}},[n("p",{attrs:{slot:"title"},slot:"title"},[e._v("Available Jobs")]),e._v(" "),n("p",{attrs:{slot:"feedback"},slot:"feedback"},[e.feedback.length>0?n("feedback-box",{attrs:{text:e.feedback,alert:!e.feedbackOk}}):e._e()],1)]),e._v(" "),e._l(e.filteredJobs,function(t){return n("job-list-entry",{key:t.id,attrs:{id:t.id,name:t.name},on:{"job-deleted":function(t){e.loadJobs()}}})})],2),e._v(" "),n("spacer-item")],1)},staticRenderFns:[]};var te=n("VU/8")(Y,ee,!1,function(e){n("BbNJ")},"data-v-1bda3ec0",null).exports,ne={name:"task-editor",components:{ButtonRow:g,ParameterEditor:J,CorePanel:k,InputButton:h},props:["task"],data:function(){return{feedback:"",feedbackOk:!0,requestInProgress:!1,providerTypes:[],selectedProvider:""}},methods:{loadProviderTypes:function(){var e=this;this.$http.get("/api/providertype").then(function(t){for(var n=e.providerTypes.length;n>0;n--)e.providerTypes.pop();v()(t.data).forEach(function(t){e.providerTypes.push(t)}),e.selectedProvider=e.providerTypes[0].type,console.log("PROVIDER: "+e.selectedProvider),e.loadTypeParameters(e.selectedProvider)}).catch(function(t){e.feedback=t,e.feedbackOk=!1})},loadTypeParameters:function(e){var t=this;this.$http.get("/api/providerparams/"+e).then(function(e){t.task.provider.parameters=e.data}).catch(function(e){t.feedback=e,t.feedbackOk=!1})}},mounted:function(){this.loadProviderTypes()}},ae={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"content"},[n("core-panel",[n("h1",[e._v("Task"+e._s(null!=e.task.name?": "+e.task.name:""))]),e._v(" "),n("table",[n("tr",[n("td",[n("label",[e._v("Name")])]),e._v(" "),n("td",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.task.name,expression:"task.name"}],attrs:{type:"text",autocomplete:"off"},domProps:{value:e.task.name},on:{input:function(t){t.target.composing||e.$set(e.task,"name",t.target.value)}}})]),e._v(" "),n("td")]),e._v(" "),n("tr",[n("td",[n("label",[e._v("Description")])]),e._v(" "),n("td",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.task.description,expression:"task.description"}],attrs:{type:"text",autocomplete:"off"},domProps:{value:e.task.description},on:{input:function(t){t.target.composing||e.$set(e.task,"description",t.target.value)}}})]),e._v(" "),n("td")]),e._v(" "),n("tr",[n("td",[n("label",[e._v("Provider")])]),e._v(" "),n("td",[n("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedProvider,expression:"selectedProvider"}],on:{change:[function(t){var n=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.selectedProvider=t.target.multiple?n:n[0]},function(t){e.loadTypeParameters(e.selectedProvider)}]}},e._l(e.providerTypes,function(t){return n("option",{key:t.type,domProps:{value:t.type}},[e._v("\n                            "+e._s(t.label)+"\n                        ")])}))])])]),e._v(" "),n("div",{staticClass:"provider-parameters"},[n("h3",[e._v("Provider Parameters")]),e._v(" "),n("parameter-editor",{ref:"parameterEditor",attrs:{parameters:e.task.provider.parameters}})],1),e._v(" "),n("button-row",[n("p",{attrs:{slot:"right"},slot:"right"},[n("input-button",{staticClass:"right",attrs:{icon:"plus"},on:{clicked:function(t){e.addAction()}}})],1)])],1)],1)},staticRenderFns:[]};var re=n("VU/8")(ne,ae,!1,function(e){n("Dg2P")},"data-v-83060d08",null).exports,oe={name:"service-picker",components:{ServiceEditor:K,CorePanel:k,ModalDialog:x},props:["serviceCategory"],data:function(){return{services:[],feedback:"",feedbackOk:!0}},methods:{loadServices:function(){this.feedback="",this.feedbackOk=!0;var e=this;this.$http.get("/api/service/category/"+this.serviceCategory).then(function(t){for(var n=e.services.length;n>0;n--)e.services.pop();v()(t.data).forEach(function(t){e.services.push(t)}),e.services.sort(function(e,t){return e.localeCompare(t)})}).catch(function(t){e.feedback=t,e.feedbackOk=!1})}},mounted:function(){this.loadServices()}},ie={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("modal-dialog",[n("p",{attrs:{slot:"header"},slot:"header"},[e._v("Select Service")]),e._v(" "),n("p",{attrs:{slot:"body"},slot:"body"},[e._l(e.services,function(t){return n("div",{key:t.id,staticClass:"service-entry"},[n("div",{staticClass:"service-entry-name"},[e._v("\n                "+e._s(t.name)+"\n            ")])])})],2)])},staticRenderFns:[]};var se={name:"job-editor",components:{FeedbackPanel:W,ValidationError:U,ButtonRow:g,CoreContent:F,CoreContainer:V,ServicePicker:n("VU/8")(oe,ie,!1,function(e){n("i8Ds")},"data-v-662211d3",null).exports,CorePanel:k,InputButton:h,SpacerItem:p,TaskEditor:re},data:function(){return{newJob:!0,jobId:"",feedback:"",feedbackOk:!0,requestInProgress:!1,nameValidationError:"",triggerValidationError:"",cronTriggerIconClass:"",jobConfiguration:{id:"",trigger:"",description:"",active:!0,tasks:[]}}},methods:{loadJob:function(e){this.feedback="",this.feedbackOk=!0;var t=this;this.$http.get("/api/job/"+e).then(function(e){t.jobConfiguration=e.data}).catch(function(e){t.feedback=e,t.feedbackOk=!1})},saveConfiguration:function(){this.feedback="Saving...",this.requestInProgress=!0;var e=this;this.$http.post("/api/job",this.jobConfiguration).then(function(){e.feedback="Saved",e.feedbackOk=!0,e.requestInProgress=!1}).catch(function(t){e.feedback=t.response.data,e.feedbackOk=!1,e.requestInProgress=!1})},testConfiguration:function(){},addTask:function(){this.jobConfiguration.tasks.push({name:"",description:"",provider:{type:"",parameters:{}}})},validateInput:function(){},cancel:function(){this.$router.back()}},mounted:function(){this.jobId=this.$route.params.id,null!=this.jobId&&(this.newJob=!1,this.showConfiguration=!1,this.loadJob(this.jobId))}},ce={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("core-container",[n("spacer-item"),e._v(" "),n("core-content",[n("core-panel",[n("h1",[e._v(e._s(e.newJob?"New Job":"Edit Job"))]),e._v(" "),n("table",[n("tr",[n("td",[n("label",[e._v("Name")])]),e._v(" "),n("td",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.jobConfiguration.name,expression:"jobConfiguration.name"}],attrs:{type:"text",autocomplete:"off"},domProps:{value:e.jobConfiguration.name},on:{input:function(t){t.target.composing||e.$set(e.jobConfiguration,"name",t.target.value)}}})]),e._v(" "),n("td",[e.nameValidationError.length>0?n("validation-error",[e._v("\n                            "+e._s(e.nameValidationError)+"\n                        ")]):e._e()],1)]),e._v(" "),n("tr",[n("td",[n("label",{attrs:{for:"trigger-input"}},[e._v("Trigger")])]),e._v(" "),n("td",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.jobConfiguration.trigger,expression:"jobConfiguration.trigger"}],attrs:{id:"trigger-input",type:"text",autocomplete:"off"},domProps:{value:e.jobConfiguration.trigger},on:{input:function(t){t.target.composing||e.$set(e.jobConfiguration,"trigger",t.target.value)}}})]),e._v(" "),n("td",[e.triggerValidationError.length>0?n("div",{staticClass:"validation-error"},[e._v("\n                            "+e._s(e.triggerValidationError)+"\n                        ")]):e._e()])]),e._v(" "),n("tr",[n("td",[n("label",{attrs:{for:"description-input"}},[e._v("Description")])]),e._v(" "),n("td",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.jobConfiguration.description,expression:"jobConfiguration.description"}],attrs:{id:"description-input",type:"text",autocomplete:"off"},domProps:{value:e.jobConfiguration.description},on:{input:function(t){t.target.composing||e.$set(e.jobConfiguration,"description",t.target.value)}}})]),e._v(" "),n("td")]),e._v(" "),n("tr",[n("td",[n("label",[e._v("Active")])]),e._v(" "),n("td",[n("font-awesome-icon",{attrs:{icon:e.jobConfiguration.active?"check-square":"square"},on:{click:function(t){e.jobConfiguration.active=!e.jobConfiguration.active}}})],1),e._v(" "),n("td")])]),e._v(" "),n("button-row",[n("p",{attrs:{slot:"right"},slot:"right"},[n("input-button",{attrs:{icon:"plus"},on:{clicked:function(t){e.addTask()}}})],1)])],1),e._v(" "),e._l(e.jobConfiguration.tasks,function(e,t){return n("task-editor",{key:e,attrs:{task:e,index:t}})}),e._v(" "),n("core-panel",[n("feedback-panel",{attrs:{feedback:e.feedback,feedbackOk:e.feedbackOk,requestInProgress:e.requestInProgress}}),e._v(" "),n("button-row",[n("p",{attrs:{slot:"left"},slot:"left"},[n("input-button",{attrs:{icon:"times"},on:{clicked:function(t){e.cancel()}}})],1),e._v(" "),n("p",{attrs:{slot:"right"},slot:"right"},[n("input-button",{attrs:{icon:"plug"},on:{clicked:function(t){e.testConfiguration()}}}),e._v(" "),n("input-button",{attrs:{icon:"save"},on:{clicked:function(t){e.saveConfiguration()}}})],1)])],1)],2),e._v(" "),n("spacer-item")],1)},staticRenderFns:[]};var le=n("VU/8")(se,ce,!1,function(e){n("BwOu")},"data-v-6670801a",null).exports;a.a.use(c.a);var de=new c.a({routes:[{path:"/",name:"home",component:d},{path:"/services:saveResult?",name:"services",component:N,props:!0},{path:"/service-editor/:serviceId?",name:"service-editor",component:K,props:!0},{path:"/jobs",name:"jobs",component:te},{path:"/job-editor/:id?",name:"job-editor",component:le,props:!0}]}),ue=n("C/JF"),ve=n("U0v6"),fe=n("fhbW");ue.library.add(fe.a),a.a.component("font-awesome-icon",ve.FontAwesomeIcon),a.a.config.productionTip=!1,window.axios=n("mtWM"),window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest",a.a.prototype.$http=window.axios;var pe={debug:!0,feedback:{message:"",alert:!1},routeChanged:!1,setFeedback:function(e,t){this.debug&&console.log("setFeedback triggered with",e),this.feedback.message=e,this.feedback.alert=t,this.routeChanged=!1;var n=this;setTimeout(function(){n.clearFeedback()},5e3)},getFeedback:function(){return this.debug&&console.log("getFeedback triggered"),this.feedback},clearFeedback:function(){this.debug&&console.log("clearFeedback triggered"),this.feedback.message="",this.feedback.alert=!1,this.routeChanged=!1}};new a.a({el:"#app",data:{store:pe},router:de,components:{App:s},template:"<App/>"}),de.beforeEach(function(e,t,n){pe.routeChanged?pe.clearFeedback():pe.routeChanged=!0,n()})},OwlF:function(e,t){},Rbld:function(e,t){},"V90+":function(e,t){},gmBa:function(e,t){},i8Ds:function(e,t){},lrg1:function(e,t){},oW0u:function(e,t){},uo7b:function(e,t){},vAn3:function(e,t){},wsNZ:function(e,t){},zdQ3:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.43cbb470096d0f9f1ba6.js.map
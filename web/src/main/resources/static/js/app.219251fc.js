(function(t){function e(e){for(var o,r,s=e[0],c=e[1],l=e[2],d=0,f=[];d<s.length;d++)r=s[d],i[r]&&f.push(i[r][0]),i[r]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(t[o]=c[o]);u&&u(e);while(f.length)f.shift()();return a.push.apply(a,l||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],o=!0,s=1;s<n.length;s++){var c=n[s];0!==i[c]&&(o=!1)}o&&(a.splice(e--,1),t=r(r.s=n[0]))}return t}var o={},i={app:0},a=[];function r(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=o,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(n,o,function(e){return t[e]}.bind(null,o));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=e,s=s.slice();for(var l=0;l<s.length;l++)e(s[l]);var u=c;a.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"025b":function(t,e,n){"use strict";var o=n("0d7e"),i=n.n(o);i.a},"02c8":function(t,e,n){},"034f":function(t,e,n){"use strict";var o=n("64a9"),i=n.n(o);i.a},"039f":function(t,e,n){"use strict";var o=n("4836"),i=n.n(o);i.a},"0d7e":function(t,e,n){},1040:function(t,e,n){},1877:function(t,e,n){"use strict";var o=n("6434"),i=n.n(o);i.a},1944:function(t,e,n){"use strict";var o=n("883d"),i=n.n(o);i.a},"1e51":function(t,e,n){},"1ff1":function(t,e,n){"use strict";var o=n("8781"),i=n.n(o);i.a},2929:function(t,e,n){"use strict";var o=n("413f"),i=n.n(o);i.a},"2cdf":function(t,e,n){"use strict";var o=n("b779"),i=n.n(o);i.a},"3fb5":function(t,e,n){},"413f":function(t,e,n){},"46be":function(t,e,n){},"47ec":function(t,e,n){},4836:function(t,e,n){},"4ac1":function(t,e,n){},"54b1":function(t,e,n){"use strict";var o=n("61df"),i=n.n(o);i.a},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("097d");var o=n("a026"),i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("Navigation")],1)},a=[],r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("nav",[n("router-link",{attrs:{to:"/"}},[n("font-awesome-icon",{staticClass:"logo",attrs:{icon:"cog"}})],1),n("h1",[t._v(t._s(t.heading))])],1),n("router-view")],1)},s=[],c=(n("7f7f"),{name:"app-navigation",computed:{heading:function(){return"app-status"===this.$route.name?"Dashboard":"job-editor"===this.$route.name?"Job-Editor":"service-editor"===this.$route.name?"Service-Editor":"Undefined"}}}),l=c,u=(n("caff"),n("2877")),d=Object(u["a"])(l,r,s,!1,null,"37b07836",null),f=d.exports,p={name:"app",components:{Navigation:f}},h=p,v=(n("034f"),Object(u["a"])(h,i,a,!1,null,null,null)),g=v.exports,m=n("8c4f"),b=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("core-container",[n("side-menu",{staticClass:"side-menu-large"},[n("p",{attrs:{slot:"title"},slot:"title"},[t._v("Job Slots")]),t.runningJobs.length?n("p",{attrs:{slot:"content"},slot:"content"},[n("label",{staticClass:"list-label"},[t._v("Currently running jobs ("+t._s(this.runningJobs.length)+"/"+t._s(this.numSlots)+")")]),t._l(t.runningJobs,function(e,o){return n("feedback-box",{key:o,staticClass:"list-entry",on:{"feedback-clicked":function(n){t.openExecutionDetailsDialog(e)}}},[n("label",{attrs:{slot:"left"},slot:"left"},[t._v(t._s(t.formatName(e.jobName)))]),n("div",{attrs:{slot:"right"},slot:"right"},[n("label",[t._v(t._s(e.duration))]),n("input-button",{attrs:{slot:"right",icon:"times"},on:{clicked:function(n){t.openCancelJobDialog(e)}},slot:"right"})],1)])})],2):t._e(),0===t.runningJobs.length?n("label",{attrs:{slot:"content"},slot:"content"},[t._v("No jobs are currently running.")]):t._e(),t.waitingJobs.length?n("p",{attrs:{slot:"footer"},slot:"footer"},[n("label",{staticClass:"list-label"},[t._v("Waiting jobs")]),t._l(t.waitingJobs,function(e,o){return n("feedback-box",{key:o,staticClass:"list-entry",on:{"feedback-clicked":function(n){t.openExecutionDetailsDialog(e)}}},[n("label",{attrs:{slot:"left"},slot:"left"},[t._v(t._s(t.formatName(e.jobName)))]),n("div",{attrs:{slot:"right"},slot:"right"},[n("label",[t._v(t._s(e.duration))]),n("input-button",{attrs:{slot:"right",icon:"times"},on:{clicked:function(n){t.openCancelJobDialog(e)}},slot:"right"})],1)])})],2):t._e(),0===t.waitingJobs.length?n("label",{attrs:{slot:"footer"},slot:"footer"},[t._v("No jobs are currently waiting.")]):t._e()]),n("job-list",{staticClass:"core-content-normal",attrs:{"running-jobs":t.runningJobs,"waiting-jobs":t.waitingJobs}}),n("service-list",{staticClass:"core-content-normal"}),t.showExecutionDetailsDialog?n("job-execution-details",{attrs:{"job-execution":t.selectedJobExecution},on:{close:function(e){t.closeExecutionDetailsDialog()}}}):t._e(),t.showCancelJobDialog?n("modal-dialog",{on:{close:function(e){t.showCancelJobDialog=!1},cancel:function(e){t.showCancelJobDialog=!1}}},[n("h1",{attrs:{slot:"header"},slot:"header"},[t._v("Cancel job execution")]),n("p",{attrs:{slot:"body"},slot:"body"},[t._v("\n            Are you sure you want to cancel this execution of job '"+t._s(t.selectedJobExecutionListEntry.jobName)+"'?\n        ")]),n("layout-row",{attrs:{slot:"footer"},slot:"footer"},[n("input-button",{attrs:{slot:"left",icon:"times"},on:{clicked:function(e){t.showCancelJobDialog=!1}},slot:"left"}),n("input-button",{attrs:{slot:"right",icon:"check"},on:{clicked:function(e){t.cancelJobExecution()}},slot:"right"})],1)],1):t._e(),n("background-icon",{attrs:{right:"true","icon-one":"clipboard-list"}})],1)},y=[],k=n("774e"),C=n.n(k),x=(n("ac6a"),n("96cf"),n("3b8d")),_=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[t._t("default"),n("feedback-snackbar"),n("wip-window")],2)},w=[],j=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.feedback.message.length>0?n("transition",{attrs:{name:"snackbar"}},[n("div",{staticClass:"snackbar",class:{alert:t.feedback.alert,feedback:!t.feedback.alert}},[n("layout-row",[n("p",{attrs:{slot:"left"},slot:"left"},[t._v("\n                "+t._s(t.feedback.message)+"\n            ")]),n("input-button",{attrs:{slot:"right",icon:"times"},on:{clicked:t.clearFeedback},slot:"right"})],1)],1)]):t._e()},E=[],D=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"row",on:{click:function(e){t.$emit("clicked")}}},[n("div",{staticClass:"left"},[t._t("left")],2),n("div",{staticClass:"right"},[t._t("right")],2)])},T=[],J={name:"layout-row"},$=J,S=(n("1ff1"),Object(u["a"])($,D,T,!1,null,"1c810aa7",null)),R=S.exports,I=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:t.disabled?"disabled":"button",on:{click:function(e){e.stopPropagation(),t.fire()}}},[n("font-awesome-icon",{class:t.iconstyle,attrs:{icon:t.icon}})],1)},N=[],P={name:"input-button",props:["icon","disabled"],methods:{fire:function(){this.disabled||this.$emit("clicked")}},computed:{iconstyle:function(){return"eye"===this.icon||"clock"===this.icon||"cogs"===this.icon||"info"===this.icon?"minus-four":""}}},O=P,A=(n("5a49"),Object(u["a"])(O,I,N,!1,null,"e0b40940",null)),L=A.exports,F={name:"feedback-snackbar",components:{InputButton:L,LayoutRow:R},methods:{clearFeedback:function(){this.$root.$data.store.clearFeedback()}},computed:{feedback:function(){return this.$root.$data.store.getFeedback()}}},V=F,B=(n("9e88"),Object(u["a"])(V,j,E,!1,null,"793d60bd",null)),M=B.exports,U=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.wip.message.length>0?n("modal-dialog",[n("h1",{attrs:{slot:"footer"},slot:"footer"},[n("font-awesome-icon",{staticClass:"fa-spin",attrs:{icon:"spinner"}}),t._v(" "+t._s(t.wip.message))],1)]):t._e()},W=[],K=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"modal"}},[n("div",{staticClass:"modal-mask",on:{click:t.close}},[n("div",{staticClass:"modal-wrapper"},[n("div",{staticClass:"modal-container center",on:{click:function(t){t.stopPropagation()}}},[t.hasHeader?n("div",{staticClass:"modal-header"},[t._t("header")],2):t._e(),t.hasBody?n("div",{staticClass:"modal-body"},[t._t("body")],2):t._e(),t.hasFooter?n("div",{staticClass:"modal-footer"},[t._t("footer")],2):t._e()])])])])},q=[],H={name:"modal-dialog",methods:{close:function(){this.$emit("close")}},computed:{hasHeader:function(){return this.$slots.header},hasBody:function(){return this.$slots.body},hasFooter:function(){return this.$slots.footer}}},G=H,X=(n("cd95"),Object(u["a"])(G,K,q,!1,null,"92d89a08",null)),Y=X.exports,Z={name:"wip-window",components:{ModalDialog:Y},computed:{wip:function(){return this.$root.$data.store.getWip()}}},z=Z,Q=(n("2cdf"),Object(u["a"])(z,U,W,!1,null,"0fb666c8",null)),tt=Q.exports,et={name:"core-container",components:{WipWindow:tt,FeedbackSnackbar:M}},nt=et,ot=(n("8cba"),Object(u["a"])(nt,_,w,!1,null,"5bb71ac4",null)),it=ot.exports,at=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("core-content",{staticClass:"side-menu"},[n("core-panel",[n("h1",{staticClass:"no-margin"},[t._t("title")],2),n("div",{staticClass:"header sticky"},[t._t("header")],2),t.hasContentSlot?n("div",{staticClass:"content"},[t._t("content")],2):t._e(),n("div",{staticClass:"footer"},[t._t("footer")],2)])],1)},rt=[],st=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"content"},[t._t("default")],2)},ct=[],lt={name:"core-content"},ut=lt,dt=(n("a225"),Object(u["a"])(ut,st,ct,!1,null,"3d1f916e",null)),ft=dt.exports,pt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"panel",class:t.small?"core-panel-small":"core-panel-normal"},[t._t("default")],2)},ht=[],vt={name:"core-panel",props:["small"]},gt=vt,mt=(n("8016"),Object(u["a"])(gt,pt,ht,!1,null,"4a6ef05c",null)),bt=mt.exports,yt={name:"side-menu",components:{CorePanel:bt,CoreContent:ft},computed:{hasContentSlot:function(){return!!this.$slots["content"]}}},kt=yt,Ct=(n("602e"),Object(u["a"])(kt,at,rt,!1,null,"7ee73df5",null)),xt=Ct.exports,_t=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("core-content",[n("list-header",{attrs:{addButtonTarget:"job-editor",addButtonText:"Add Job",filter:t.filter,"filter-key":"job-list-filter"}},[n("p",{attrs:{slot:"title"},slot:"title"},[n("font-awesome-icon",{attrs:{icon:"toolbox"}}),t._v("\n            Available Jobs\n        ")],1)]),t._l(t.filteredJobs,function(e){return n("list-entry",{key:e.id,on:{clicked:function(n){t.editJob(e.id)}}},[n("list-name",{class:e.active?"":"inactive",attrs:{slot:"left"},slot:"left"},[t._v("\n            "+t._s(t.formatName(e.name))+"\n        ")]),n("p",{class:e.active?"":"inactive",attrs:{slot:"right"},slot:"right"},[n("input-button",{staticClass:"button-margin-right",attrs:{icon:"clone"},on:{clicked:function(n){t.duplicateJob(e.id)}}}),n("input-button",{staticClass:"button-margin-right",attrs:{icon:"trash-alt"},on:{clicked:function(n){t.openDeleteJobDialog(e.id,e.name)}}}),n("input-button",{attrs:{icon:"play",disabled:t.jobRunningOrWaiting(e.id)||!e.active},on:{clicked:function(n){t.openRunJobDialog(e.id,e.name)}}})],1)],1)}),t.showDeleteDialog?n("delete-job-dialog",{attrs:{"job-id":t.selectedJobId,"job-name":t.selectedJobName},on:{cancel:function(e){t.showDeleteDialog=!1},"delete-plus":function(e){t.deleteJob(!0)},delete:function(e){t.deleteJob(!1)}}}):t._e(),t.showRunDialog?n("modal-dialog",{on:{close:function(e){t.showRunDialog=!1},cancel:function(e){t.showRunDialog=!1}}},[n("h1",{attrs:{slot:"header"},slot:"header"},[t._v("Start job")]),n("p",{attrs:{slot:"body"},slot:"body"},[t._v("\n            Manually start job '"+t._s(t.selectedJobName)+"' now?\n        ")]),n("layout-row",{attrs:{slot:"footer"},slot:"footer"},[n("input-button",{attrs:{slot:"left",icon:"times"},on:{clicked:function(e){t.showRunDialog=!1}},slot:"left"}),n("input-button",{attrs:{slot:"right",icon:"check"},on:{clicked:function(e){t.runJob()}},slot:"right"})],1)],1):t._e()],2)},wt=[],jt=(n("6762"),n("2fdb"),n("55dd"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("core-panel",[n("h1",[t._t("title",[t._v("default title")])],2),n("layout-row",[n("div",{staticClass:"filter",attrs:{slot:"left"},slot:"left"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.filterText,expression:"filterText"}],attrs:{id:"filter-input",type:"text",placeholder:"filter list"},domProps:{value:t.filterText},on:{input:function(e){e.target.composing||(t.filterText=e.target.value)}}}),n("font-awesome-icon",{attrs:{icon:"search"}}),t.filterText.length>0?n("input-button",{staticClass:"button-margin-left",attrs:{icon:"times"},on:{clicked:function(e){t.filterText=""}}}):t._e()],1),n("p",{attrs:{slot:"right"},slot:"right"},[null!=t.addButtonTarget?n("router-link",{attrs:{to:t.addButtonTarget}},[n("input-button",{attrs:{icon:"plus"}})],1):t._e()],1)])],1)}),Et=[],Dt={name:"list-header",components:{CorePanel:bt,LayoutRow:R,InputButton:L},props:["filter","filterKey","addButtonText","addButtonTarget"],data:function(){return{filterText:""}},watch:{filterText:function(t){this.$root.$data.store.setValue(this.filterKey,t),this.filter(t)}},mounted:function(){var t=this;document.addEventListener("keydown",function(e){27===e.keyCode&&(t.filterText="")}),this.$root.$data.store.getValue(this.filterKey)&&(this.filterText=this.$root.$data.store.getValue(this.filterKey))}},Tt=Dt,Jt=(n("ebb7"),Object(u["a"])(Tt,jt,Et,!1,null,"98eeee4a",null)),$t=Jt.exports,St=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{on:{click:function(e){e.stopPropagation(),t.$emit("clicked")}}},[n("core-panel",{staticClass:"list-entry",attrs:{small:!0}},[n("layout-row",{staticClass:"list-row"},[t._t("left",null,{slot:"left"}),t._t("right",null,{slot:"right"})],2)],1)],1)},Rt=[],It={name:"list-entry",components:{LayoutRow:R,CorePanel:bt}},Nt=It,Pt=(n("8268"),Object(u["a"])(Nt,St,Rt,!1,null,"775b9316",null)),Ot=Pt.exports,At=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"list-name"},[t._t("default")],2)},Lt=[],Ft={name:"list-name"},Vt=Ft,Bt=(n("9dea"),Object(u["a"])(Vt,At,Lt,!1,null,"7d67c13a",null)),Mt=Bt.exports,Ut=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("modal-dialog",{on:{close:function(e){t.$emit("cancel")}}},[n("h1",{attrs:{slot:"header"},slot:"header"},[t._v("Delete Job?")]),n("div",{attrs:{slot:"body"},slot:"body"},[n("div",{staticClass:"paragraph"},[t._v("\n            Do you really want to delete job '"+t._s(t.jobName)+"'?\n        ")]),t.exclusiveServices.length>0?n("div",{staticClass:"paragraph"},[t._v("\n            The following services are only used by this job:\n            "),n("ul",{staticClass:"a"},t._l(t.exclusiveServices,function(e){return n("li",{key:e.key},[t._v("\n                    "+t._s(e.value)+"\n                ")])}),0)]):t._e(),t.exclusiveServices.length>0?n("div",{staticClass:"paragraph"},[t._v("\n            Delete unused services, too:\n            "),n("font-awesome-icon",{attrs:{icon:t.deleteServices?"check-square":"square"},on:{click:function(e){t.deleteServices=!t.deleteServices}}})],1):t._e()]),n("div",{attrs:{slot:"footer"},slot:"footer"},[n("layout-row",[n("input-button",{attrs:{slot:"left",icon:"times"},on:{clicked:function(e){t.$emit("cancel")}},slot:"left"}),n("input-button",{attrs:{slot:"right",icon:"check"},on:{clicked:function(e){t.deleteServices?t.$emit("delete-plus"):t.$emit("delete")}},slot:"right"})],1)],1)])},Wt=[],Kt={name:"delete-job-dialog",components:{InputButton:L,LayoutRow:R,ModalDialog:Y},props:["jobId","jobName"],data:function(){return{exclusiveServices:[],deleteServices:!1}},mounted:function(){var t=this;this.$http.get("/api/job/"+t.jobId+"/exclusive-service-references").then(function(e){t.exclusiveServices=C()(e.data)}).catch(function(e){t.$root.$data.store.setFeedback("Could not load unused services ("+e+")",!0)})}},qt=Kt,Ht=(n("039f"),Object(u["a"])(qt,Ut,Wt,!1,null,"01b64af7",null)),Gt=Ht.exports,Xt={getData:function(){var t=Object(x["a"])(regeneratorRuntime.mark(function t(e){var n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,window.axios.get(e);case 3:return n=t.sent,t.abrupt("return",n.data);case 7:t.prev=7,t.t0=t["catch"](0),t.t0.response.data?ao.setFeedback("Backend request failed! ("+t.t0.response.data+")",!0):ao.setFeedback("Backend request failed! ("+t.t0+")",!0);case 10:case"end":return t.stop()}},t,this,[[0,7]])}));function e(e){return t.apply(this,arguments)}return e}(),postData:function(){var t=Object(x["a"])(regeneratorRuntime.mark(function t(e,n,o,i,a){var r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return ao.setWip(o),t.prev=1,t.next=4,window.axios.post(e,n);case 4:return r=t.sent,ao.setFeedback(i,!1),t.abrupt("return",r.data);case 9:if(t.prev=9,t.t0=t["catch"](1),t.t0.response.data?ao.setFeedback(a+"("+t.t0.response.data+")",!0):ao.setFeedback(a+"("+t.t0+")",!0),"NAME_ALREADY_EXISTS_ERROR"!==t.t0.response.data){t.next=14;break}return t.abrupt("return",t.t0.response.data);case 14:return t.prev=14,ao.clearWip(),t.finish(14);case 17:case"end":return t.stop()}},t,this,[[1,9,14,17]])}));function e(e,n,o,i,a){return t.apply(this,arguments)}return e}(),putData:function(){var t=Object(x["a"])(regeneratorRuntime.mark(function t(e,n,o,i,a){var r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return ao.setWip(o),t.prev=1,t.next=4,window.axios.put(e,n);case 4:return r=t.sent,ao.setFeedback(i,!1),t.abrupt("return",r.data);case 9:t.prev=9,t.t0=t["catch"](1),t.t0.response.data?ao.setFeedback(a+"("+t.t0.response.data+")",!0):ao.setFeedback(a+"("+t.t0+")",!0);case 12:return t.prev=12,ao.clearWip(),t.finish(12);case 15:case"end":return t.stop()}},t,this,[[1,9,12,15]])}));function e(e,n,o,i,a){return t.apply(this,arguments)}return e}(),deleteData:function(){var t=Object(x["a"])(regeneratorRuntime.mark(function t(e,n,o,i){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return ao.setWip(n),t.next=3,window.axios.delete(e).then(function(){ao.setFeedback(o,!1)}).catch(function(t){t.response.data?ao.setFeedback(i+"("+t.response.data+")",!0):ao.setFeedback(i+"("+t+")",!0)}).finally(function(){ao.clearWip()});case 3:case"end":return t.stop()}},t,this)}));function e(e,n,o,i){return t.apply(this,arguments)}return e}()},Yt=(n("28a5"),{formatNameForSnackbar:function(t){for(var e=t.split(" "),n=0;n<e.length;n++)e[n].length>16&&(e[n]=t.substring(0,16)+"...");return e.join(" ")},formatNameForListEntry:function(t,e){return t.length>e?t.substring(0,e)+"...":t}}),Zt={name:"job-list",components:{LayoutRow:R,ModalDialog:Y,InputButton:L,DeleteJobDialog:Gt,ListName:Mt,ListEntry:Ot,ListHeader:$t,CoreContent:ft},props:["runningJobs","waitingJobs"],data:function(){return{jobs:[],filterText:"",showDeleteDialog:!1,showRunDialog:!1,selectedJobId:null,selectedJobName:null}},methods:{jobRunningOrWaiting:function(t){if(null!=this.runningJobs)for(var e=0;e<this.runningJobs.length;e++)if(t===this.runningJobs[e].jobId)return!0;if(null!=this.waitingJobs)for(var n=0;n<this.waitingJobs.length;n++)if(t===this.waitingJobs[n].jobId)return!0;return!1},loadJobs:function(){var t=this;Xt.getData("/api/job").then(function(e){for(var n=t.jobs.length;n>0;n--)t.jobs.pop();var o=t;C()(e).forEach(function(t){o.jobs.push(t)}),t.jobs.sort(function(t,e){return t.name.localeCompare(e.name)})})},filter:function(t){this.filterText=t},editJob:function(t){this.$router.push({name:"job-editor",params:{jobId:t}})},openDeleteJobDialog:function(t,e){this.selectedJobId=t,this.selectedJobName=e,this.showDeleteDialog=!0},openRunJobDialog:function(t,e){this.selectedJobId=t,this.selectedJobName=e,this.showRunDialog=!0},deleteJob:function(t){var e=this;this.showDeleteDialog=!1,Xt.deleteData("/api/job/"+this.selectedJobId+"?deleteExclusiveServices="+t,"Deleting job","Job '"+Yt.formatNameForSnackbar(this.selectedJobName)+"' has been deleted.","Job '"+Yt.formatNameForSnackbar(this.selectedJobName)+"' could not be deleted!").then(function(){e.loadJobs(),t&&e.$root.$emit("reload-services")})},duplicateJob:function(){var t=Object(x["a"])(regeneratorRuntime.mark(function t(e){var n,o;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Xt.getData("/api/job/"+e);case 2:for(n=t.sent,n.name="Copy of "+n.name,delete n.id,o=0;o<n.tasks.length;o++)delete n.tasks[o].id;this.$root.$data.store.setJobData(n,"-1_-1",-1,""),this.$router.push({name:"job-editor"});case 8:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),runJob:function(){var t=this;Xt.postData("/api/job/run/"+this.selectedJobId,null,"Starting job","Job '"+Yt.formatNameForSnackbar(this.selectedJobName)+"' started manually.","Job '"+Yt.formatNameForSnackbar(this.selectedJobName)+"' startup failed").then(function(){t.showRunDialog=!1})},formatName:function(t){return Yt.formatNameForListEntry(t,36)}},computed:{filteredJobs:function(){var t=this;return this.jobs.filter(function(e){return e.name.toLowerCase().includes(t.filterText.toLowerCase())})}},mounted:function(){var t=this;this.loadJobs(),this.$root.$on("reload-jobs",function(){t.loadJobs()})}},zt=Zt,Qt=Object(u["a"])(zt,_t,wt,!1,null,"9ef59ae2",null),te=Qt.exports,ee=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("core-content",[n("list-header",{attrs:{addButtonTarget:"service-editor",addButtonText:"Add Service",filter:t.filter,"filter-key":"service-list-filter"}},[n("p",{attrs:{slot:"title"},slot:"title"},[n("font-awesome-icon",{attrs:{icon:"cogs"}}),t._v("\n            Available Services\n        ")],1)]),t._l(t.filteredServices,function(e){return n("list-entry",{key:e.id,on:{clicked:function(n){t.editService(e.id)}}},[n("list-name",{class:e.used?"":"inactive",attrs:{slot:"left"},slot:"left"},[t._v("\n            "+t._s(t.formatName(e.name))+"\n        ")]),n("p",{class:e.used?"":"inactive",attrs:{slot:"right"},slot:"right"},[n("input-button",{staticClass:"button-margin-right",attrs:{icon:"clone"},on:{clicked:function(n){t.duplicateService(e.id)}}}),n("input-button",{attrs:{icon:"trash-alt"},on:{clicked:function(n){t.openDeleteServiceDialog(e.id,e.name)}}})],1)],1)}),t.showDeleteDialog?n("delete-service-dialog",{attrs:{"service-id":t.selectedServiceId,"service-name":t.selectedServiceName},on:{cancel:function(e){t.showDeleteDialog=!1},"delete-plus":function(e){t.deleteService(!0)},delete:function(e){t.deleteService(!1)}}}):t._e()],2)},ne=[],oe=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("modal-dialog",{on:{close:function(e){t.$emit("cancel")}}},[n("h1",{attrs:{slot:"header"},slot:"header"},[t._v("Delete Service?")]),n("div",{attrs:{slot:"body"},slot:"body"},[n("div",{staticClass:"paragraph"},[t._v("\n            Do you really want to delete service '"+t._s(t.serviceName.replace(" (unused)",""))+"'?\n        ")]),t.affectedJobs.length>0?n("div",{staticClass:"paragraph"},[t._v("\n            The following jobs are using this service and will not be working any more:\n            "),n("ul",{staticClass:"a"},t._l(t.affectedJobs,function(e){return n("li",{key:e.key},[t._v("\n                    "+t._s(e.value)+"\n                ")])}),0)]):t._e(),t.affectedJobs.length>0?n("div",{staticClass:"paragraph"},[t._v("\n            Delete affected jobs, too:\n            "),n("font-awesome-icon",{attrs:{icon:t.deleteJobs?"check-square":"square"},on:{click:function(e){t.deleteJobs=!t.deleteJobs}}})],1):t._e()]),n("div",{attrs:{slot:"footer"},slot:"footer"},[n("layout-row",[n("input-button",{attrs:{slot:"left",icon:"times"},on:{clicked:function(e){t.$emit("cancel")}},slot:"left"}),n("input-button",{attrs:{slot:"right",icon:"check"},on:{clicked:function(e){t.deleteJobs?t.$emit("delete-plus"):t.$emit("delete")}},slot:"right"})],1)],1)])},ie=[],ae={name:"delete-service-dialog",components:{InputButton:L,LayoutRow:R,ModalDialog:Y},props:["serviceId","serviceName"],data:function(){return{affectedJobs:[],deleteJobs:!1}},mounted:function(){var t=this;this.$http.get("/api/service/"+t.serviceId+"/job-references").then(function(e){t.affectedJobs=C()(e.data)}).catch(function(e){t.$root.$data.store.setFeedback("Could not load affected jobs ("+e+")",!0)})}},re=ae,se=(n("a7f1"),Object(u["a"])(re,oe,ie,!1,null,"798ae5df",null)),ce=se.exports,le={name:"service-list",components:{DeleteServiceDialog:ce,InputButton:L,ListName:Mt,ListEntry:Ot,CoreContent:ft,ListHeader:$t},props:["saveResult"],data:function(){return{services:[],filterText:"",showDeleteDialog:!1,selectedServiceId:null,selectedServiceName:null}},methods:{loadServices:function(){var t=this;Xt.getData("/api/service").then(function(e){for(var n=t.services.length;n>0;n--)t.services.pop();var o=t;C()(e).forEach(function(t){o.services.push(t)}),t.services.sort(function(t,e){return t.name.localeCompare(e.name)})})},filter:function(t){this.filterText=t},editService:function(t){this.$router.push({name:"service-editor",params:{serviceId:t}})},openDeleteServiceDialog:function(t,e){this.selectedServiceId=t,this.selectedServiceName=e,this.showDeleteDialog=!0},deleteService:function(t){var e=this;this.showDeleteDialog=!1,Xt.deleteData("/api/service/"+this.selectedServiceId+"?deleteAffectedJobs="+t,"Deleting service","Service '"+Yt.formatNameForSnackbar(this.selectedServiceName)+"' has been deleted.","Service '"+Yt.formatNameForSnackbar(this.selectedServiceName)+"' could not be deleted!").then(function(){e.loadServices(),t&&e.$root.$emit("reload-jobs")})},duplicateService:function(){var t=Object(x["a"])(regeneratorRuntime.mark(function t(e){var n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Xt.getData("/api/service/"+e);case 2:n=t.sent,n.name="Copy of "+n.name,delete n.id,this.$root.$data.store.setServiceData(n),this.$router.push({name:"service-editor"});case 7:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),formatName:function(t){return Yt.formatNameForListEntry(t,36)}},computed:{filteredServices:function(){var t=this;return this.services.filter(function(e){return e.name.toLowerCase().includes(t.filterText.toLowerCase())})}},mounted:function(){var t=this;this.loadServices(),this.$root.$on("reload-services",function(){t.loadServices()})}},ue=le,de=Object(u["a"])(ue,ee,ne,!1,null,"31ad91cd",null),fe=de.exports,pe=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.right?n("div",[null!=t.iconTwo?n("font-awesome-icon",{staticClass:"bi-right-left fa-6x",attrs:{icon:t.iconTwo}}):t._e(),n("font-awesome-icon",{staticClass:"bi-right fa-10x",attrs:{icon:t.iconOne}})],1):t._e(),t.left?n("div",[n("font-awesome-icon",{staticClass:"bi-left fa-10x",attrs:{icon:t.iconOne}})],1):t._e()])},he=[],ve={name:"background-icon",props:["iconOne","iconTwo","left","right"]},ge=ve,me=(n("843c"),Object(u["a"])(ge,pe,he,!1,null,"fd499228",null)),be=me.exports,ye=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("layout-row",{staticClass:"margin-bottom",class:{info:!t.alert,alert:t.alert},on:{clicked:function(e){t.$emit("feedback-clicked")}}},[t._t("left",null,{slot:"left"}),t._t("right",null,{slot:"right"})],2)},ke=[],Ce={name:"feedback-box",components:{LayoutRow:R},props:["alert"]},xe=Ce,_e=(n("f76c"),Object(u["a"])(xe,ye,ke,!1,null,"40db425c",null)),we=_e.exports,je=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("modal-dialog",[n("p",{attrs:{slot:"header"},slot:"header"},[n("layout-row",[n("h1",{attrs:{slot:"left"},slot:"left"},[t._v("Job Execution Details")]),n("input-button",{staticClass:"button-margin-right",attrs:{slot:"right",icon:"times"},on:{clicked:function(e){t.$emit("close")}},slot:"right"})],1)],1),n("div",{attrs:{slot:"body"},slot:"body"},[n("h2",[t._v("Time and state")]),n("table",{staticClass:"execution-core"},[n("tr",[n("td",[t._v("State")]),n("td",[t._v(t._s(t.jobExecution.executionState))])]),null==t.jobExecution.started?n("tr",[n("td",[t._v("Scheduled:")]),n("td",[t._v(t._s(t.formatDate(t.jobExecution.created)))])]):t._e(),null==t.jobExecution.started?n("tr",[n("td",[t._v("Waiting:")]),n("td",[t._v(t._s(t.calculateDuration(t.jobExecution.created,t.jobExecution.finished)))])]):t._e(),null!=t.jobExecution.started?n("tr",[n("td",[t._v("Started:")]),n("td",[t._v(t._s(t.formatDate(t.jobExecution.started)))])]):t._e(),null!=t.jobExecution.finished?n("tr",[n("td",[t._v("Finished:")]),n("td",[t._v(t._s(t.formatDate(t.jobExecution.finished)))])]):t._e(),null!=t.jobExecution.started?n("tr",[n("td",[t._v("Duration:")]),n("td",[t._v(t._s(t.calculateDuration(t.jobExecution.started,t.jobExecution.finished)))])]):t._e()]),""!=t.jobExecution.errorCause?n("div",[n("h2",[t._v("Error cause")]),n("pre",[n("code",[t._v(t._s(t.jobExecution.errorCause)+"\n  ")]),t._v("\n")])]):t._e()])])},Ee=[],De=(n("6b54"),n("f576"),n("0a0d")),Te=n.n(De),Je={name:"job-execution-details",props:["jobExecution"],components:{InputButton:L,LayoutRow:R,ModalDialog:Y},methods:{formatDate:function(t){var e={year:"numeric",month:"2-digit",day:"2-digit"},n=new Date(t);return n.toLocaleDateString(void 0,e)+" "+n.toLocaleTimeString()},calculateDuration:function(t,e){var n=new Date(t).getTime(),o=Te()();null!=e&&(o=new Date(e).getTime());var i=Math.floor((o-n)/1e3),a=Math.floor(i/3600)%24;i-=3600*a;var r=Math.floor(i/60)%60;i-=60*r;var s=Math.floor(i%60);return a.toString().padStart(2,"0")+":"+r.toString().padStart(2,"0")+":"+s.toString().padStart(2,"0")}}},$e=Je,Se=(n("54b1"),Object(u["a"])($e,je,Ee,!1,null,"2a684bb5",null)),Re=Se.exports,Ie={name:"app-status",components:{JobExecutionDetails:Re,ModalDialog:Y,FeedbackBox:we,InputButton:L,BackgroundIcon:be,ServiceList:fe,JobList:te,LayoutRow:R,SideMenu:xt,CoreContainer:it},data:function(){return{numSlots:0,runningJobs:[],waitingJobs:[],jobExecutionsListRefreshTimer:null,jobExecutionDetailsRefreshTimer:null,showCancelJobDialog:!1,showExecutionDetailsDialog:!1,selectedJobExecutionListEntry:null,selectedJobExecution:null,selectedJobExecutionId:null}},methods:{loadNumSlots:function(){var t=Object(x["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Xt.getData("/api/execution/numSlots");case 2:this.numSlots=t.sent;case 3:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),loadRunningJobs:function(){var t=this;Xt.getData("/api/execution/RUNNING").then(function(e){for(var n=t.runningJobs.length;n>0;n--)t.runningJobs.pop();var o=t;C()(e).forEach(function(t){o.runningJobs.push(t)})})},loadWaitingJobs:function(){var t=this;Xt.getData("/api/execution/WAITING").then(function(e){for(var n=t.waitingJobs.length;n>0;n--)t.waitingJobs.pop();var o=t;C()(e).forEach(function(t){o.waitingJobs.push(t)})})},openExecutionDetailsDialog:function(){var t=Object(x["a"])(regeneratorRuntime.mark(function t(e){var n=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.selectedJobExecutionId=e.id,t.next=3,Xt.getData("/api/execution/details/"+this.selectedJobExecutionId);case 3:this.selectedJobExecution=t.sent,this.showExecutionDetailsDialog=!0,this.jobExecutionDetailsRefreshTimer=setInterval(function(){n.updateJobExectuionDetails()},1e3);case 6:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),closeExecutionDetailsDialog:function(){clearTimeout(this.jobExecutionDetailsRefreshTimer),this.showExecutionDetailsDialog=!1},updateJobExectuionDetails:function(){var t=this;Xt.getData("/api/execution/details/"+this.selectedJobExecutionId).then(function(e){t.selectedJobExecution=e})},openCancelJobDialog:function(t){this.selectedJobExecutionListEntry=t,this.showCancelJobDialog=!0},cancelJobExecution:function(){var t=this;this.showCancelJobDialog=!1,clearTimeout(this.jobExecutionsListRefreshTimer),Xt.postData("/api/execution/"+this.selectedJobExecutionListEntry.id+"/cancel",null,"Cancelling job","Job cancelled.","Job could not be cancelled!").then(function(){for(var e=0;e<t.runningJobs.length;e++)if(t.runningJobs[e].id===t.selectedJobExecutionListEntry.id){t.$delete(t.runningJobs,e);break}t.jobExecutionsListRefreshTimer=setInterval(function(){t.loadNumSlots(),t.loadRunningJobs(),t.loadWaitingJobs()},1e3)})},formatName:function(t){return Yt.formatNameForListEntry(t,27)}},mounted:function(){var t=this;this.$root.$data.store.clearServiceData(),this.$root.$data.store.clearJobData(),this.loadNumSlots().then(function(){t.loadRunningJobs(),t.loadWaitingJobs(),t.jobExecutionsListRefreshTimer=setInterval(function(){t.loadNumSlots(),t.loadRunningJobs(),t.loadWaitingJobs()},1e3)})}},Ne=Ie,Pe=(n("1944"),Object(u["a"])(Ne,b,y,!1,null,"7e335e9a",null)),Oe=Pe.exports,Ae=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("core-container",[n("side-menu",{staticClass:"side-menu-small"},[n("p",{attrs:{slot:"title"},slot:"title"},[t._v("Service Configuration")]),n("layout-row",{attrs:{slot:"header"},slot:"header"},[n("p",{attrs:{slot:"left"},slot:"left"},[n("input-button",{staticClass:"button-margin-right",attrs:{icon:"arrow-left"},on:{clicked:function(e){t.cancelConfiguration()}}}),n("input-button",{staticClass:"button-margin-right",attrs:{icon:"plug"},on:{clicked:function(e){t.testConfiguration()}}}),n("input-button",{attrs:{icon:"save"},on:{clicked:function(e){t.saveConfiguration()}}})],1)])],1),n("core-content",[n("core-panel",[n("h1",[n("font-awesome-icon",{attrs:{icon:"cogs"}}),t._v("\n                "+t._s(t.serviceConfiguration.name.length>0?t.serviceConfiguration.name:"Unnamed Service")+"\n            ")],1),n("table",[n("tr",[n("td",[n("label",[t._v("Name")])]),n("td",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.serviceConfiguration.name,expression:"serviceConfiguration.name"}],attrs:{type:"text",autocomplete:"off"},domProps:{value:t.serviceConfiguration.name},on:{input:function(e){e.target.composing||t.$set(t.serviceConfiguration,"name",e.target.value)}}})]),n("td",[t.nameValidationError.length>0?n("validation-error",[t._v("\n                            "+t._s(t.nameValidationError)+"\n                        ")]):t._e()],1)]),n("tr",[n("td",[n("label",{attrs:{for:"category-input"}},[t._v("Category")])]),n("td",[n("select",{directives:[{name:"model",rawName:"v-model",value:t.serviceConfiguration.category,expression:"serviceConfiguration.category"}],attrs:{id:"category-input",disabled:!t.newService},on:{change:[function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.$set(t.serviceConfiguration,"category",e.target.multiple?n:n[0])},function(e){t.loadTypesOfCategory(t.serviceConfiguration.category.key,!0).then(function(){t.loadParametersOfType(t.serviceConfiguration.type.key)})}]}},t._l(t.serviceCategories,function(e){return n("option",{key:e.key,domProps:{value:e}},[t._v("\n                                "+t._s(e.label)+"\n                            ")])}),0)]),n("td")]),n("tr",[n("td",[n("label",{attrs:{for:"type-input"}},[t._v("Type")])]),n("td",[n("select",{directives:[{name:"model",rawName:"v-model",value:t.serviceConfiguration.type,expression:"serviceConfiguration.type"}],attrs:{id:"type-input",disabled:!t.newService},on:{change:[function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.$set(t.serviceConfiguration,"type",e.target.multiple?n:n[0])},function(e){t.loadParametersOfType(t.serviceConfiguration.type.key)}]}},t._l(t.serviceTypes,function(e){return n("option",{key:e.key,domProps:{value:e}},[t._v("\n                                "+t._s(e.label)+"\n                            ")])}),0)]),n("td")])])]),n("core-panel",[n("h2",[t._v("Service Parameters")]),Object.keys(t.serviceConfiguration.parameters).length>0?n("parameter-editor",{ref:"parameterEditor",attrs:{parameters:t.serviceConfiguration.parameters}}):t._e(),0==Object.keys(t.serviceConfiguration.parameters).length?n("p",[t._v("\n                This service has no parameters to configure.\n            ")]):t._e()],1),t.showUnsavedValuesExistDialog?n("modal-dialog",{on:{close:function(e){t.showUnsavedValuesExistDialog=!1}}},[n("h1",{attrs:{slot:"header"},slot:"header"},[t._v("Unsaved configuration")]),n("p",{attrs:{slot:"body"},slot:"body"},[t._v("There are unsaved configuration changes."),n("br"),n("br"),t._v("Do you really want to leave?")]),n("div",{attrs:{slot:"footer"},slot:"footer"},[n("layout-row",[n("input-button",{attrs:{slot:"left",icon:"times"},on:{clicked:function(e){t.showUnsavedValuesExistDialog=!1}},slot:"left"}),n("input-button",{attrs:{slot:"right",icon:"check"},on:{clicked:function(e){t.nextRoute()}},slot:"right"})],1)],1)]):t._e()],1),n("background-icon",{attrs:{right:"true","icon-one":"cogs"}})],1)},Le=[],Fe=n("f499"),Ve=n.n(Fe),Be=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("table",[t._l(t.parameters,function(e,o){return[n("tr",{directives:[{name:"show",rawName:"v-show",value:t.showAdvancedParameters&&t.isAdvancedParameter(e)||!t.isAdvancedParameter(e),expression:"(showAdvancedParameters && isAdvancedParameter(param)) || !isAdvancedParameter(param)"}],key:e.name},[n("td",{staticClass:"text-top"},[e.optional?n("label",[t._v(t._s(t.formatParameterName(e.name)))]):t._e(),e.optional?t._e():n("label",[t._v(t._s(t.formatParameterName(e.name))+"*")])]),n("td",[t.isNumber(e.type)?n("input",{directives:[{name:"model",rawName:"v-model.number",value:e.value,expression:"param.value",modifiers:{number:!0}}],attrs:{type:"text",autocomplete:"off"},domProps:{value:e.value},on:{input:function(n){n.target.composing||t.$set(e,"value",t._n(n.target.value))},blur:function(e){t.$forceUpdate()}}}):t.isBoolean(e.type)?n("font-awesome-icon",{attrs:{icon:e.value?"check-square":"square"},on:{click:function(t){e.value=!e.value}}}):t.isService(e)?n("input",{directives:[{name:"model",rawName:"v-model",value:e.serviceName,expression:"param.serviceName"}],attrs:{disabled:!0},domProps:{value:e.serviceName},on:{input:function(n){n.target.composing||t.$set(e,"serviceName",n.target.value)}}}):"MULTI_LINE"===e.subtype?n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"param.value"}],attrs:{rows:"8",cols:"41"},domProps:{value:e.value},on:{input:function(n){n.target.composing||t.$set(e,"value",n.target.value)}}}):n("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.value,expression:"param.value",modifiers:{trim:!0}}],attrs:{autocomplete:"off",type:t.parameterInputTypes[o]},domProps:{value:e.value},on:{input:function(n){n.target.composing||t.$set(e,"value",n.target.value.trim())},blur:function(e){t.$forceUpdate()}}}),t.isNumber(e.type)||t.isBoolean(e.type)||!e.secured?t.isService(e)?n("input-button",{staticClass:"button-margin-left",attrs:{icon:"cogs"},on:{clicked:function(n){t.openServicePicker(o,e.type)}}}):"CRON"===e.subtype?n("input-button",{staticClass:"button-margin-left",attrs:{icon:"clock"},on:{clicked:function(e){t.openCronPicker(o)}}}):t._e():n("input-button",{staticClass:"button-margin-left",attrs:{icon:"eye"},on:{clicked:function(e){t.toggleCleartext(o)}}})],1),n("td",[t.checkValidationError(o)?n("validation-error",[t._v("\n            "+t._s(t.parameterValidationErrors[o])+"\n          ")]):t._e()],1)])]}),t.advancedParametersExist()?n("tr",[n("td",{attrs:{colspan:"2"}},[n("font-awesome-icon",{staticClass:"arrow",attrs:{icon:t.showAdvancedParameters?"chevron-up":"chevron-down"},on:{click:function(e){t.showAdvancedParameters=!t.showAdvancedParameters}}})],1)]):t._e()],2),n("service-picker",{directives:[{name:"show",rawName:"v-show",value:t.showServicePicker,expression:"showServicePicker"}],attrs:{services:t.services},on:{cancel:function(e){t.showServicePicker=!1},create:t.createService,selected:t.setSelectedService}}),n("cron-picker",{directives:[{name:"show",rawName:"v-show",value:t.showCronPicker,expression:"showCronPicker"}],on:{selected:t.setCronExpression,cancel:function(e){t.showCronPicker=!1}}})],1)},Me=[],Ue=(n("a481"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"error"},[t._t("default")],2)}),We=[],Ke={name:"validation-error"},qe=Ke,He=(n("1877"),Object(u["a"])(qe,Ue,We,!1,null,"458ebd46",null)),Ge=He.exports,Xe=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("modal-dialog",[n("h1",{attrs:{slot:"header"},slot:"header"},[t._v("Select Service")]),n("div",{attrs:{slot:"body"},slot:"body"},[n("table",[null==t.services||0===t.services.length?n("tr",[n("td",[t._v("No service of the required category is available. Please create a new service with the button on the right below.")])]):t._e(),t._l(t.services,function(e){return n("tr",{key:e.id},[n("td",{staticClass:"first"},[t._v("\n            "+t._s(e.name)+"\n          ")]),n("td",{staticClass:"last"},[n("input-button",{attrs:{icon:"crosshairs"},on:{clicked:function(n){t.$emit("selected",e)}}})],1)])})],2)]),n("layout-row",{attrs:{slot:"footer"},slot:"footer"},[n("input-button",{attrs:{slot:"left",icon:"times"},on:{clicked:function(e){t.$emit("cancel")}},slot:"left"}),n("input-button",{attrs:{slot:"right",icon:"plus"},on:{clicked:function(e){t.$emit("create")}},slot:"right"})],1)],1)},Ye=[],Ze={name:"service-picker",components:{InputButton:L,LayoutRow:R,ModalDialog:Y},props:["services"],data:function(){return{feedback:"",feedbackOk:!0}}},ze=Ze,Qe=(n("c62d"),Object(u["a"])(ze,Xe,Ye,!1,null,"bdc8eb22",null)),tn=Qe.exports,en=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("modal-dialog",[n("h1",{attrs:{slot:"header"},slot:"header"},[t._v("Example CRON Expressions")]),n("div",{attrs:{slot:"body"},slot:"body"},[n("table",[n("tr",[n("td",[t._v('"0 0 * * * *"')]),n("td",[t._v("The top of every hour of every day.")]),n("td",{staticClass:"last"},[n("input-button",{attrs:{icon:"crosshairs"},on:{clicked:function(e){t.$emit("selected","0 0 * * * *")}}})],1)]),n("tr",[n("td",[t._v('"*/10 * * * * *"')]),n("td",[t._v("Every ten seconds.")]),n("td",{staticClass:"last"},[n("input-button",{attrs:{icon:"crosshairs"},on:{clicked:function(e){t.$emit("selected","*/10 * * * * *")}}})],1)]),n("tr",[n("td",[t._v('"0 */15 * * * *"')]),n("td",[t._v("Once every fifteen minutes.")]),n("td",{staticClass:"last"},[n("input-button",{attrs:{icon:"crosshairs"},on:{clicked:function(e){t.$emit("selected","0 */15 * * * *")}}})],1)]),n("tr",[n("td",[t._v('"0 0 8,10 * * *"')]),n("td",[t._v("8 and 10 o'clock of every day.")]),n("td",{staticClass:"last"},[n("input-button",{attrs:{icon:"crosshairs"},on:{clicked:function(e){t.$emit("selected","0 0 8,10 * * *")}}})],1)]),n("tr",[n("td",[t._v('"0 0/30 8-10 * * *"')]),n("td",[t._v("8:00, 8:30, 9:00, 9:30 and 10 o'clock every day.")]),n("td",{staticClass:"last"},[n("input-button",{attrs:{icon:"crosshairs"},on:{clicked:function(e){t.$emit("selected","0 0/30 8-10 * * *")}}})],1)]),n("tr",[n("td",[t._v('"0 0 9-17 * * MON-FRI"')]),n("td",[t._v("On the hour nine-to-five weekdays")]),n("td",{staticClass:"last"},[n("input-button",{attrs:{icon:"crosshairs"},on:{clicked:function(e){t.$emit("selected","0 0 9-17 * * MON-FRI")}}})],1)]),n("tr",[n("td",[t._v('"0 0 0 25 12 ?"')]),n("td",[t._v("Every Christmas Day at midnight.")]),n("td",{staticClass:"last"},[n("input-button",{attrs:{icon:"crosshairs"},on:{clicked:function(e){t.$emit("selected","0 0 0 25 12 ?")}}})],1)])])]),n("layout-row",{attrs:{slot:"footer"},slot:"footer"},[n("input-button",{attrs:{slot:"left",icon:"times"},on:{clicked:function(e){t.$emit("cancel")}},slot:"left"})],1)],1)},nn=[],on={name:"cron-picker",components:{LayoutRow:R,InputButton:L,ModalDialog:Y}},an=on,rn=(n("9019"),Object(u["a"])(an,en,nn,!1,null,"53926aea",null)),sn=rn.exports,cn={name:"parameter-editor",components:{CronPicker:sn,ServicePicker:tn,InputButton:L,ValidationError:Ge},props:["parameters"],data:function(){return{validationOk:!0,showServicePicker:!1,showCronPicker:!1,showAdvancedParameters:!1,serviceParameterIndex:0,serviceParameterCategory:null,cronParameterIndex:0,parameterValidationErrors:[],parameterInputTypes:[],services:[]}},events:{"validate-input":function(){this.validateInput()}},methods:{isNumber:function(t){var e="int"===t||"java.lang.Integer"===t||"long"===t||"java.lang.Long"===t;return e},isBoolean:function(t){var e="boolean"===t||"java.lang.Boolean"===t;return e},isService:function(t){return!!t.service},formatParameterName:function(t){return t=t.replace(/\.?([A-Z])/g,function(t,e){return" "+e.toLowerCase()}).replace(/^_/,""),t.charAt(0).toUpperCase()+t.slice(1)},validateInput:function(){for(var t=this.parameterValidationErrors.length;t>0;t--)this.parameterValidationErrors[t]="";var e=this;return this.parameters.forEach(function(t,n){e.parameterValidationErrors[n]=""}),this.parameters.forEach(function(t,n){t.optional&&null==t.value&&(t.value=""),t.optional||null!=t.value&&""!==t.value||(e.parameterValidationErrors[n]="Value required",e.validationOk=!1)}),this.$forceUpdate(),!!e.validationOk||(e.validationOk=!0,!1)},checkValidationError:function(t){return"undefined"===typeof this.parameterValidationErrors[t]&&(this.parameterValidationErrors[t]=""),this.parameterValidationErrors[t].length>0},toggleCleartext:function(t){"password"===this.parameterInputTypes[t]?this.$set(this.parameterInputTypes,t,"text"):this.$set(this.parameterInputTypes,t,"password")},openServicePicker:function(t,e){var n=this;n.serviceParameterCategory=e,this.$http.get("/api/service/category/"+e).then(function(e){for(var o=n.services.length;o>0;o--)n.services.pop();C()(e.data).forEach(function(t){n.services.push(t)}),n.services.sort(function(t,e){return t.name.localeCompare(e.name)}),n.serviceParameterIndex=t,n.showServicePicker=!0}).catch(function(t){n.$root.$data.store.setFeedback("Services could not be loaded: "+t,!0)})},setSelectedService:function(t){this.parameters[this.serviceParameterIndex].serviceName=t.name,this.parameters[this.serviceParameterIndex].value=t.id,this.showServicePicker=!1},createService:function(){this.$emit("create-service",this.serviceParameterIndex,this.serviceParameterCategory)},openCronPicker:function(t){this.cronParameterIndex=t,this.showCronPicker=!0},setCronExpression:function(t){this.parameters[this.cronParameterIndex].value=t,this.showCronPicker=!1},isAdvancedParameter:function(t){return"dataKey"===t.name||"numThreads"===t.name||"directoryKey"===t.name||t.optional},advancedParametersExist:function(){for(var t=0;t<this.parameters.length;t++)if(this.isAdvancedParameter(this.parameters[t]))return!0;return!1}},created:function(){var t=this;for(var e in this.parameters){var n=this.parameters[e];t.isNumber(n.type)||t.isBoolean(n.type)||(n.secured?t.$set(t.parameterInputTypes,e,"password"):t.$set(t.parameterInputTypes,e,"text"))}}},ln=cn,un=(n("025b"),Object(u["a"])(ln,Be,Me,!1,null,"0c535a16",null)),dn=un.exports,fn={name:"service-editor",components:{ModalDialog:Y,BackgroundIcon:be,SideMenu:xt,ValidationError:Ge,LayoutRow:R,CoreContent:ft,CoreContainer:it,CorePanel:bt,InputButton:L,ParameterEditor:dn},props:["serviceId"],data:function(){return{newService:!0,serviceCategories:[],serviceTypes:[],nameValidationError:"",loadParameters:!0,originalServiceConfiguration:null,serviceConfiguration:{name:"",category:{},type:{},parameters:{}},showUnsavedValuesExistDialog:!1,nextRoute:null}},methods:{loadService:function(){var t=Object(x["a"])(regeneratorRuntime.mark(function t(e){var n=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Xt.getData("/api/service/"+e).then(function(t){n.serviceConfiguration=t,n.serviceCategories.push(n.serviceConfiguration.category),n.serviceTypes.push(n.serviceConfiguration.type),n.newService=!1});case 2:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),loadCategories:function(){var t=Object(x["a"])(regeneratorRuntime.mark(function t(e){var n=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Xt.getData("/api/category/service").then(function(t){for(var o=n.serviceCategories.length;o>0;o--)n.serviceCategories.pop();var i=n;C()(t).forEach(function(t){e?t.key===e&&i.serviceCategories.push(t):i.serviceCategories.push(t)}),"key"in n.serviceConfiguration.category||(n.serviceConfiguration.category=n.serviceCategories[0])});case 2:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),loadTypesOfCategory:function(){var t=Object(x["a"])(regeneratorRuntime.mark(function t(e,n){var o=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Xt.getData("/api/type/service/"+e).then(function(t){for(var e=o.serviceTypes.length;e>0;e--)o.serviceTypes.pop();var i=o;C()(t).forEach(function(t){i.serviceTypes.push(t)}),n&&(o.serviceConfiguration.type=o.serviceTypes[0])});case 2:case"end":return t.stop()}},t,this)}));function e(e,n){return t.apply(this,arguments)}return e}(),loadParametersOfType:function(){var t=Object(x["a"])(regeneratorRuntime.mark(function t(e){var n=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Xt.getData("/api/parameters/service/"+e).then(function(t){n.serviceConfiguration.parameters=t});case 2:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),testConfiguration:function(){var t=Object(x["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.validateInput();case 2:if(t.sent){t.next=4;break}return t.abrupt("return");case 4:Xt.postData("/api/service/test",this.serviceConfiguration,"Testing service","Test OK.","Testing Failed!");case 5:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),saveConfiguration:function(){var t=Object(x["a"])(regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.validateInput();case 2:if(t.sent){t.next=4;break}return t.abrupt("return");case 4:this.newService?Xt.postData("/api/service",this.serviceConfiguration,"Saving service","Service '"+Yt.formatNameForSnackbar(this.serviceConfiguration.name)+"' saved.","Saving failed!").then(function(t){if("NAME_ALREADY_EXISTS_ERROR"===t)e.nameValidationError="A service with this name already exists!";else{e.serviceConfiguration=t,e.newService=!1,e.originalServiceConfiguration=Ve()(e.serviceConfiguration),e.$router.push({name:"service-editor",params:{serviceId:e.serviceConfiguration.id}});var n=e.$root.$data.store.getJobData();if(null!=n.jobConfiguration){var o={name:e.serviceConfiguration.name,id:e.serviceConfiguration.id};n.serviceParameter=o}}}):Xt.putData("/api/service",this.serviceConfiguration,"Saving service","Service '"+Yt.formatNameForSnackbar(this.serviceConfiguration.name)+"' updated.","Saving failed!").then(function(){e.originalServiceConfiguration=Ve()(e.serviceConfiguration)});case 5:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),cancelConfiguration:function(){var t=this.$root.$data.store.getJobData();null!=t.jobConfiguration?this.$router.push({name:"job-editor"}):this.$router.push({name:"app-status"})},validateInput:function(){var t=Object(x["a"])(regeneratorRuntime.mark(function t(){var e,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(this.nameValidationError="",null!=this.serviceConfiguration.name&&""!==this.serviceConfiguration.name){t.next=5;break}this.nameValidationError="Name must be set",t.next=9;break;case 5:return t.next=7,Xt.getData("/api/service/check/"+this.serviceConfiguration.name+"/"+(void 0===this.serviceConfiguration.id?-1:this.serviceConfiguration.id));case 7:e=t.sent,!0===e&&(this.nameValidationError="A service with this name already exists!");case 9:return n=!0,"undefined"!==typeof this.$refs.parameterEditor&&(n=this.$refs.parameterEditor.validateInput()),t.abrupt("return",0===this.nameValidationError.length&&n);case 12:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},mounted:function(){var t=this,e=this.$root.$data.store.getServiceData();if(null!=e.serviceConfiguration)this.serviceConfiguration=e.serviceConfiguration,this.loadCategories(null).then(function(){t.loadTypesOfCategory(t.serviceConfiguration.category.key,!1)}),this.originalServiceConfiguration=Ve()(e.serviceConfiguration);else if(null!=this.serviceId)this.loadService(this.serviceId).then(function(){t.originalServiceConfiguration=Ve()(t.serviceConfiguration)});else{var n=this.$root.$data.store.getJobData();if(null!=n.serviceCategory){var o=this;this.loadCategories(n.serviceCategory).then(function(){o.loadTypesOfCategory(o.serviceConfiguration.category.key,!0).then(function(){o.loadParametersOfType(o.serviceConfiguration.type.key).then(function(){o.originalServiceConfiguration=Ve()(o.serviceConfiguration)})})})}else{var i=this;this.loadCategories(null).then(function(){i.loadTypesOfCategory(i.serviceConfiguration.category.key,!0).then(function(){i.loadParametersOfType(i.serviceConfiguration.type.key).then(function(){i.originalServiceConfiguration=Ve()(i.serviceConfiguration)})})})}}},beforeRouteLeave:function(t,e,n){if(this.originalServiceConfiguration){var o=Ve()(this.serviceConfiguration);if(this.originalServiceConfiguration!==o)return this.nextRoute=n,void(this.showUnsavedValuesExistDialog=!0)}n()}},pn=fn,hn=Object(u["a"])(pn,Ae,Le,!1,null,"7d424258",null),vn=hn.exports,gn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("core-container",[t.jobConfiguration?n("side-menu",{staticClass:"side-menu-large"},[n("p",{attrs:{slot:"title"},slot:"title"},[t._v("Job Configuration")]),n("layout-row",{attrs:{slot:"header"},on:{"cancel-configuration":t.cancelConfiguration},slot:"header"},[n("p",{attrs:{slot:"left"},slot:"left"},[n("input-button",{staticClass:"button-margin-right",attrs:{icon:"arrow-left"},on:{clicked:t.cancelConfiguration}}),n("input-button",{staticClass:"button-margin-right",attrs:{icon:"plug"},on:{clicked:t.testConfiguration}}),n("input-button",{attrs:{icon:"save"},on:{clicked:t.saveConfiguration}})],1),n("p",{attrs:{slot:"right"},slot:"right"},[n("input-button",{staticClass:"button-margin-left",attrs:{icon:"play",disabled:t.jobRunning||null==t.jobConfiguration.id||!t.jobConfiguration.active},on:{clicked:function(e){t.showRunDialog=!0}}})],1)]),n("job-tree-navigation",{attrs:{slot:"content","job-configuration":t.jobConfiguration,"validation-errors":t.validationErrors,"selected-task-index":t.selectedTaskIndex,"selected-action-index":t.selectedActionIndex},on:{"job-is-selected":t.selectJob,"task-is-selected":t.selectTask,"action-is-selected":t.selectAction,"add-task":t.addTask,"duplicate-task":t.duplicateTask,"delete-task":t.showDeleteTask,"add-action":t.addAction,"delete-action":t.showDeleteAction,"move-task-up":t.moveTaskUp,"move-task-down":t.moveTaskDown,"move-action-up":t.moveActionUp,"move-action-down":t.moveActionDown},slot:"content"}),n("p",{attrs:{slot:"footer"},slot:"footer"},t._l(t.jobExecutions,function(e,o){return n("feedback-box",{key:o,staticClass:"list-entry",attrs:{alert:"FAILED"===e.state},on:{"feedback-clicked":function(n){t.openExecutionDetailsDialog(e)}}},[n("label",{attrs:{slot:"left"},slot:"left"},[t._v(t._s(t.formatJobExecution(e)))]),n("div",{attrs:{slot:"right"},slot:"right"},["WAITING"===e.state||"RUNNING"===e.state?n("input-button",{attrs:{slot:"right",icon:"times"},on:{clicked:function(n){t.openCancelJobDialog(e)}},slot:"right"}):t._e()],1)])}),1)],1):t._e(),t.jobConfiguration?n("core-content",[n("job-configurator",{directives:[{name:"show",rawName:"v-show",value:-1==t.selectedTaskIndex,expression:"selectedTaskIndex == -1"}],ref:"jobConfigurator",attrs:{"job-configuration":t.jobConfiguration},on:{"update-original-job-configuration":function(e){t.updateOriginalJobConfiguration()}}}),t._l(t.jobConfiguration.tasks,function(e,o){return n("task-configurator",{directives:[{name:"show",rawName:"v-show",value:t.selectedTaskIndex==o&&-1==t.selectedActionIndex,expression:"selectedTaskIndex == taskIndex && selectedActionIndex == -1"}],key:o,ref:"taskConfigurators",refInFor:!0,attrs:{"task-key":o,task:e},on:{"create-service":t.createService}})}),t._l(t.jobConfiguration.tasks,function(e,o){return t._l(e.actions,function(e,i){return n("action-configurator",{directives:[{name:"show",rawName:"v-show",value:t.selectedTaskIndex==o&&t.selectedActionIndex==i,expression:"selectedTaskIndex == taskIndex && selectedActionIndex == actionIndex"}],key:o+"_"+i,ref:"actionConfigurators",refInFor:!0,attrs:{"action-key":o+"_"+i,action:e},on:{"create-service":t.createService}})})}),t.showExecutionDetailsDialog?n("job-execution-details",{attrs:{"job-execution":t.selectedJobExecution},on:{close:function(e){t.closeExecutionDetailsDialog()}}}):t._e()],2):t._e(),null!=t.testResults?n("test-result-container",{attrs:{"error-cause":t.testResults.errorCause,"selected-test-results":t.selectedTestResults},on:{close:function(e){t.testResults=null}}}):t._e(),t.showDeleteTaskDialog?n("modal-dialog",{on:{close:function(e){t.showDeleteTaskDialog=!1}}},[n("h1",{attrs:{slot:"header"},slot:"header"},[t._v("Delete Task?")]),n("p",{attrs:{slot:"body"},slot:"body"},[t._v("Do you really want to delete this Task?")]),n("div",{attrs:{slot:"footer"},slot:"footer"},[n("layout-row",[n("input-button",{attrs:{slot:"left",icon:"times"},on:{clicked:function(e){t.showDeleteTaskDialog=!1}},slot:"left"}),n("input-button",{attrs:{slot:"right",icon:"check"},on:{clicked:function(e){t.deleteTask()}},slot:"right"})],1)],1)]):t._e(),t.showDeleteActionDialog?n("modal-dialog",{on:{close:function(e){t.showDeleteActionDialog=!1}}},[n("h1",{attrs:{slot:"header"},slot:"header"},[t._v("Delete Action?")]),n("p",{attrs:{slot:"body"},slot:"body"},[t._v("Do you really want to delete this Action?")]),n("div",{attrs:{slot:"footer"},slot:"footer"},[n("layout-row",[n("input-button",{attrs:{slot:"left",icon:"times"},on:{clicked:function(e){t.showDeleteActionDialog=!1}},slot:"left"}),n("input-button",{attrs:{slot:"right",icon:"check"},on:{clicked:function(e){t.deleteAction()}},slot:"right"})],1)],1)]):t._e(),t.showRunDialog?n("modal-dialog",{on:{close:function(e){t.showRunDialog=!1},cancel:function(e){t.showRunDialog=!1}}},[n("h1",{attrs:{slot:"header"},slot:"header"},[t._v("Start job")]),n("p",{attrs:{slot:"body"},slot:"body"},[t._v("\n            Manually start job now?\n        ")]),n("layout-row",{attrs:{slot:"footer"},slot:"footer"},[n("input-button",{attrs:{slot:"left",icon:"times"},on:{clicked:function(e){t.showRunDialog=!1}},slot:"left"}),n("input-button",{attrs:{slot:"right",icon:"check"},on:{clicked:function(e){t.runJob()}},slot:"right"})],1)],1):t._e(),t.showCancelJobDialog?n("modal-dialog",{on:{close:function(e){t.showCancelJobDialog=!1},cancel:function(e){t.showCancelJobDialog=!1}}},[n("h1",{attrs:{slot:"header"},slot:"header"},[t._v("Cancel job execution")]),n("p",{attrs:{slot:"body"},slot:"body"},[t._v("\n            Are you sure you want to cancel this execution?\n        ")]),n("layout-row",{attrs:{slot:"footer"},slot:"footer"},[n("input-button",{attrs:{slot:"left",icon:"times"},on:{clicked:function(e){t.showCancelJobDialog=!1}},slot:"left"}),n("input-button",{attrs:{slot:"right",icon:"check"},on:{clicked:function(e){t.cancelJobExecution()}},slot:"right"})],1)],1):t._e(),t.showUnsavedValuesExistDialog?n("modal-dialog",{on:{close:function(e){t.showUnsavedValuesExistDialog=!1}}},[n("h1",{attrs:{slot:"header"},slot:"header"},[t._v("Unsaved configuration")]),n("p",{attrs:{slot:"body"},slot:"body"},[t._v("There are unsaved configuration changes."),n("br"),n("br"),t._v("Do you really want to leave?")]),n("div",{attrs:{slot:"footer"},slot:"footer"},[n("layout-row",[n("input-button",{attrs:{slot:"left",icon:"times"},on:{clicked:function(e){t.showUnsavedValuesExistDialog=!1}},slot:"left"}),n("input-button",{attrs:{slot:"right",icon:"check"},on:{clicked:function(e){t.nextRoute()}},slot:"right"})],1)],1)]):t._e(),n("background-icon",{attrs:{right:"true","icon-one":"toolbox"}})],1)},mn=[],bn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"treeview"},[n("ul",[n("li",[n("span",{staticClass:"item",class:t.getJobStyleClass(),on:{click:function(e){t.$emit("job-is-selected")}}},[n("font-awesome-icon",{attrs:{icon:"toolbox"}}),n("span",[t._v("\n                            "+t._s(t.jobConfiguration.name.length>0?t.formatName(t.jobConfiguration.name):"Unnamed Job")+"\n                        ")])],1),n("ul",{staticClass:"tree"},[t._l(t.jobConfiguration.tasks,function(e,o){return n("li",{key:o},[n("span",{staticClass:"item",class:t.getTaskStyleClass(o,e),on:{click:function(e){t.$emit("task-is-selected",o)}}},[n("font-awesome-icon",{attrs:{icon:"tasks"}}),n("span",[t._v("\n                                    "+t._s(e.name.length>0?t.formatName(e.name):"Unnamed Task")+"\n                                ")]),o>0?n("font-awesome-icon",{staticClass:"fa-xs",attrs:{icon:"arrow-up"},on:{click:function(e){e.stopPropagation(),t.$emit("move-task-up",o)}}}):t._e(),o<t.jobConfiguration.tasks.length-1?n("font-awesome-icon",{staticClass:"button-margin-left fa-xs",attrs:{icon:"arrow-down"},on:{click:function(e){e.stopPropagation(),t.$emit("move-task-down",o)}}}):t._e(),n("font-awesome-icon",{staticClass:"button-margin-left fa-xs",attrs:{icon:"clone"},on:{click:function(e){e.stopPropagation(),t.$emit("duplicate-task",o)}}}),n("font-awesome-icon",{staticClass:"button-margin-left fa-xs",attrs:{icon:"trash-alt"},on:{click:function(e){e.stopPropagation(),t.$emit("delete-task",o)}}})],1),n("ul",[t._l(e.actions,function(i,a){return n("li",{key:a},[n("span",{staticClass:"item",class:t.getActionStyleClass(o,a,e,i),on:{click:function(e){t.$emit("action-is-selected",o,a)}}},[n("font-awesome-icon",{attrs:{icon:"wrench"}}),n("span",[t._v("\n                                            "+t._s(t.formatName(i.type.label))+"\n                                        ")]),a>0?n("font-awesome-icon",{staticClass:"fa-xs",attrs:{icon:"arrow-up"},on:{click:function(e){e.stopPropagation(),t.$emit("move-action-up",o,a)}}}):t._e(),a<t.jobConfiguration.tasks[o].actions.length-1?n("font-awesome-icon",{staticClass:"button-margin-left fa-xs",attrs:{icon:"arrow-down"},on:{click:function(e){e.stopPropagation(),t.$emit("move-action-down",o,a)}}}):t._e(),n("font-awesome-icon",{staticClass:"button-margin-left fa-xs",attrs:{icon:"trash-alt"},on:{click:function(e){e.stopPropagation(),t.$emit("delete-action",o,a)}}})],1)])}),n("li",[n("span",{staticClass:"item",class:t.getAddActionStyleClass(e),on:{click:function(e){t.$emit("add-action",o)}}},[n("font-awesome-icon",{staticClass:"font-18",attrs:{icon:["fas","plus-circle"]}}),n("span",[t._v("\n                                            Add Action\n                                        ")])],1)])],2)])}),n("li",[n("span",{staticClass:"item",class:t.getAddTaskStyleClass(),on:{click:function(e){t.$emit("add-task")}}},[n("font-awesome-icon",{attrs:{icon:["fas","plus-circle"]}}),n("span",[t._v("\n                                    Add Task\n                                ")])],1)])],2)])])])},yn=[],kn={name:"job-tree-navigation",props:["jobConfiguration","validationErrors","selectedTaskIndex","selectedActionIndex"],methods:{isTaskSelected:function(t){return t==this.selectedTaskIndex&&-1==this.selectedActionIndex},getJobStyleClass:function(){return this.hasValidationErrors(-1,-1)?"validation-error":-1==this.selectedTaskIndex&&-1==this.selectedActionIndex?"selected":this.jobConfiguration.active?"":"inactive"},getTaskStyleClass:function(t,e){return this.hasValidationErrors(t,-1)?"validation-error":this.selectedTaskIndex==t&&-1==this.selectedActionIndex?"selected":this.jobConfiguration.active&&e.active?"":"inactive"},getActionStyleClass:function(t,e,n,o){if(this.validationErrors.indexOf(t+"_"+e)>-1)return"validation-error";if(t==this.selectedTaskIndex&&e==this.selectedActionIndex)return"selected";if(!this.jobConfiguration.active||!n.active)return"inactive";if(o.parameters)for(var i in o.parameters)if("active"===o.parameters[i].name&&!1===o.parameters[i].value)return"inactive";return""},getAddTaskStyleClass:function(){if(!this.jobConfiguration.active)return"inactive"},getAddActionStyleClass:function(t){return this.jobConfiguration.active&&t.active?void 0:"inactive"},isActionSelected:function(t,e){return t==this.selectedTaskIndex&&e==this.selectedActionIndex},hasValidationErrors:function(t,e){return this.validationErrors.indexOf(t+"_"+e)>-1},formatName:function(t){return t.length>30?t.substring(0,30)+"...":t}}},Cn=kn,xn=(n("d0fd"),Object(u["a"])(Cn,bn,yn,!1,null,"d4cc338c",null)),_n=xn.exports,wn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.jobConfiguration?n("div",{staticClass:"sticky"},[n("core-panel",[n("h1",[n("font-awesome-icon",{attrs:{icon:"toolbox"}}),t._v("\n            "+t._s(t.jobConfiguration.name.length>0?t.jobConfiguration.name:"Unnamed Job")+"\n        ")],1),n("table",[n("tr",[n("td",[n("label",[t._v("Active")])]),n("td",[n("font-awesome-icon",{attrs:{icon:t.jobConfiguration.active?"check-square":"square"},on:{click:function(e){t.jobConfiguration.active=!t.jobConfiguration.active}}})],1),n("td")]),n("tr",[n("td",[n("label",[t._v("Name")])]),n("td",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.jobConfiguration.name,expression:"jobConfiguration.name"}],attrs:{type:"text",autocomplete:"off"},domProps:{value:t.jobConfiguration.name},on:{input:function(e){e.target.composing||t.$set(t.jobConfiguration,"name",e.target.value)}}})]),n("td",[t.nameValidationError.length>0?n("validation-error",[t._v("\n                        "+t._s(t.nameValidationError)+"\n                    ")]):t._e()],1)]),n("tr",[n("td",[n("label",{attrs:{for:"description-input"}},[t._v("Description")])]),n("td",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.jobConfiguration.description,expression:"jobConfiguration.description"}],attrs:{id:"description-input",type:"text",autocomplete:"off"},domProps:{value:t.jobConfiguration.description},on:{input:function(e){e.target.composing||t.$set(t.jobConfiguration,"description",e.target.value)}}})]),n("td")]),n("tr",[n("td",[n("label",{attrs:{for:"numexechistory-input"}},[t._v("Execution-History Limit")])]),n("td",[n("input",{directives:[{name:"model",rawName:"v-model.number",value:t.jobConfiguration.executionHistoryLimit,expression:"jobConfiguration.executionHistoryLimit",modifiers:{number:!0}}],attrs:{id:"numexechistory-input",type:"text",autocomplete:"off"},domProps:{value:t.jobConfiguration.executionHistoryLimit},on:{input:function(e){e.target.composing||t.$set(t.jobConfiguration,"executionHistoryLimit",t._n(e.target.value))},blur:function(e){t.$forceUpdate()}}})]),n("td")])])]),n("core-panel",[n("h2",[t._v("Trigger")]),n("table",[t.triggerCategories.length>1?n("tr",[n("td",[n("label",[t._v("Category")])]),n("td",[n("select",{directives:[{name:"model",rawName:"v-model",value:t.jobConfiguration.trigger.category,expression:"jobConfiguration.trigger.category"}],on:{change:[function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.$set(t.jobConfiguration.trigger,"category",e.target.multiple?n:n[0])},function(e){t.loadTypesOfCategory(t.jobConfiguration.trigger.category.key)}]}},t._l(t.triggerCategories,function(e){return n("option",{key:e.key,domProps:{value:e}},[t._v("\n                            "+t._s(e.label)+"\n                        ")])}),0)])]):t._e(),n("tr",[n("td",[n("label",[t._v("Type")])]),n("td",[n("select",{directives:[{name:"model",rawName:"v-model",value:t.jobConfiguration.trigger.type,expression:"jobConfiguration.trigger.type"}],on:{change:[function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.$set(t.jobConfiguration.trigger,"type",e.target.multiple?n:n[0])},function(e){t.loadParametersOfType(t.jobConfiguration.trigger.type.key)}]}},t._l(t.triggerTypes,function(e){return n("option",{key:e.key,domProps:{value:e}},[t._v("\n                            "+t._s(e.label)+"\n                        ")])}),0)])])])]),t.jobConfiguration.trigger.parameters.length?n("core-panel",[n("h2",[t._v("Trigger Parameters")]),n("parameter-editor",{ref:"parameterEditor",attrs:{parameters:t.jobConfiguration.trigger.parameters},on:{"create-service":t.createService}})],1):t._e()],1):t._e()},jn=[],En={name:"job-configurator",components:{ParameterEditor:dn,ValidationError:Ge,CorePanel:bt},props:["jobConfiguration"],data:function(){return{nameValidationError:"",triggerCategories:[],triggerTypes:[]}},methods:{loadCategories:function(){var t=Object(x["a"])(regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Xt.getData("/api/category/trigger").then(function(t){for(var n=e.triggerCategories.length;n>0;n--)e.triggerCategories.pop();var o=e;C()(t).forEach(function(t){o.triggerCategories.push(t)}),null==e.jobConfiguration.trigger.category&&(e.jobConfiguration.trigger.category=e.triggerCategories[0])});case 2:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),loadTypesOfCategory:function(){var t=Object(x["a"])(regeneratorRuntime.mark(function t(e){var n=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Xt.getData("/api/type/trigger/"+e).then(function(t){for(var e=n.triggerTypes.length;e>0;e--)n.triggerTypes.pop();var o=n;C()(t).forEach(function(t){o.triggerTypes.push(t)}),null==n.jobConfiguration.trigger.type&&(n.jobConfiguration.trigger.type=o.triggerTypes[0])});case 2:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),loadParametersOfType:function(){var t=Object(x["a"])(regeneratorRuntime.mark(function t(e){var n=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Xt.getData("/api/parameters/trigger/"+e).then(function(t){n.jobConfiguration.trigger.parameters=t});case 2:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),validateInput:function(){this.nameValidationError="";var t=!0;null!=this.jobConfiguration.name&&""!==this.jobConfiguration.name||(t=!1,this.nameValidationError="Value required");var e=!0;return"undefined"!==typeof this.$refs.parameterEditor&&(e=this.$refs.parameterEditor.validateInput()),t&&e},setNameValidationError:function(t){this.nameValidationError=t},createService:function(t,e){this.$emit("create-service",this.taskKey,t,e)}},mounted:function(){var t=this,e=null===this.jobConfiguration.trigger.type;this.loadCategories().then(function(){t.loadTypesOfCategory(t.jobConfiguration.trigger.category.key).then(function(){e&&t.loadParametersOfType(t.jobConfiguration.trigger.type.key).then(function(){t.$emit("update-original-job-configuration")})})})}},Dn=En,Tn=Object(u["a"])(Dn,wn,jn,!1,null,"45f4d7f2",null),Jn=Tn.exports,$n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"sticky"},[n("core-panel",[n("h1",[n("font-awesome-icon",{attrs:{icon:"tasks"}}),t._v("\n            "+t._s(t.task.name.length>0?t.task.name:"Unnamed Task")+"\n        ")],1),n("table",[n("tr",[n("td",[n("label",[t._v("Active")])]),n("td",[n("font-awesome-icon",{attrs:{icon:t.task.active?"check-square":"square"},on:{click:function(e){t.task.active=!t.task.active}}})],1),n("td")]),n("tr",[n("td",[n("label",[t._v("Name")])]),n("td",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.task.name,expression:"task.name"}],attrs:{type:"text",autocomplete:"off"},domProps:{value:t.task.name},on:{input:function(e){e.target.composing||t.$set(t.task,"name",e.target.value)}}})]),n("td",[t.nameValidationError.length>0?n("validation-error",[t._v("\n                        "+t._s(t.nameValidationError)+"\n                    ")]):t._e()],1)]),n("tr",[n("td",[n("label",[t._v("Description")])]),n("td",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.task.description,expression:"task.description"}],attrs:{type:"text",autocomplete:"off"},domProps:{value:t.task.description},on:{input:function(e){e.target.composing||t.$set(t.task,"description",e.target.value)}}})]),n("td")])])]),n("core-panel",[n("h2",[t._v("Provider")]),n("table",[t.providerCategories.length>1?n("tr",[n("td",[n("label",[t._v("Category")])]),n("td",[n("select",{directives:[{name:"model",rawName:"v-model",value:t.task.provider.category,expression:"task.provider.category"}],on:{change:[function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.$set(t.task.provider,"category",e.target.multiple?n:n[0])},function(e){t.loadTypesOfCategory(t.task.provider.category.key,!0).then(function(){t.loadParametersOfType(t.task.provider.type.key)})}]}},t._l(t.providerCategories,function(e){return n("option",{key:e.key,domProps:{value:e}},[t._v("\n                            "+t._s(e.label)+"\n                        ")])}),0)])]):t._e(),n("tr",[n("td",[n("label",[t._v("Type")])]),n("td",[n("select",{directives:[{name:"model",rawName:"v-model",value:t.task.provider.type,expression:"task.provider.type"}],on:{change:[function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.$set(t.task.provider,"type",e.target.multiple?n:n[0])},function(e){t.loadParametersOfType(t.task.provider.type.key)}]}},t._l(t.providerTypes,function(e){return n("option",{key:e.key,domProps:{value:e}},[t._v("\n                            "+t._s(e.label)+"\n                        ")])}),0)])])])]),t.task.provider.parameters.length?n("core-panel",[n("h2",[t._v("Provider Parameters")]),n("parameter-editor",{ref:"parameterEditor",attrs:{parameters:t.task.provider.parameters},on:{"create-service":t.createService}})],1):t._e()],1)},Sn=[],Rn=n("a745"),In=n.n(Rn),Nn={name:"task-configurator",components:{CorePanel:bt,ParameterEditor:dn,ValidationError:Ge},props:["task","taskKey"],data:function(){return{nameValidationError:"",providerCategories:[],providerTypes:[]}},methods:{loadCategories:function(){var t=Object(x["a"])(regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Xt.getData("/api/category/provider").then(function(t){for(var n=e.providerCategories.length;n>0;n--)e.providerCategories.pop();var o=e;C()(t).forEach(function(t){o.providerCategories.push(t)})});case 2:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),loadTypesOfCategory:function(){var t=Object(x["a"])(regeneratorRuntime.mark(function t(e,n){var o=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Xt.getData("/api/type/provider/"+e).then(function(t){for(var e=o.providerTypes.length;e>0;e--)o.providerTypes.pop();var i=o;C()(t).forEach(function(t){i.providerTypes.push(t)}),n&&(o.task.provider.type=o.providerTypes[0])});case 2:case"end":return t.stop()}},t,this)}));function e(e,n){return t.apply(this,arguments)}return e}(),loadParametersOfType:function(t){var e=this;Xt.getData("/api/parameters/provider/"+t).then(function(t){e.task.provider.parameters=t})},validateInput:function(){this.nameValidationError="";var t=!0;null!=this.task.name&&""!==this.task.name||(this.nameValidationError="Name must be set",t=!1);var e=!0;return"undefined"!==typeof this.$refs.parameterEditor&&(e=this.$refs.parameterEditor.validateInput()),t&&e},createService:function(t,e){this.$emit("create-service",this.taskKey,t,e)}},watch:{task:function(){var t=this;this.loadCategories().then(function(){t.loadTypesOfCategory(t.task.provider.category.key,!1)})}},mounted:function(){var t=this;this.loadCategories().then(function(){t.loadTypesOfCategory(t.task.provider.category.key,!1).then(function(){In()(t.task.provider.parameters)&&t.task.provider.parameters.length||t.loadParametersOfType(t.task.provider.type.key)})})}},Pn=Nn,On=Object(u["a"])(Pn,$n,Sn,!1,null,"43ad3b27",null),An=On.exports,Ln=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"sticky"},[n("core-panel",[n("h1",[n("font-awesome-icon",{attrs:{icon:"wrench"}}),t._v("\n            "+t._s(t.action.type.label)+"\n        ")],1),n("table",[n("tr",[n("td",[n("label",[t._v("Category")])]),n("td",[n("select",{directives:[{name:"model",rawName:"v-model",value:t.action.category,expression:"action.category"}],on:{change:[function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.$set(t.action,"category",e.target.multiple?n:n[0])},function(e){t.loadTypesOfCategory(t.action.category.key,!0).then(function(){t.loadParametersOfType(t.action.type.key)})}]}},t._l(t.actionCategories,function(e){return n("option",{key:e.key,domProps:{value:e}},[t._v("\n                            "+t._s(e.label)+"\n                        ")])}),0)])]),n("tr",[n("td",[t._v("Type")]),n("td",[n("select",{directives:[{name:"model",rawName:"v-model",value:t.action.type,expression:"action.type"}],on:{change:[function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.$set(t.action,"type",e.target.multiple?n:n[0])},function(e){t.loadParametersOfType(t.action.type.key)}]}},t._l(t.actionTypes,function(e){return n("option",{key:e.key,domProps:{value:e}},[t._v("\n                            "+t._s(e.label)+"\n                        ")])}),0)])])])]),n("core-panel",[n("h2",[t._v("Action Parameters")]),n("parameter-editor",{ref:"parameterEditor",attrs:{parameters:t.action.parameters},on:{"create-service":t.createService}})],1)],1)},Fn=[],Vn={name:"action-configurator",components:{CorePanel:bt,ParameterEditor:dn},props:["action","actionKey"],data:function(){return{actionCategories:[],actionTypes:[]}},methods:{loadCategories:function(){var t=Object(x["a"])(regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Xt.getData("/api/category/action").then(function(t){for(var n=e.actionCategories.length;n>0;n--)e.actionCategories.pop();var o=e;C()(t).forEach(function(t){o.actionCategories.push(t)})});case 2:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),loadTypesOfCategory:function(){var t=Object(x["a"])(regeneratorRuntime.mark(function t(e,n){var o=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Xt.getData("/api/type/action/"+e).then(function(t){for(var e=o.actionTypes.length;e>0;e--)o.actionTypes.pop();var i=o;C()(t).forEach(function(t){i.actionTypes.push(t)}),n&&(o.action.type=o.actionTypes[0])});case 2:case"end":return t.stop()}},t,this)}));function e(e,n){return t.apply(this,arguments)}return e}(),loadParametersOfType:function(t){var e=this;Xt.getData("/api/parameters/action/"+t).then(function(t){e.action.parameters=t})},validateInput:function(){var t=!0;return"undefined"!==typeof this.$refs.parameterEditor&&(t=this.$refs.parameterEditor.validateInput()),t},createService:function(t,e){this.$emit("create-service",this.actionKey,t,e)}},watch:{action:function(){var t=this;this.loadCategories().then(function(){t.loadTypesOfCategory(t.action.category.key,!1)})}},mounted:function(){var t=this;this.loadCategories().then(function(){t.loadTypesOfCategory(t.action.category.key,!1).then(function(){In()(t.action.parameters)&&t.action.parameters.length||t.loadParametersOfType(t.action.type.key)})})}},Bn=Vn,Mn=Object(u["a"])(Bn,Ln,Fn,!1,null,"4fed7c40",null),Un=Mn.exports,Wn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("core-content",{staticClass:"sticky"},[n("div",{staticClass:"test-result-container"},[n("layout-row",[n("div",{attrs:{slot:"left"},slot:"left"},[t.errorCause||t.selectedTestResults?t._e():n("h1",[t._v("Dry run successful")]),t.selectedTestResults&&!t.errorCause&&t.selectedTestResults.length>0?n("h1",[t._v("Dry run\n                        details")]):t._e(),t.selectedTestResults&&t.errorCause?n("h1",[t._v("Dry run failed")]):t._e()]),n("input-button",{attrs:{slot:"right",icon:"times"},on:{clicked:function(e){t.$emit("close")}},slot:"right"})],1),t.errorCause||0!=t.selectedTestResults.length?t._e():n("p",[t._v("\n                Please select a "),n("b",[t._v("Task")]),t._v(" or "),n("b",[t._v("Action")]),t._v(" to see detailed dry-run results.\n            ")]),!t.errorCause&&t.selectedTestResults.length>0?n("pre",{staticClass:"normal-bg"},[n("code",[t._v(t._s(t.format(t.selectedTestResults)))])]):t._e(),t.errorCause?n("pre",{staticClass:"error-bg"},[n("code",[t._v(t._s(t.errorCause))])]):t._e()],1)])},Kn=[],qn={name:"test-result-container",components:{CoreContent:ft,InputButton:L,LayoutRow:R},props:["heading","selectedTestResults","errorCause"],methods:{format:function(t){return Ve()(t,null,2)}}},Hn=qn,Gn=(n("2929"),Object(u["a"])(Hn,Wn,Kn,!1,null,"30e1c2e0",null)),Xn=Gn.exports,Yn={name:"job-editor",components:{BackgroundIcon:be,JobExecutionDetails:Re,FeedbackBox:we,SideMenu:xt,TestResultContainer:Xn,InputButton:L,LayoutRow:R,ModalDialog:Y,ActionConfigurator:Un,TaskConfigurator:An,JobConfigurator:Jn,JobTreeNavigation:_n,CoreContent:ft,CoreContainer:it},props:["jobId"],data:function(){return{newJob:!0,showDeleteTaskDialog:!1,showDeleteActionDialog:!1,showCancelJobDialog:!1,showExecutionDetailsDialog:!1,showRunDialog:!1,initialProviderCategory:{},initialProviderType:{},initialActionCategory:{},initialActionType:{},selectedTaskIndex:-1,selectedActionIndex:-1,testResults:null,selectedTestResults:null,originalJobConfiguration:null,jobConfiguration:null,validationErrors:[],jobExecutions:[],jobExecutionsRefreshTimer:null,selectedJobExecutionListEntry:null,selectedJobExecution:null,selectedJobExecutionId:null,showUnsavedValuesExistDialog:!1,nextRoute:null}},computed:{jobRunning:function(){if(null!=this.jobExecutions)for(var t=0;t<this.jobExecutions.length;t++)if("RUNNING"===this.jobExecutions[t].state)return!0;return!1}},methods:{formatJobExecution:function(t){var e={year:"numeric",month:"2-digit",day:"2-digit"},n=new Date(t.created);return n.toLocaleTimeString(void 0,e)+" "+t.duration+"("+t.state.toLowerCase()+")"},createJob:function(){this.jobConfiguration={name:"New Job",trigger:{category:null,type:null,parameters:[]},description:"",executionHistoryLimit:5,active:!0,tasks:[]}},loadJob:function(){var t=Object(x["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Xt.getData("/api/job/"+e);case 2:this.jobConfiguration=t.sent,this.updateJobExecutions();case 4:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),saveConfiguration:function(){var t=Object(x["a"])(regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(this.validateInput()){t.next=2;break}return t.abrupt("return");case 2:this.testResults=null,this.newJob?Xt.postData("/api/job",this.jobConfiguration,"Saving job","Job '"+Yt.formatNameForSnackbar(this.jobConfiguration.name)+"' saved.","Saving failed!").then(function(t){"NAME_ALREADY_EXISTS_ERROR"===t?(e.validationErrors.push("-1_-1"),e.$refs.jobConfigurator.setNameValidationError("A job with this name already exists!")):(e.jobConfiguration=t,e.originalJobConfiguration=Ve()(e.jobConfiguration),e.newJob=!1,e.$root.$data.store.setFeedback("Job '"+Yt.formatNameForSnackbar(e.jobConfiguration.name)+"' saved.",!1),e.$router.push({name:"job-editor",params:{jobId:e.jobConfiguration.id}}),e.jobExecutionsRefreshTimer=setInterval(function(){return e.updateJobExecutions()},1e3))}):Xt.putData("/api/job",this.jobConfiguration,"Saving job","Job '"+Yt.formatNameForSnackbar(this.jobConfiguration.name)+"' updated.","Saving failed!").then(function(){e.originalJobConfiguration=Ve()(e.jobConfiguration)});case 4:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),testConfiguration:function(){if(this.validateInput()){this.testResults=null,this.selectedTestResults=null;var t=this;this.$root.$data.store.setWip("Testing job"),this.$http.post("/api/job/test",this.jobConfiguration).then(function(e){t.testResults=e.data,t.testResults&&t.testResults.errorCause?t.$root.$data.store.setFeedback("Test Failed!",!0):t.$root.$data.store.setFeedback("Test OK.",!1),t.$root.$data.store.clearWip(),t.updateSelectedTestResult()}).catch(function(e){t.$root.$data.store.setFeedback("Testing failed! ("+e+")",!0),t.$root.$data.store.clearWip()})}},cancelConfiguration:function(){this.$router.push({name:"app-status"})},selectJob:function(){this.selectedTaskIndex=-1,this.selectedActionIndex=-1,this.updateSelectedTestResult()},selectTask:function(t){this.selectedTaskIndex=t,this.selectedActionIndex=-1,this.updateSelectedTestResult()},selectAction:function(t,e){this.selectedTaskIndex=t,this.selectedActionIndex=e,this.updateSelectedTestResult()},addTask:function(){var t={name:"Task",description:"",active:!0,provider:{category:this.initialProviderCategory,type:this.initialProviderType,parameters:[]},actions:[]};this.jobConfiguration.tasks.push(t),this.selectTask(this.jobConfiguration.tasks.length-1)},duplicateTask:function(t){var e=JSON.parse(Ve()(this.jobConfiguration.tasks[t]));delete e.id,this.jobConfiguration.tasks.push(e),this.selectTask(this.jobConfiguration.tasks.length-1)},showDeleteTask:function(t){this.selectedTaskIndex=t,this.showDeleteTaskDialog=!0},deleteTask:function(){this.validationErrors=[],this.$delete(this.jobConfiguration.tasks,this.selectedTaskIndex),this.showDeleteTaskDialog=!1,this.selectedTaskIndex=-1,this.selectedActionIndex=-1},addAction:function(t){var e={category:this.initialActionCategory,type:this.initialActionType,parameters:[]};this.jobConfiguration.tasks[t].actions.push(e),this.selectAction(t,this.jobConfiguration.tasks[t].actions.length-1)},showDeleteAction:function(t,e){this.selectedTaskIndex=t,this.selectedActionIndex=e,this.showDeleteActionDialog=!0},deleteAction:function(){this.validationErrors=[],this.jobConfiguration.tasks[this.selectedTaskIndex].actions.splice(this.selectedActionIndex,1),this.showDeleteActionDialog=!1,this.selectedTaskIndex=-1,this.selectedActionIndex=-1},moveTaskUp:function(t){0!==t&&(this.arrayMove(this.jobConfiguration.tasks,t,t-1),this.selectTask(t-1))},moveTaskDown:function(t){t<this.jobConfiguration.tasks.length-1&&(this.arrayMove(this.jobConfiguration.tasks,t,t+1),this.selectTask(t+1))},moveActionUp:function(t,e){0!==e&&(this.arrayMove(this.jobConfiguration.tasks[t].actions,e,e-1),this.selectAction(t,e-1),this.validationErrors=[])},moveActionDown:function(t,e){e<this.jobConfiguration.tasks[t].actions.length-1&&(this.arrayMove(this.jobConfiguration.tasks[t].actions,e,e+1),this.selectAction(t,e+1),this.validationErrors=[])},arrayMove:function(t,e,n){if(n>=t.length){var o=n-t.length+1;while(o--)t.push(void 0)}t.splice(n,0,t.splice(e,1)[0])},validateInput:function(){this.validationErrors=[];var t=this.$refs.jobConfigurator.validateInput();t||this.validationErrors.push("-1_-1");var e=!0;for(var n in this.$refs.taskConfigurators){var o=this.$refs.taskConfigurators[n].validateInput();o||this.validationErrors.push(n+"_-1"),e=o&&e}var i=!0;for(var a in this.$refs.actionConfigurators){var r=this.$refs.actionConfigurators[a].validateInput();r||this.validationErrors.push(this.$refs.actionConfigurators[a].actionKey),i=r&&i}return!!(t&&e&&i)||(this.$root.$data.store.setFeedback("Validation failed!",!0),!1)},updateSelectedTestResult:function(){if(null!=this.testResults)if(this.testResults.errorCause)this.selectedTestResults=this.testResults;else if(-1==this.selectedTaskIndex&&-1==this.selectedActionIndex)this.selectedTestResults="";else{var t=this.selectedTaskIndex,e=this.selectedActionIndex;if(-1!=t&&-1!=e){var n=this.testResults.taskResults;if(null!=n[t]&&null!=n[t].actionResults){var o=n[t].actionResults;null!=o[e]&&(this.selectedTestResults=this.testResults.taskResults[t].actionResults[e].results)}}else-1!=t&&null!=this.testResults.taskResults[t]&&(this.selectedTestResults=this.testResults.taskResults[t].providerResults)}},isTaskSelected:function(t){return t==this.selectedTaskIndex&&-1==this.selectedActionIndex},isActionSelected:function(t,e){return t==this.selectedTaskIndex&&e==this.selectedActionIndex},runJob:function(){if(this.showRunDialog=!1,this.validateInput()){var t=this;this.$http.post("/api/job/run",this.jobConfiguration).then(function(e){t.jobConfiguration=e.data,t.$root.$data.store.setFeedback("Job '"+Yt.formatNameForSnackbar(t.jobConfiguration.name)+"' started manually.",!1),t.updateJobExecutions()}).catch(function(e){t.$root.$data.store.setFeedback("Job '"+Yt.formatNameForSnackbar(t.jobConfiguration.name)+"' startup failed ("+e+").",!0)})}},updateJobExecutions:function(){var t=this;Xt.getData("/api/execution/job/"+this.jobConfiguration.id).then(function(e){for(var n=t.jobExecutions.length;n>0;n--)t.jobExecutions.pop();var o=t;C()(e).forEach(function(t){o.jobExecutions.push(t)})})},openExecutionDetailsDialog:function(){var t=Object(x["a"])(regeneratorRuntime.mark(function t(e){var n=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.selectedJobExecutionId=e.id,t.next=3,Xt.getData("/api/execution/details/"+this.selectedJobExecutionId);case 3:this.selectedJobExecution=t.sent,this.showExecutionDetailsDialog=!0,"WAITING"!==this.selectedJobExecution.executionState&&"RUNNING"!==this.selectedJobExecution.executionState||(this.jobExecutionDetailsRefreshTimer=setInterval(function(){n.updateJobExectuionDetails()},1e3));case 6:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),closeExecutionDetailsDialog:function(){this.jobExecutionDetailsRefreshTimer&&clearTimeout(this.jobExecutionDetailsRefreshTimer),this.showExecutionDetailsDialog=!1},updateJobExectuionDetails:function(){var t=this;Xt.getData("/api/execution/details/"+this.selectedJobExecutionId).then(function(e){t.selectedJobExecution=e})},openCancelJobDialog:function(t){this.selectedJobExecutionListEntry=t,this.showCancelJobDialog=!0},cancelJobExecution:function(){var t=this;this.showCancelJobDialog=!1,clearTimeout(this.jobExecutionsRefreshTimer),Xt.postData("/api/execution/"+this.selectedJobExecutionListEntry.id+"/cancel",null,"Cancelling job","Job cancelled.","Job could not be cancelled!").then(function(){for(var e=0;e<t.jobExecutions.length;e++)t.jobExecutions[e].id===t.selectedJobExecutionListEntry.id&&(t.jobExecutions[e].state="CANCELLED");t.jobExecutionsRefreshTimer=setInterval(function(){return t.updateJobExecutions()},1e3)})},createService:function(t,e,n){this.$root.$data.store.setJobData(this.jobConfiguration,t,e,n),this.$router.push({name:"service-editor"})},updateOriginalJobConfiguration:function(){this.originalJobConfiguration=Ve()(this.jobConfiguration)}},mounted:function(){var t=this,e=this.$root.$data.store.getJobData();if(null!=e.jobConfiguration){this.jobConfiguration=e.jobConfiguration,null!=this.jobConfiguration.id&&(this.newJob=!1,this.updateJobExecutions(),this.jobExecutionsRefreshTimer=setInterval(function(){return t.updateJobExecutions()},1e3));var n=e.selectionKey;if(null!=n){var o=-1,i=-1;if(("string"===typeof n||n instanceof String)&&n.includes("_")?(o=n.split("_")[0],i=n.split("_")[1]):o=n,o>-1&&i>-1){if(null!=e.serviceParameter&&null!=e.parameterIndex){var a=this.jobConfiguration.tasks[o].actions[i].parameters[e.parameterIndex];a.serviceName=e.serviceParameter.name,a.value=e.serviceParameter.id}this.selectAction(o,i)}else if(o>-1){if(null!=e.serviceParameter&&null!=e.parameterIndex){var r=this.jobConfiguration.tasks[o].provider.parameters[e.parameterIndex];r.serviceName=e.serviceParameter.name,r.value=e.serviceParameter.id}this.selectTask(o)}}this.originalJobConfiguration=Ve()(this.jobConfiguration),this.$root.$data.store.clearJobData()}else null!=this.jobId?(this.newJob=!1,this.loadJob(this.jobId).then(function(){t.originalJobConfiguration=Ve()(t.jobConfiguration),t.jobExecutionsRefreshTimer=setInterval(function(){return t.updateJobExecutions()},1e3)})):this.createJob();var s=this;Xt.getData("/api/category/provider").then(function(e){t.initialProviderCategory=C()(e)[0],Xt.getData("/api/type/provider/"+s.initialProviderCategory.key).then(function(t){s.initialProviderType=C()(t)[0]})}),Xt.getData("/api/category/action").then(function(e){t.initialActionCategory=C()(e)[0],Xt.getData("/api/type/action/"+s.initialActionCategory.key).then(function(t){s.initialActionType=C()(t)[0]})})},destroyed:function(){clearInterval(this.jobExecutionsRefreshTimer),clearInterval(this.jobExecutionDetailsRefreshTimer)},beforeRouteLeave:function(t,e,n){var o=this.$root.$data.store.getJobData();if(o.jobConfiguration)n();else{if(this.originalJobConfiguration){var i=Ve()(this.jobConfiguration);if(this.originalJobConfiguration!==i)return this.nextRoute=n,void(this.showUnsavedValuesExistDialog=!0)}n()}}},Zn=Yn,zn=(n("7a16"),Object(u["a"])(Zn,gn,mn,!1,null,"da8de272",null)),Qn=zn.exports;o["a"].use(m["a"]);var to=new m["a"]({routes:[{path:"/",name:"app-status",component:Oe},{path:"/service-editor/:serviceId?",name:"service-editor",component:vn,props:!0},{path:"/job-editor/:jobId?",name:"job-editor",component:Qn,props:!0}]}),eo=n("ecee"),no=n("ad3d"),oo=n("c074"),io=n("b702");n.d(e,"store",function(){return ao}),eo["c"].add(oo["a"]),eo["c"].add(io["a"]),o["a"].component("font-awesome-icon",no["a"]),o["a"].component("font-awesome-layers",no["b"]),o["a"].config.productionTip=!1,window.axios=n("bc3a"),window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest",o["a"].prototype.$http=window.axios;var ao={debug:!0,feedback:{timeout:void 0,message:"",alert:!1},wip:{timeout:void 0,message:""},serviceData:{serviceConfiguration:null},jobData:{jobConfiguration:null,selectionKey:null,parameterIndex:null,serviceCategory:null,serviceParameter:null},valueStore:{},routeChanged:!1,setFeedback:function(t,e){this.feedback.message=t,this.feedback.alert=e,this.routeChanged=!1;var n=this;void 0!==this.feedback.timeout&&clearTimeout(this.feedback.timeout),this.feedback.alert?this.feedback.timeout=setTimeout(function(){n.clearFeedback()},15e3):this.feedback.timeout=setTimeout(function(){n.clearFeedback()},5e3)},getFeedback:function(){return this.feedback},clearFeedback:function(){this.feedback.message="",this.feedback.alert=!1,this.routeChanged=!1},setWip:function(t){var e=this;this.wip.timeout=setTimeout(function(){e.wip.message=t},250)},getWip:function(){return this.wip},clearWip:function(){void 0!==this.wip.timeout&&clearTimeout(this.wip.timeout),this.wip.message=""},setServiceData:function(t){this.serviceData.serviceConfiguration=t},getServiceData:function(){return this.serviceData},clearServiceData:function(){this.serviceData.serviceConfiguration=null},setJobData:function(t,e,n,o){this.jobData.jobConfiguration=t,this.jobData.selectionKey=e,this.jobData.parameterIndex=n,this.jobData.serviceCategory=o},getJobData:function(){return this.jobData},clearJobData:function(){this.jobData.jobConfiguration=null,this.jobData.selectionKey=null,this.jobData.parameterIndex=null,this.jobData.serviceParameter=null},setValue:function(t,e){this.valueStore[t]=e},getValue:function(t){return this.valueStore[t]},clearValue:function(t){delete this.valueStore[t]}};new o["a"]({el:"#app",data:{store:ao},router:to,components:{App:g},template:"<App/>"}),to.beforeEach(function(t,e,n){ao.routeChanged?ao.clearFeedback():ao.routeChanged=!0,n()})},"5a49":function(t,e,n){"use strict";var o=n("adc1"),i=n.n(o);i.a},"602e":function(t,e,n){"use strict";var o=n("8b1b"),i=n.n(o);i.a},"61df":function(t,e,n){},6434:function(t,e,n){},"64a9":function(t,e,n){},"6a05":function(t,e,n){},"77d1":function(t,e,n){},"794f":function(t,e,n){},"7a16":function(t,e,n){"use strict";var o=n("47ec"),i=n.n(o);i.a},8016:function(t,e,n){"use strict";var o=n("ee8f"),i=n.n(o);i.a},8268:function(t,e,n){"use strict";var o=n("3fb5"),i=n.n(o);i.a},"843c":function(t,e,n){"use strict";var o=n("02c8"),i=n.n(o);i.a},8781:function(t,e,n){},"883d":function(t,e,n){},"8b1b":function(t,e,n){},"8cba":function(t,e,n){"use strict";var o=n("77d1"),i=n.n(o);i.a},9019:function(t,e,n){"use strict";var o=n("dffc"),i=n.n(o);i.a},"9dea":function(t,e,n){"use strict";var o=n("794f"),i=n.n(o);i.a},"9e88":function(t,e,n){"use strict";var o=n("d236"),i=n.n(o);i.a},a09c:function(t,e,n){},a225:function(t,e,n){"use strict";var o=n("a09c"),i=n.n(o);i.a},a7f1:function(t,e,n){"use strict";var o=n("6a05"),i=n.n(o);i.a},adc1:function(t,e,n){},b779:function(t,e,n){},c62d:function(t,e,n){"use strict";var o=n("46be"),i=n.n(o);i.a},c8d5:function(t,e,n){},caff:function(t,e,n){"use strict";var o=n("4ac1"),i=n.n(o);i.a},cd95:function(t,e,n){"use strict";var o=n("c8d5"),i=n.n(o);i.a},d0fd:function(t,e,n){"use strict";var o=n("1040"),i=n.n(o);i.a},d236:function(t,e,n){},dc72:function(t,e,n){},dffc:function(t,e,n){},ebb7:function(t,e,n){"use strict";var o=n("1e51"),i=n.n(o);i.a},ee8f:function(t,e,n){},f76c:function(t,e,n){"use strict";var o=n("dc72"),i=n.n(o);i.a}});
//# sourceMappingURL=app.219251fc.js.map
(function(t){function e(e){for(var n,r,s=e[0],c=e[1],l=e[2],d=0,f=[];d<s.length;d++)r=s[d],a[r]&&f.push(a[r][0]),a[r]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);u&&u(e);while(f.length)f.shift()();return i.push.apply(i,l||[]),o()}function o(){for(var t,e=0;e<i.length;e++){for(var o=i[e],n=!0,s=1;s<o.length;s++){var c=o[s];0!==a[c]&&(n=!1)}n&&(i.splice(e--,1),t=r(r.s=o[0]))}return t}var n={},a={app:0},i=[];function r(e){if(n[e])return n[e].exports;var o=n[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=t,r.c=n,r.d=function(t,e,o){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(o,n,function(e){return t[e]}.bind(null,n));return o},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=e,s=s.slice();for(var l=0;l<s.length;l++)e(s[l]);var u=c;i.push([0,"chunk-vendors"]),o()})({0:function(t,e,o){t.exports=o("56d7")},"02c8":function(t,e,o){},"034f":function(t,e,o){"use strict";var n=o("64a9"),a=o.n(n);a.a},"0386":function(t,e,o){"use strict";var n=o("23d6"),a=o.n(n);a.a},"05be":function(t,e,o){},"070c":function(t,e,o){"use strict";var n=o("8958"),a=o.n(n);a.a},"0877":function(t,e,o){"use strict";var n=o("dc67"),a=o.n(n);a.a},"08da":function(t,e,o){"use strict";var n=o("f006"),a=o.n(n);a.a},"158d":function(t,e,o){"use strict";var n=o("7ace"),a=o.n(n);a.a},1877:function(t,e,o){"use strict";var n=o("6434"),a=o.n(n);a.a},"1c9f":function(t,e,o){"use strict";var n=o("ecd2"),a=o.n(n);a.a},"1f2c":function(t,e,o){"use strict";var n=o("8118"),a=o.n(n);a.a},2110:function(t,e,o){},2203:function(t,e,o){"use strict";var n=o("e1f8"),a=o.n(n);a.a},"23d6":function(t,e,o){},"2cdf":function(t,e,o){"use strict";var n=o("b779"),a=o.n(n);a.a},"375c":function(t,e,o){},"3c0d":function(t,e,o){"use strict";var n=o("ac26"),a=o.n(n);a.a},4770:function(t,e,o){"use strict";var n=o("4c33"),a=o.n(n);a.a},"4c33":function(t,e,o){},"4ea3":function(t,e,o){},"545c":function(t,e,o){"use strict";var n=o("4ea3"),a=o.n(n);a.a},"56d7":function(t,e,o){"use strict";o.r(e);o("cadf"),o("551c"),o("097d");var n=o("a026"),a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"app"}},[o("Navigation")],1)},i=[],r=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("nav",[o("router-link",{class:t.isActiveTab("home")?t.activeClass:"",attrs:{to:"/"},nativeOn:{click:function(e){t.setActiveTab("home")}}},[t._v("Home\n    ")]),o("router-link",{class:t.isActiveTab("job")?t.activeClass:"",attrs:{to:"/jobs"},nativeOn:{click:function(e){t.setActiveTab("job")}}},[t._v("Jobs\n    ")]),o("router-link",{class:t.isActiveTab("service")?t.activeClass:"",attrs:{to:"/services"},nativeOn:{click:function(e){t.setActiveTab("service")}}},[t._v("Services\n    ")])],1),o("router-view")],1)},s=[],c=(o("f559"),o("7f7f"),{name:"app-navigation",data:function(){return{choice:this.$route.name,activeClass:"active"}},methods:{setActiveTab:function(t){this.choice=t},isActiveTab:function(t){return this.choice.startsWith(t)}}}),l=c,u=(o("db2d"),o("2877")),d=Object(u["a"])(l,r,s,!1,null,"37f8c548",null),f=d.exports,p={name:"app",components:{Navigation:f}},v=p,h=(o("034f"),Object(u["a"])(v,a,i,!1,null,null,null)),m=h.exports,b=o("8c4f"),g=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("core-container",{staticClass:"min-width"},[o("spacer-item"),o("core-content",[o("list-header",{attrs:{filter:t.filter,"filter-key":"job-schedule-list-filter"}},[o("p",{attrs:{slot:"title"},slot:"title"},[t._v("Scheduled Jobs")])]),t._l(t.filteredSchedule,function(e){return o("list-entry",{key:e.id,attrs:{id:e.id}},[o("list-name",{attrs:{slot:"left"},slot:"left"},[t._v(t._s(e.name))]),o("list-name",{attrs:{slot:"right"},slot:"right"},[t._v(t._s(e.date))])],1)})],2),o("spacer-item"),o("background-icon",{attrs:{left:"true","icon-one":"clipboard-list"}})],1)},k=[],y=(o("6762"),o("2fdb"),o("774e")),C=o.n(y),_=(o("ac6a"),function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div")}),$=[],x={name:"spacer-item"},w=x,j=(o("158d"),Object(u["a"])(w,_,$,!1,null,"46b11400",null)),T=j.exports,E=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"container"},[t._t("default"),o("feedback-snackbar"),o("wip-window")],2)},S=[],I=function(){var t=this,e=t.$createElement,o=t._self._c||e;return t.feedback.message.length>0?o("transition",{attrs:{name:"snackbar"}},[o("div",{staticClass:"snackbar",class:{alert:t.feedback.alert,feedback:!t.feedback.alert}},[o("button-row",[o("p",{attrs:{slot:"left"},slot:"left"},[t._v("\n      "+t._s(t.feedback.message)+"\n      ")]),o("input-button",{attrs:{slot:"right",icon:"times"},on:{clicked:t.clearFeedback},slot:"right"})],1)],1)]):t._e()},D=[],P=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"row"},[o("div",{staticClass:"left"},[t._t("left")],2),o("div",{staticClass:"right"},[t._t("right")],2)])},A=[],J={name:"button-row"},N=J,O=(o("e15a"),Object(u["a"])(N,P,A,!1,null,"70332510",null)),R=O.exports,F=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{class:t.disabled?"disabled":"button",on:{click:function(e){t.fire()}}},[o("font-awesome-icon",{class:t.iconstyle,attrs:{icon:t.icon}})],1)},V=[],B={name:"input-button",props:["icon","disabled"],methods:{fire:function(){this.disabled||this.$emit("clicked")}},computed:{iconstyle:function(){return"eye"===this.icon||"clock"===this.icon||"cogs"===this.icon||"info"===this.icon?"minus-four":""}}},L=B,W=(o("d320"),Object(u["a"])(L,F,V,!1,null,"a53a0698",null)),M=W.exports,K={name:"feedback-snackbar",components:{InputButton:M,ButtonRow:R},methods:{clearFeedback:function(){this.$root.$data.store.clearFeedback()}},computed:{feedback:function(){return this.$root.$data.store.getFeedback()}}},U=K,H=(o("1c9f"),Object(u["a"])(U,I,D,!1,null,"90ba0328",null)),z=H.exports,q=function(){var t=this,e=t.$createElement,o=t._self._c||e;return t.wip.message.length>0?o("modal-dialog",[o("h1",{attrs:{slot:"footer"},slot:"footer"},[o("font-awesome-icon",{staticClass:"fa-spin",attrs:{icon:"spinner"}}),t._v(" "+t._s(t.wip.message))],1)]):t._e()},G=[],X=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("transition",{attrs:{name:"modal"}},[o("div",{staticClass:"modal-mask",on:{click:t.close}},[o("div",{staticClass:"modal-wrapper"},[o("div",{staticClass:"modal-container center",on:{click:function(t){t.stopPropagation()}}},[t.hasHeader?o("div",{staticClass:"modal-header"},[t._t("header")],2):t._e(),t.hasBody?o("div",{staticClass:"modal-body"},[t._t("body")],2):t._e(),t.hasFooter?o("div",{staticClass:"modal-footer"},[t._t("footer")],2):t._e()])])])])},Z=[],Q={name:"modal-dialog",methods:{close:function(){this.$emit("close")}},computed:{hasHeader:function(){return this.$slots.header},hasBody:function(){return this.$slots.body},hasFooter:function(){return this.$slots.footer}}},Y=Q,tt=(o("3c0d"),Object(u["a"])(Y,X,Z,!1,null,"065eb7f7",null)),et=tt.exports,ot={name:"wip-window",components:{ModalDialog:et},computed:{wip:function(){return this.$root.$data.store.getWip()}}},nt=ot,at=(o("2cdf"),Object(u["a"])(nt,q,G,!1,null,"0fb666c8",null)),it=at.exports,rt={name:"core-container",components:{WipWindow:it,FeedbackSnackbar:z}},st=rt,ct=(o("8cba"),Object(u["a"])(st,E,S,!1,null,"5bb71ac4",null)),lt=ct.exports,ut=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"content"},[t._t("default")],2)},dt=[],ft={name:"core-content"},pt=ft,vt=(o("a225"),Object(u["a"])(pt,ut,dt,!1,null,"3d1f916e",null)),ht=vt.exports,mt=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("core-panel",[o("button-row",[t._t("left",null,{slot:"left"}),t._t("right",null,{slot:"right"})],2)],1)},bt=[],gt=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"panel"},[t._t("default")],2)},kt=[],yt={name:"core-panel"},Ct=yt,_t=(o("a1c2"),Object(u["a"])(Ct,gt,kt,!1,null,"8bcb2626",null)),$t=_t.exports,xt={name:"list-entry",components:{ButtonRow:R,CorePanel:$t}},wt=xt,jt=Object(u["a"])(wt,mt,bt,!1,null,"4ec0ff45",null),Tt=jt.exports,Et=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"list-name"},[t._t("default")],2)},St=[],It={name:"list-name"},Dt=It,Pt=(o("ff58"),Object(u["a"])(Dt,Et,St,!1,null,"02894805",null)),At=Pt.exports,Jt=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("core-panel",[o("h1",[t._t("title",[t._v("default title")])],2),o("button-row",[o("div",{staticClass:"filter",attrs:{slot:"left"},slot:"left"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.filterText,expression:"filterText"}],attrs:{id:"filter-input",type:"text",placeholder:"filter list"},domProps:{value:t.filterText},on:{input:function(e){e.target.composing||(t.filterText=e.target.value)}}}),o("font-awesome-icon",{attrs:{icon:"search"}}),t.filterText.length>0?o("input-button",{staticClass:"button-margin-left",attrs:{icon:"times"},on:{clicked:function(e){t.filterText=""}}}):t._e()],1),o("p",{attrs:{slot:"right"},slot:"right"},[null!=t.addButtonTarget?o("router-link",{attrs:{to:t.addButtonTarget}},[o("input-button",{attrs:{icon:"plus"}})],1):t._e()],1)])],1)},Nt=[],Ot={name:"list-header",components:{CorePanel:$t,ButtonRow:R,InputButton:M},props:["filter","filterKey","addButtonText","addButtonTarget"],data:function(){return{filterText:""}},watch:{filterText:function(t){this.$root.$data.store.setValue(this.filterKey,t),this.filter(t)}},mounted:function(){var t=this;document.addEventListener("keydown",function(e){27===e.keyCode&&(t.filterText="")}),this.$root.$data.store.getValue(this.filterKey)&&(this.filterText=this.$root.$data.store.getValue(this.filterKey))}},Rt=Ot,Ft=(o("6552"),Object(u["a"])(Rt,Jt,Nt,!1,null,"3238ca7a",null)),Vt=Ft.exports,Bt=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[t.right?o("div",[null!=t.iconTwo?o("font-awesome-icon",{staticClass:"bi-right-left fa-6x",attrs:{icon:t.iconTwo}}):t._e(),o("font-awesome-icon",{staticClass:"bi-right fa-10x",attrs:{icon:t.iconOne}})],1):t._e(),t.left?o("div",[o("font-awesome-icon",{staticClass:"bi-left fa-10x",attrs:{icon:t.iconOne}})],1):t._e()])},Lt=[],Wt={name:"background-icon",props:["iconOne","iconTwo","left","right"]},Mt=Wt,Kt=(o("843c"),Object(u["a"])(Mt,Bt,Lt,!1,null,"fd499228",null)),Ut=Kt.exports,Ht={name:"app-status",components:{BackgroundIcon:Ut,ListHeader:Vt,ListName:At,ListEntry:Tt,CoreContent:ht,CoreContainer:lt,SpacerItem:T},data:function(){return{schedule:[],filterText:""}},methods:{loadSchedule:function(){var t=this;this.$http.get("/api/job/schedule").then(function(e){for(var o=t.schedule.length;o>0;o--)t.schedule.pop();C()(e.data).forEach(function(e){t.schedule.push(e)})}).catch(function(e){t.$root.$data.store.setFeedback("Schedule could not be loaded ("+e+")",!0)})},filter:function(t){this.filterText=t}},computed:{filteredSchedule:function(){var t=this;return this.schedule.filter(function(e){return e.name.includes(t.filterText)})}},mounted:function(){this.loadSchedule()}},zt=Ht,qt=(o("9ee4"),Object(u["a"])(zt,g,k,!1,null,"746fe4c2",null)),Gt=qt.exports,Xt=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("core-container",{staticClass:"min-width"},[o("spacer-item"),o("core-content",[o("list-header",{attrs:{addButtonTarget:"service-editor",addButtonText:"Add Service",filter:t.filter,"filter-key":"service-list-filter"}},[o("p",{attrs:{slot:"title"},slot:"title"},[t._v("Available Services")])]),t._l(t.filteredServices,function(e){return o("service-list-entry",{key:e.id,attrs:{id:e.id,name:e.name},on:{actionPerformed:function(e){t.loadServices()}}})})],2),o("spacer-item"),o("background-icon",{attrs:{left:"true","icon-one":"cogs"}})],1)},Zt=[],Qt=(o("55dd"),function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("core-panel",[o("button-row",[o("list-name",{attrs:{slot:"left"},slot:"left"},[t._v("\n      "+t._s(t.name)+"\n    ")]),o("p",{attrs:{slot:"right"},slot:"right"},[o("input-button",{staticClass:"button-margin-right",attrs:{icon:"trash-alt"},on:{clicked:function(e){t.showDeleteDialog=!t.showDeleteDialog}}}),o("input-button",{attrs:{icon:"cog"},on:{clicked:function(e){t.editService(t.id)}}})],1)],1),t.showDeleteDialog?o("modal-dialog",{on:{close:function(e){t.showDeleteDialog=!1}}},[o("h1",{attrs:{slot:"header"},slot:"header"},[t._v("Delete Service?")]),o("p",{attrs:{slot:"body"},slot:"body"},[t._v("Do you really want to delete service '"+t._s(t.name)+"'?")]),o("div",{attrs:{slot:"footer"},slot:"footer"},[o("button-row",[o("input-button",{attrs:{slot:"left",icon:"times"},on:{clicked:function(e){t.showDeleteDialog=!1}},slot:"left"}),o("input-button",{attrs:{slot:"right",icon:"check"},on:{clicked:function(e){t.deleteService(t.id)}},slot:"right"})],1)],1)]):t._e()],1)}),Yt=[],te={name:"service-list-entry",components:{ListName:At,ButtonRow:R,CorePanel:$t,InputButton:M,ModalDialog:et},props:["id","name"],data:function(){return{showDeleteDialog:!1}},methods:{editService:function(t){this.$router.push({name:"service-editor",params:{serviceId:t}})},deleteService:function(t){this.showDeleteDialog=!1;var e=this;this.$http.delete("/api/service/"+t).then(function(){e.$root.$data.store.setFeedback("Service '"+e.name+"' has been deleted.",!1),e.$emit("actionPerformed")}).catch(function(t){e.$root.$data.store.setFeedback("Service '"+e.name+"' could not be deleted ("+t+")",!0),e.$emit("actionPerformed")})}}},ee=te,oe=Object(u["a"])(ee,Qt,Yt,!1,null,"f90d076e",null),ne=oe.exports,ae={name:"service-list",components:{BackgroundIcon:Ut,CoreContent:ht,CoreContainer:lt,ServiceListEntry:ne,ListHeader:Vt,SpacerItem:T},props:["saveResult"],data:function(){return{services:[],filterText:""}},methods:{loadServices:function(){var t=this;this.$http.get("/api/service").then(function(e){for(var o=t.services.length;o>0;o--)t.services.pop();C()(e.data).forEach(function(e){t.services.push(e)}),t.services.sort(function(t,e){return t.name.localeCompare(e.name)})}).catch(function(e){t.$root.$data.store.setFeedback("Services could not be loaded ("+e+")",!0)})},filter:function(t){this.filterText=t}},computed:{filteredServices:function(){var t=this;return this.services.filter(function(e){return e.name.includes(t.filterText)})}},mounted:function(){this.loadServices()}},ie=ae,re=(o("545c"),Object(u["a"])(ie,Xt,Zt,!1,null,"cb640048",null)),se=re.exports,ce=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("core-container",[o("side-menu",[o("p",{attrs:{slot:"title"},slot:"title"},[t._v("Service Configuration")]),o("button-row",{attrs:{slot:"buttons"},slot:"buttons"},[o("p",{attrs:{slot:"left"},slot:"left"},[o("input-button",{staticClass:"button-margin-right",attrs:{icon:"arrow-left"},on:{clicked:function(e){t.cancelConfiguration()}}}),o("input-button",{staticClass:"button-margin-right",attrs:{icon:"plug"},on:{clicked:function(e){t.testConfiguration()}}}),o("input-button",{attrs:{icon:"save"},on:{clicked:function(e){t.saveConfiguration()}}})],1)])],1),o("core-content",[o("core-panel",[o("h1",[o("font-awesome-icon",{attrs:{icon:"cogs"}}),t._v("\n                "+t._s(t.serviceConfiguration.name.length>0?t.serviceConfiguration.name:"Unnamed Service")+"\n            ")],1),o("table",[o("tr",[o("td",[o("label",[t._v("Name")])]),o("td",[o("input",{directives:[{name:"model",rawName:"v-model",value:t.serviceConfiguration.name,expression:"serviceConfiguration.name"}],attrs:{type:"text",autocomplete:"off"},domProps:{value:t.serviceConfiguration.name},on:{input:function(e){e.target.composing||t.$set(t.serviceConfiguration,"name",e.target.value)}}})]),o("td",[t.nameValidationError.length>0?o("validation-error",[t._v("\n                            "+t._s(t.nameValidationError)+"\n                        ")]):t._e()],1)]),o("tr",[o("td",[o("label",{attrs:{for:"category-input"}},[t._v("Category")])]),o("td",[o("select",{directives:[{name:"model",rawName:"v-model",value:t.serviceConfiguration.category,expression:"serviceConfiguration.category"}],attrs:{id:"category-input",disabled:!t.newService},on:{change:[function(e){var o=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.$set(t.serviceConfiguration,"category",e.target.multiple?o:o[0])},function(e){t.loadServiceTypes(t.serviceConfiguration.category.key)}]}},t._l(t.serviceCategories,function(e){return o("option",{key:e.key,domProps:{value:e}},[t._v("\n                                "+t._s(e.label)+"\n                            ")])}),0)]),o("td")]),o("tr",[o("td",[o("label",{attrs:{for:"type-input"}},[t._v("Type")])]),o("td",[o("select",{directives:[{name:"model",rawName:"v-model",value:t.serviceConfiguration.type,expression:"serviceConfiguration.type"}],attrs:{id:"type-input",disabled:!t.newService},on:{change:[function(e){var o=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.$set(t.serviceConfiguration,"type",e.target.multiple?o:o[0])},function(e){t.loadTypeParameters(t.serviceConfiguration.type.key)}]}},t._l(t.serviceTypes,function(e){return o("option",{key:e.key,domProps:{value:e}},[t._v("\n                                "+t._s(e.label)+"\n                            ")])}),0)]),o("td")])])]),Object.keys(t.serviceConfiguration.parameters).length>0?o("core-panel",[o("h2",[t._v("Service Parameters")]),o("parameter-editor",{ref:"parameterEditor",attrs:{parameters:t.serviceConfiguration.parameters}})],1):t._e()],1)],1)},le=[],ue=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("table",[t._l(t.parameters,function(e,n){return[o("tr",{directives:[{name:"show",rawName:"v-show",value:t.showAdvancedParameters&&t.isAdvancedParameter(e.name)||!t.isAdvancedParameter(e.name),expression:"(showAdvancedParameters && isAdvancedParameter(param.name)) || !isAdvancedParameter(param.name)"}],key:e.name},[o("td",[e.optional?o("label",[t._v(t._s(t.formatParameterName(e.name)))]):t._e(),e.optional?t._e():o("label",[t._v(t._s(t.formatParameterName(e.name))+"*")])]),o("td",[t.isNumber(e.type)?o("input",{directives:[{name:"model",rawName:"v-model.number",value:e.value,expression:"param.value",modifiers:{number:!0}}],attrs:{type:"text",autocomplete:"off"},domProps:{value:e.value},on:{input:function(o){o.target.composing||t.$set(e,"value",t._n(o.target.value))},blur:function(e){t.$forceUpdate()}}}):t.isBoolean(e.type)?o("font-awesome-icon",{attrs:{icon:e.value?"check-square":"square"},on:{click:function(t){e.value=!e.value}}}):t.isService(e)?o("input",{directives:[{name:"model",rawName:"v-model",value:e.serviceName,expression:"param.serviceName"}],attrs:{disabled:!0},domProps:{value:e.serviceName},on:{input:function(o){o.target.composing||t.$set(e,"serviceName",o.target.value)}}}):o("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.value,expression:"param.value",modifiers:{trim:!0}}],attrs:{autocomplete:"off",type:t.parameterInputTypes[n]},domProps:{value:e.value},on:{input:function(o){o.target.composing||t.$set(e,"value",o.target.value.trim())},blur:function(e){t.$forceUpdate()}}}),t.isNumber(e.type)||t.isBoolean(e.type)||!e.secured?t.isService(e)?o("input-button",{staticClass:"button-margin-left",attrs:{icon:"cogs"},on:{clicked:function(o){t.openServicePicker(n,e.type)}}}):t._e():o("input-button",{staticClass:"button-margin-left",attrs:{icon:"eye"},on:{clicked:function(e){t.toggleCleartext(n)}}})],1),o("td",[t.checkValidationError(n)?o("validation-error",[t._v("\n            "+t._s(t.parameterValidationErrors[n])+"\n          ")]):t._e()],1)])]}),t.advancedParametersExist()?o("tr",[o("td",{attrs:{colspan:"2"}},[o("font-awesome-icon",{staticClass:"arrow",attrs:{icon:t.showAdvancedParameters?"chevron-up":"chevron-down"},on:{click:function(e){t.showAdvancedParameters=!t.showAdvancedParameters}}})],1)]):t._e()],2),o("service-picker",{directives:[{name:"show",rawName:"v-show",value:t.showServicePicker,expression:"showServicePicker"}],attrs:{services:t.services},on:{cancel:function(e){t.showServicePicker=!1},create:t.createService,selected:t.setSelectedService}})],1)},de=[],fe=(o("a481"),function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"error"},[t._t("default")],2)}),pe=[],ve={name:"validation-error"},he=ve,me=(o("1877"),Object(u["a"])(he,fe,pe,!1,null,"458ebd46",null)),be=me.exports,ge=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("modal-dialog",[o("h1",{attrs:{slot:"header"},slot:"header"},[t._v("Select Service")]),o("div",{attrs:{slot:"body"},slot:"body"},[o("table",t._l(t.services,function(e){return o("tr",{key:e.id},[o("td",{staticClass:"first"},[t._v("\n            "+t._s(e.name)+"\n          ")]),o("td",{staticClass:"last"},[o("input-button",{attrs:{icon:"crosshairs"},on:{clicked:function(o){t.$emit("selected",e)}}})],1)])}),0)]),o("button-row",{attrs:{slot:"footer"},slot:"footer"},[o("input-button",{attrs:{slot:"left",icon:"times"},on:{clicked:function(e){t.$emit("cancel")}},slot:"left"}),o("input-button",{attrs:{slot:"right",icon:"plus"},on:{clicked:function(e){t.$emit("create")}},slot:"right"})],1)],1)},ke=[],ye={name:"service-picker",components:{InputButton:M,ButtonRow:R,ModalDialog:et},props:["services"],data:function(){return{feedback:"",feedbackOk:!0}}},Ce=ye,_e=(o("8b83"),Object(u["a"])(Ce,ge,ke,!1,null,"ba6e8b18",null)),$e=_e.exports,xe={name:"parameter-editor",components:{ServicePicker:$e,InputButton:M,ValidationError:be},props:["parameters"],data:function(){return{validationOk:!0,showServicePicker:!1,showAdvancedParameters:!1,serviceParameterIndex:0,serviceParameterCategory:null,parameterValidationErrors:[],parameterInputTypes:[],services:[]}},events:{"validate-input":function(){this.validateInput()}},methods:{isNumber:function(t){var e="int"===t||"java.lang.Integer"===t||"long"===t||"java.lang.Long"===t;return e},isBoolean:function(t){var e="boolean"===t||"java.lang.Boolean"===t;return e},isService:function(t){return!!t.service},formatParameterName:function(t){return t=t.replace(/\.?([A-Z])/g,function(t,e){return" "+e.toLowerCase()}).replace(/^_/,""),t.charAt(0).toUpperCase()+t.slice(1)},validateInput:function(){for(var t=this.parameterValidationErrors.length;t>0;t--)this.parameterValidationErrors[t]="";var e=this;return this.parameters.forEach(function(t,o){e.parameterValidationErrors[o]=""}),this.parameters.forEach(function(t,o){t.optional&&null==t.value&&(t.value=""),t.optional||null!=t.value&&""!==t.value||(e.parameterValidationErrors[o]="Value required",e.validationOk=!1)}),this.$forceUpdate(),!!e.validationOk||(e.validationOk=!0,!1)},checkValidationError:function(t){return"undefined"===typeof this.parameterValidationErrors[t]&&(this.parameterValidationErrors[t]=""),this.parameterValidationErrors[t].length>0},toggleCleartext:function(t){"password"===this.parameterInputTypes[t]?this.$set(this.parameterInputTypes,t,"text"):this.$set(this.parameterInputTypes,t,"password")},openServicePicker:function(t,e){var o=this;o.serviceParameterCategory=e,this.$http.get("/api/service/category/"+e).then(function(e){for(var n=o.services.length;n>0;n--)o.services.pop();C()(e.data).forEach(function(t){o.services.push(t)}),o.services.sort(function(t,e){return t.name.localeCompare(e.name)}),o.serviceParameterIndex=t,o.showServicePicker=!0}).catch(function(t){o.$root.$data.store.setFeedback("Services could not be loaded: "+t,!0)})},setSelectedService:function(t){this.parameters[this.serviceParameterIndex].serviceName=t.name,this.parameters[this.serviceParameterIndex].value=t.id,this.showServicePicker=!1},createService:function(){this.$emit("create-service",this.serviceParameterIndex,this.serviceParameterCategory)},isAdvancedParameter:function(t){return"dataKey"===t||"numThreads"===t||"directoryKey"===t},advancedParametersExist:function(){for(var t=0;t<this.parameters.length;t++)if(this.isAdvancedParameter(this.parameters[t].name))return!0;return!1}},created:function(){var t=this;for(var e in this.parameters){var o=this.parameters[e];t.isNumber(o.type)||t.isBoolean(o.type)||(o.secured?t.$set(t.parameterInputTypes,e,"password"):t.$set(t.parameterInputTypes,e,"text"))}}},we=xe,je=(o("4770"),Object(u["a"])(we,ue,de,!1,null,"772ec35c",null)),Te=je.exports,Ee=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("core-content",{staticClass:"side-menu"},[o("core-panel",[o("h1",[t._t("title")],2),o("div",{staticClass:"buttons"},[t._t("buttons")],2),t.hasContentSlot?o("div",{staticClass:"content"},[t._t("content")],2):t._e(),o("div",{staticClass:"feedback"},[t._t("feedback")],2)])],1)},Se=[],Ie={name:"side-menu",components:{CorePanel:$t,CoreContent:ht},computed:{hasContentSlot:function(){return!!this.$slots["content"]}}},De=Ie,Pe=(o("0877"),Object(u["a"])(De,Ee,Se,!1,null,"79efb0c2",null)),Ae=Pe.exports,Je={name:"service-editor",components:{SideMenu:Ae,ValidationError:be,ButtonRow:R,CoreContent:ht,CoreContainer:lt,CorePanel:$t,InputButton:M,ParameterEditor:Te},props:["serviceId"],data:function(){return{newService:!0,serviceCategories:[],serviceTypes:[],nameValidationError:"",serviceConfiguration:{name:"",category:{},type:{},parameters:{}}}},methods:{loadService:function(t){var e=this;this.$http.get("/api/service/"+t).then(function(t){e.serviceConfiguration=t.data,e.serviceCategories.push(e.serviceConfiguration.category),e.selectedCategory=e.serviceConfiguration.category.key,e.serviceTypes.push(e.serviceConfiguration.type)}).catch(function(t){e.$root.$data.store.setFeedback("Loading service failed! ("+t+")",!0)})},loadServiceCategories:function(t){var e=this;this.$http.get("/api/category/service").then(function(o){for(var n=e.serviceCategories.length;n>0;n--)e.serviceCategories.pop();C()(o.data).forEach(function(o){null!=t?o.key===t&&e.serviceCategories.push(o):e.serviceCategories.push(o)}),e.serviceConfiguration.category=e.serviceCategories[0],e.loadServiceTypes(e.serviceConfiguration.category.key)}).catch(function(t){e.$root.$data.store.setFeedback("Loading categories failed! ("+t+")",!0)})},loadServiceTypes:function(t){var e=this;this.$http.get("/api/type/service/"+t).then(function(t){for(var o=e.serviceTypes.length;o>0;o--)e.serviceTypes.pop();C()(t.data).forEach(function(t){e.serviceTypes.push(t)}),e.serviceConfiguration.type=e.serviceTypes[0],e.loadTypeParameters(e.serviceConfiguration.type.key)}).catch(function(t){e.$root.$data.store.setFeedback("Loading types failed! ("+t+")",!0)})},loadTypeParameters:function(t){var e=this;this.$http.get("/api/parameters/service/"+t).then(function(t){e.serviceConfiguration.parameters=t.data}).catch(function(t){e.$root.$data.store.setFeedback("Loading type parameters failed! ("+t+")",!0)})},testConfiguration:function(){if(this.validateInput()){this.$root.$data.store.setWip("Testing service");var t=this;this.$http.post("/api/service/test",this.serviceConfiguration).then(function(){t.$root.$data.store.setFeedback("Test OK.",!1),t.$root.$data.store.clearWip()}).catch(function(e){t.$root.$data.store.setFeedback("Testing failed! ("+e+")",!0),t.$root.$data.store.clearWip()})}},saveConfiguration:function(){if(this.validateInput()){this.$root.$data.store.setWip("Saving service");var t=this;this.newService?this.$http.post("/api/service",this.serviceConfiguration).then(function(e){t.serviceConfiguration=e.data,t.$root.$data.store.setFeedback("Service '"+t.serviceConfiguration.name+"' saved.",!1),t.$root.$data.store.clearWip();var o=t.$root.$data.store.getJobData();if(null!=o.jobConfiguration){var n={name:t.serviceConfiguration.name,id:t.serviceConfiguration.id};o.serviceParameter=n}}).catch(function(e){t.$root.$data.store.setFeedback("Saving failed! ("+e+")",!1),t.$root.$data.store.clearWip()}):this.$http.put("/api/service",this.serviceConfiguration).then(function(){t.$root.$data.store.setFeedback("Service '"+t.serviceConfiguration.name+"' updated.",!1),t.$root.$data.store.clearWip()}).catch(function(e){t.$root.$data.store.setFeedback("Saving failed! ("+e+")",!1),t.$root.$data.store.clearWip()})}},cancelConfiguration:function(){var t=this.$root.$data.store.getJobData();null!=t.jobConfiguration?this.$router.push({name:"job-editor"}):this.$router.push({name:"services"})},validateInput:function(){this.nameValidationError="";var t=!0;null!=this.serviceConfiguration.name&&""!==this.serviceConfiguration.name||(this.nameValidationError="Name must be set",t=!1);var e=!0;return"undefined"!==typeof this.$refs.parameterEditor&&(e=this.$refs.parameterEditor.validateInput()),t&&e}},mounted:function(){if(null!=this.serviceId)this.newService=!1,this.loadService(this.serviceId);else{var t=this.$root.$data.store.getJobData();null!=t.serviceCategory?this.loadServiceCategories(t.serviceCategory):this.loadServiceCategories(null)}}},Ne=Je,Oe=(o("070c"),Object(u["a"])(Ne,ce,le,!1,null,"30c9eecd",null)),Re=Oe.exports,Fe=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("core-container",{staticClass:"min-width"},[o("spacer-item"),o("core-content",[o("list-header",{attrs:{addButtonTarget:"job-editor",addButtonText:"Add Job",filter:t.filter,"filter-key":"job-list-filter"}},[o("p",{attrs:{slot:"title"},slot:"title"},[t._v("Available Jobs")])]),t._l(t.filteredJobs,function(e){return o("job-list-entry",{key:e.id,attrs:{id:e.id,name:e.name,active:e.active},on:{"job-deleted":function(e){t.loadJobs()}}})})],2),o("spacer-item"),o("background-icon",{attrs:{right:"true","icon-one":"toolbox"}})],1)},Ve=[],Be=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("core-panel",[o("button-row",[o("list-name",{attrs:{slot:"left"},slot:"left"},[t._v("\n      "+t._s(t.name)+" "),t.active?t._e():o("span",[t._v("(inactive)")])]),o("p",{attrs:{slot:"right"},slot:"right"},[o("input-button",{staticClass:"button-margin-right",attrs:{icon:"trash-alt"},on:{clicked:function(e){t.showDeleteDialog=!t.showDeleteDialog}}}),o("input-button",{attrs:{icon:"cog"},on:{clicked:function(e){t.editJob(t.id)}}})],1)],1),t.showDeleteDialog?o("modal-dialog",[o("h1",{attrs:{slot:"header"},slot:"header"},[t._v("Delete Job?")]),o("p",{attrs:{slot:"body"},slot:"body"},[t._v("Do you really want to delete job '"+t._s(t.name)+"'?")]),o("div",{attrs:{slot:"footer"},slot:"footer"},[o("button-row",[o("input-button",{attrs:{slot:"left",icon:"times"},on:{clicked:function(e){t.showDeleteDialog=!1}},slot:"left"}),o("input-button",{attrs:{slot:"right",icon:"check"},on:{clicked:function(e){t.deleteJob(t.id)}},slot:"right"})],1)],1)]):t._e()],1)},Le=[],We={name:"job-list-entry",components:{CorePanel:$t,ButtonRow:R,ListName:At,InputButton:M,ModalDialog:et},props:["id","name","active"],data:function(){return{showDeleteDialog:!1}},methods:{editJob:function(t){this.$router.push({name:"job-editor",params:{jobId:t}})},deleteJob:function(t){this.showDeleteDialog=!1;var e=this;this.$http.delete("/api/job/"+t).then(function(){e.$root.$data.store.setFeedback("Job '"+e.name+"' has been deleted.",!1),e.$emit("job-deleted")}).catch(function(t){e.$root.$data.store.setFeedback("Job '"+e.name+"' could not be deleted ("+t+")",!0),e.$emit("job-deleted")})}}},Me=We,Ke=Object(u["a"])(Me,Be,Le,!1,null,"34d9b2ec",null),Ue=Ke.exports,He={name:"job-list",components:{BackgroundIcon:Ut,CoreContent:ht,CoreContainer:lt,JobListEntry:Ue,ListHeader:Vt,SpacerItem:T},data:function(){return{jobs:[],filterText:""}},methods:{loadJobs:function(){var t=this;this.$http.get("/api/job").then(function(e){for(var o=t.jobs.length;o>0;o--)t.jobs.pop();C()(e.data).forEach(function(e){t.jobs.push(e)}),t.jobs.sort(function(t,e){return t.name.localeCompare(e.name)})}).catch(function(e){t.$root.$data.store.setFeedback("Jobs could not be loaded ("+e+")",!0)})},filter:function(t){this.filterText=t}},computed:{filteredJobs:function(){var t=this;return this.jobs.filter(function(e){return e.name.includes(t.filterText)})}},mounted:function(){this.loadJobs()}},ze=He,qe=(o("f0e6"),Object(u["a"])(ze,Fe,Ve,!1,null,"f291b032",null)),Ge=qe.exports,Xe=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("core-container",[o("side-menu",[o("p",{attrs:{slot:"title"},slot:"title"},[t._v("Job Configuration")]),o("button-row",{attrs:{slot:"buttons"},on:{"cancel-configuration":t.cancelConfiguration},slot:"buttons"},[o("p",{attrs:{slot:"left"},slot:"left"},[o("input-button",{staticClass:"button-margin-right",attrs:{icon:"arrow-left"},on:{clicked:t.cancelConfiguration}}),o("input-button",{staticClass:"button-margin-right",attrs:{icon:"plug"},on:{clicked:t.testConfiguration}}),o("input-button",{attrs:{icon:"save"},on:{clicked:t.saveConfiguration}})],1),o("p",{attrs:{slot:"right"},slot:"right"},[o("input-button",{attrs:{icon:"times",disabled:!t.jobRunning},on:{clicked:t.cancelJob}}),o("input-button",{staticClass:"button-margin-left",attrs:{icon:"play",disabled:t.jobRunning||null==t.jobConfiguration.id},on:{clicked:t.runJob}})],1)]),o("job-tree-navigation",{attrs:{slot:"content","job-configuration":t.jobConfiguration,"validation-errors":t.validationErrors,"selected-task-index":t.selectedTaskIndex,"selected-action-index":t.selectedActionIndex},on:{"job-is-selected":t.selectJob,"task-is-selected":t.selectTask,"action-is-selected":t.selectAction,"add-task":t.addTask,"delete-task":t.showDeleteTask,"add-action":t.addAction,"delete-action":t.showDeleteAction,"move-task-up":t.moveTaskUp,"move-task-down":t.moveTaskDown,"move-action-up":t.moveActionUp,"move-action-down":t.moveActionDown},slot:"content"}),o("p",{attrs:{slot:"feedback"},slot:"feedback"},t._l(t.jobExecutions,function(e,n){return o("feedback-box",{key:n,attrs:{alert:"FAILED"===e.executionState}},[o("label",{attrs:{slot:"feedback"},slot:"feedback"},[t._v(t._s(t.formatJobExecution(e)))]),"WAITING"===e.executionState||"RUNNING"===e.executionState?o("font-awesome-icon",{staticClass:"fa-spin",staticStyle:{"margin-right":"5px"},attrs:{slot:"feedback",icon:"spinner"},slot:"feedback"}):t._e(),o("input-button",{attrs:{slot:"button",icon:"info"},on:{clicked:function(o){t.selectedJobExecution=e}},slot:"button"})],1)}),1)],1),o("core-content",[o("job-configurator",{directives:[{name:"show",rawName:"v-show",value:-1==t.selectedTaskIndex,expression:"selectedTaskIndex == -1"}],ref:"jobConfigurator",attrs:{"job-configuration":t.jobConfiguration}}),t._l(t.jobConfiguration.tasks,function(e,n){return o("task-configurator",{directives:[{name:"show",rawName:"v-show",value:t.selectedTaskIndex==n&&-1==t.selectedActionIndex,expression:"selectedTaskIndex == taskIndex && selectedActionIndex == -1"}],key:n,ref:"taskConfigurators",refInFor:!0,attrs:{"task-key":n,task:e},on:{"create-service":t.createService}})}),t._l(t.jobConfiguration.tasks,function(e,n){return t._l(e.actions,function(e,a){return o("action-configurator",{directives:[{name:"show",rawName:"v-show",value:t.selectedTaskIndex==n&&t.selectedActionIndex==a,expression:"selectedTaskIndex == taskIndex && selectedActionIndex == actionIndex"}],key:n+"_"+a,ref:"actionConfigurators",refInFor:!0,attrs:{"action-key":n+"_"+a,action:e},on:{"create-service":t.createService}})})}),t.showDeleteTaskDialog?o("modal-dialog",{on:{close:function(e){t.showDeleteTaskDialog=!1}}},[o("h1",{attrs:{slot:"header"},slot:"header"},[t._v("Delete Task?")]),o("p",{attrs:{slot:"body"},slot:"body"},[t._v("Do you really want to delete this Task?")]),o("div",{attrs:{slot:"footer"},slot:"footer"},[o("button-row",[o("input-button",{attrs:{slot:"left",icon:"times"},on:{clicked:function(e){t.showDeleteTaskDialog=!1}},slot:"left"}),o("input-button",{attrs:{slot:"right",icon:"check"},on:{clicked:function(e){t.deleteTask()}},slot:"right"})],1)],1)]):t._e(),t.showDeleteActionDialog?o("modal-dialog",{on:{close:function(e){t.showDeleteActionDialog=!1}}},[o("h1",{attrs:{slot:"header"},slot:"header"},[t._v("Delete Action?")]),o("p",{attrs:{slot:"body"},slot:"body"},[t._v("Do you really want to delete this Action?")]),o("div",{attrs:{slot:"footer"},slot:"footer"},[o("button-row",[o("input-button",{attrs:{slot:"left",icon:"times"},on:{clicked:function(e){t.showDeleteActionDialog=!1}},slot:"left"}),o("input-button",{attrs:{slot:"right",icon:"check"},on:{clicked:function(e){t.deleteAction()}},slot:"right"})],1)],1)]):t._e(),null!=t.selectedJobExecution?o("job-execution-details",{attrs:{"job-execution":t.selectedJobExecution},on:{close:function(e){t.selectedJobExecution=null}}}):t._e()],2),null==t.testResults||-1==t.selectedTaskIndex&&-1==t.selectedActionIndex?t._e():o("test-result-container",{attrs:{heading:"Dry-run results","selected-test-results":t.selectedTestResults},on:{close:function(e){t.testResults=null}}})],1)},Ze=[],Qe=(o("28a5"),function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"treeview"},[o("ul",[o("li",[o("span",{staticClass:"item",class:{selected:-1==t.selectedTaskIndex&&-1==t.selectedActionIndex,"validation-error":t.hasValidationErrors(-1,-1)},on:{click:function(e){t.$emit("job-is-selected")}}},[o("font-awesome-icon",{attrs:{icon:"toolbox"}}),o("span",[t._v("\n                            "+t._s(t.jobConfiguration.name.length>0?t.formatName(t.jobConfiguration.name):"Unnamed Job")+"\n                        ")])],1),o("ul",{staticClass:"tree"},[t._l(t.jobConfiguration.tasks,function(e,n){return o("li",{key:n},[o("span",{staticClass:"item",class:{selected:t.isTaskSelected(n),"validation-error":t.hasValidationErrors(n,-1)},on:{click:function(e){t.$emit("task-is-selected",n)}}},[o("font-awesome-icon",{attrs:{icon:"tasks"}}),o("span",[t._v("\n                                    "+t._s(e.name.length>0?t.formatName(e.name):"Unnamed Task")+"\n                                ")]),n>0?o("font-awesome-icon",{staticClass:"fa-xs",attrs:{icon:"arrow-up"},on:{click:function(e){e.stopPropagation(),t.$emit("move-task-up",n)}}}):t._e(),n<t.jobConfiguration.tasks.length-1?o("font-awesome-icon",{staticClass:"button-margin-left fa-xs",attrs:{icon:"arrow-down"},on:{click:function(e){e.stopPropagation(),t.$emit("move-task-down",n)}}}):t._e(),o("font-awesome-icon",{staticClass:"button-margin-left fa-xs",attrs:{icon:"trash-alt"},on:{click:function(e){t.$emit("delete-task",n)}}})],1),o("ul",[t._l(e.actions,function(e,a){return o("li",{key:a},[o("span",{staticClass:"item",class:{selected:t.isActionSelected(n,a),"validation-error":t.hasValidationErrors(n,a)},on:{click:function(e){t.$emit("action-is-selected",n,a)}}},[o("font-awesome-icon",{attrs:{icon:"wrench"}}),o("span",[t._v("\n                                            "+t._s(t.formatName(e.type.label))+"\n                                        ")]),a>0?o("font-awesome-icon",{staticClass:"fa-xs",attrs:{icon:"arrow-up"},on:{click:function(e){e.stopPropagation(),t.$emit("move-action-up",n,a)}}}):t._e(),a<t.jobConfiguration.tasks[n].actions.length-1?o("font-awesome-icon",{staticClass:"button-margin-left fa-xs",attrs:{icon:"arrow-down"},on:{click:function(e){e.stopPropagation(),t.$emit("move-action-down",n,a)}}}):t._e(),o("font-awesome-icon",{staticClass:"button-margin-left fa-xs",attrs:{icon:"trash-alt"},on:{click:function(e){t.$emit("delete-action",n,a)}}})],1)])}),o("li",[o("span",{staticClass:"item",on:{click:function(e){t.$emit("add-action",n)}}},[o("font-awesome-icon",{staticClass:"font-18",attrs:{icon:["fas","plus-circle"]}}),o("span",[t._v("\n                                            Add Action\n                                        ")])],1)])],2)])}),o("li",[o("span",{staticClass:"item",on:{click:function(e){t.$emit("add-task")}}},[o("font-awesome-icon",{attrs:{icon:["fas","plus-circle"]}}),o("span",[t._v("\n                                    Add Task\n                                ")])],1)])],2)])])])}),Ye=[],to={name:"job-tree-navigation",props:["jobConfiguration","validationErrors","selectedTaskIndex","selectedActionIndex"],methods:{isTaskSelected:function(t){return t==this.selectedTaskIndex&&-1==this.selectedActionIndex},isActionSelected:function(t,e){return t==this.selectedTaskIndex&&e==this.selectedActionIndex},hasValidationErrors:function(t,e){return this.validationErrors.indexOf(t+"_"+e)>-1},formatName:function(t){return t.length>30?t.substring(0,30)+"...":t}}},eo=to,oo=(o("5f54"),Object(u["a"])(eo,Qe,Ye,!1,null,"5c8a456d",null)),no=oo.exports,ao=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("core-panel",[o("h1",[o("font-awesome-icon",{attrs:{icon:"toolbox"}}),t._v("\n        "+t._s(t.jobConfiguration.name.length>0?t.jobConfiguration.name:"Unnamed Job")+"\n    ")],1),o("table",[o("tr",[o("td",[o("label",[t._v("Name")])]),o("td",[o("input",{directives:[{name:"model",rawName:"v-model",value:t.jobConfiguration.name,expression:"jobConfiguration.name"}],attrs:{type:"text",autocomplete:"off"},domProps:{value:t.jobConfiguration.name},on:{input:function(e){e.target.composing||t.$set(t.jobConfiguration,"name",e.target.value)}}})]),o("td",[t.nameValidationError.length>0?o("validation-error",[t._v("\n                    "+t._s(t.nameValidationError)+"\n                ")]):t._e()],1)]),o("tr",[o("td",[o("label",{attrs:{for:"trigger-input"}},[t._v("Trigger")])]),o("td",[o("input",{directives:[{name:"model",rawName:"v-model",value:t.jobConfiguration.trigger,expression:"jobConfiguration.trigger"}],attrs:{id:"trigger-input",type:"text",autocomplete:"off"},domProps:{value:t.jobConfiguration.trigger},on:{input:function(e){e.target.composing||t.$set(t.jobConfiguration,"trigger",e.target.value)}}}),o("input-button",{staticClass:"button-margin-left",attrs:{icon:"clock"},on:{clicked:function(e){t.showCronTrigger=!0}}})],1),o("td",[t.triggerValidationError.length>0?o("validation-error",[t._v("\n                    "+t._s(t.triggerValidationError)+"\n                ")]):t._e()],1)]),o("tr",[o("td",[o("label",{attrs:{for:"description-input"}},[t._v("Description")])]),o("td",[o("input",{directives:[{name:"model",rawName:"v-model",value:t.jobConfiguration.description,expression:"jobConfiguration.description"}],attrs:{id:"description-input",type:"text",autocomplete:"off"},domProps:{value:t.jobConfiguration.description},on:{input:function(e){e.target.composing||t.$set(t.jobConfiguration,"description",e.target.value)}}})]),o("td")]),o("tr",[o("td",[o("label",{attrs:{for:"numexechistory-input"}},[t._v("Execution-History Limit")])]),o("td",[o("input",{directives:[{name:"model",rawName:"v-model.number",value:t.jobConfiguration.executionHistoryLimit,expression:"jobConfiguration.executionHistoryLimit",modifiers:{number:!0}}],attrs:{id:"numexechistory-input",type:"text",autocomplete:"off"},domProps:{value:t.jobConfiguration.executionHistoryLimit},on:{input:function(e){e.target.composing||t.$set(t.jobConfiguration,"executionHistoryLimit",t._n(e.target.value))},blur:function(e){t.$forceUpdate()}}})]),o("td")]),o("tr",[o("td",[o("label",[t._v("Active")])]),o("td",[o("font-awesome-icon",{attrs:{icon:t.jobConfiguration.active?"check-square":"square"},on:{click:function(e){t.jobConfiguration.active=!t.jobConfiguration.active}}})],1),o("td")])]),o("cron-picker",{directives:[{name:"show",rawName:"v-show",value:t.showCronTrigger,expression:"showCronTrigger"}],on:{selected:t.setCronTrigger,cancel:function(e){t.showCronTrigger=!1}}})],1)},io=[],ro=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("modal-dialog",[o("h1",{attrs:{slot:"header"},slot:"header"},[t._v("Example CRON Expressions")]),o("div",{attrs:{slot:"body"},slot:"body"},[o("table",[o("tr",[o("td",[t._v('"0 0 * * * *"')]),o("td",[t._v("The top of every hour of every day.")]),o("td",{staticClass:"last"},[o("input-button",{attrs:{icon:"crosshairs"},on:{clicked:function(e){t.$emit("selected","0 0 * * * *")}}})],1)]),o("tr",[o("td",[t._v('"*/10 * * * * *"')]),o("td",[t._v("Every ten seconds.")]),o("td",{staticClass:"last"},[o("input-button",{attrs:{icon:"crosshairs"},on:{clicked:function(e){t.$emit("selected","*/10 * * * * *")}}})],1)]),o("tr",[o("td",[t._v('"0 */15 * * * *"')]),o("td",[t._v("Once every fifteen minutes.")]),o("td",{staticClass:"last"},[o("input-button",{attrs:{icon:"crosshairs"},on:{clicked:function(e){t.$emit("selected","0 */15 * * * *")}}})],1)]),o("tr",[o("td",[t._v('"0 0 8,10 * * *"')]),o("td",[t._v("8 and 10 o'clock of every day.")]),o("td",{staticClass:"last"},[o("input-button",{attrs:{icon:"crosshairs"},on:{clicked:function(e){t.$emit("selected","0 0 8,10 * * *")}}})],1)]),o("tr",[o("td",[t._v('"0 0/30 8-10 * * *"')]),o("td",[t._v("8:00, 8:30, 9:00, 9:30 and 10 o'clock every day.")]),o("td",{staticClass:"last"},[o("input-button",{attrs:{icon:"crosshairs"},on:{clicked:function(e){t.$emit("selected","0 0/30 8-10 * * *")}}})],1)]),o("tr",[o("td",[t._v('"0 0 9-17 * * MON-FRI"')]),o("td",[t._v("On the hour nine-to-five weekdays")]),o("td",{staticClass:"last"},[o("input-button",{attrs:{icon:"crosshairs"},on:{clicked:function(e){t.$emit("selected","0 0 9-17 * * MON-FRI")}}})],1)]),o("tr",[o("td",[t._v('"0 0 0 25 12 ?"')]),o("td",[t._v("Every Christmas Day at midnight.")]),o("td",{staticClass:"last"},[o("input-button",{attrs:{icon:"crosshairs"},on:{clicked:function(e){t.$emit("selected","0 0 0 25 12 ?")}}})],1)])])]),o("button-row",{attrs:{slot:"footer"},slot:"footer"},[o("input-button",{attrs:{slot:"left",icon:"times"},on:{clicked:function(e){t.$emit("cancel")}},slot:"left"})],1)],1)},so=[],co={name:"cron-picker",components:{ButtonRow:R,InputButton:M,ModalDialog:et}},lo=co,uo=(o("2203"),Object(u["a"])(lo,ro,so,!1,null,"7a6f6ab3",null)),fo=uo.exports,po={name:"job-configurator",components:{InputButton:M,ValidationError:be,CorePanel:$t,CronPicker:fo},props:["jobConfiguration"],data:function(){return{nameValidationError:"",triggerValidationError:"",showCronTrigger:!1}},methods:{setCronTrigger:function(t){this.jobConfiguration.trigger=t,this.showCronTrigger=!1},validateInput:function(){this.nameValidationError="",this.triggerValidationError="";var t=!0;null!=this.jobConfiguration.name&&""!==this.jobConfiguration.name||(t=!1,this.nameValidationError="Value required");var e=!0;return null!=this.jobConfiguration.trigger&&""!==this.jobConfiguration.trigger||(e=!1,this.triggerValidationError="Value required"),t&&e}}},vo=po,ho=Object(u["a"])(vo,ao,io,!1,null,"7e4a6d75",null),mo=ho.exports,bo=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("core-panel",[o("h1",[o("font-awesome-icon",{attrs:{icon:"tasks"}}),t._v("\n            "+t._s(t.task.name.length>0?t.task.name:"Unnamed Task")+"\n        ")],1),o("table",[o("tr",[o("td",[o("label",[t._v("Name")])]),o("td",[o("input",{directives:[{name:"model",rawName:"v-model",value:t.task.name,expression:"task.name"}],attrs:{type:"text",autocomplete:"off"},domProps:{value:t.task.name},on:{input:function(e){e.target.composing||t.$set(t.task,"name",e.target.value)}}})]),o("td",[t.nameValidationError.length>0?o("validation-error",[t._v("\n                        "+t._s(t.nameValidationError)+"\n                    ")]):t._e()],1)]),o("tr",[o("td",[o("label",[t._v("Description")])]),o("td",[o("input",{directives:[{name:"model",rawName:"v-model",value:t.task.description,expression:"task.description"}],attrs:{type:"text",autocomplete:"off"},domProps:{value:t.task.description},on:{input:function(e){e.target.composing||t.$set(t.task,"description",e.target.value)}}})]),o("td")])])]),o("core-panel",[o("h2",[t._v("Provider")]),o("table",[o("tr",[o("td",[o("label",[t._v("Category")])]),o("td",[o("select",{directives:[{name:"model",rawName:"v-model",value:t.task.provider.category,expression:"task.provider.category"}],on:{change:[function(e){var o=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.$set(t.task.provider,"category",e.target.multiple?o:o[0])},function(e){t.loadTypes(t.task.provider.category.key)}]}},t._l(t.providerCategories,function(e){return o("option",{key:e.key,domProps:{value:e}},[t._v("\n                            "+t._s(e.label)+"\n                        ")])}),0)])]),o("tr",[o("td",[o("label",[t._v("Type")])]),o("td",[o("select",{directives:[{name:"model",rawName:"v-model",value:t.task.provider.type,expression:"task.provider.type"}],on:{change:[function(e){var o=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.$set(t.task.provider,"type",e.target.multiple?o:o[0])},function(e){t.loadTypeParameters(t.task.provider.type.key)}]}},t._l(t.providerTypes,function(e){return o("option",{key:e.key,domProps:{value:e}},[t._v("\n                            "+t._s(e.label)+"\n                        ")])}),0)])])])]),o("core-panel",[o("h2",[t._v("Provider Parameters")]),o("parameter-editor",{ref:"parameterEditor",attrs:{parameters:t.task.provider.parameters},on:{"create-service":t.createService}})],1)],1)},go=[],ko=o("a745"),yo=o.n(ko),Co={name:"task-configurator",components:{CorePanel:$t,ParameterEditor:Te,ValidationError:be},props:["task","taskKey"],data:function(){return{nameValidationError:"",providerCategories:[],providerTypes:[],initializeTypeParameters:!0}},methods:{loadCategories:function(){var t=this;this.$http.get("/api/category/provider").then(function(e){for(var o=t.providerCategories.length;o>0;o--)t.providerCategories.pop();C()(e.data).forEach(function(e){t.providerCategories.push(e)}),t.loadTypes(t.task.provider.category.key)}).catch(function(e){t.feedback=e,t.feedbackOk=!1})},loadTypes:function(t){var e=this;this.$http.get("/api/type/provider/"+t).then(function(t){for(var o=e.providerTypes.length;o>0;o--)e.providerTypes.pop();C()(t.data).forEach(function(t){e.providerTypes.push(t)}),e.initializeTypeParameters?e.loadTypeParameters(e.task.provider.type.key):e.initializeTypeParameters=!0}).catch(function(t){e.feedback=t,e.feedbackOk=!1})},loadTypeParameters:function(t){var e=this;e.initializeTypeParameters=!0,this.$http.get("/api/parameters/provider/"+t).then(function(t){e.task.provider.parameters=t.data}).catch(function(t){e.feedback=t,e.feedbackOk=!1})},validateInput:function(){this.nameValidationError="";var t=!0;null!=this.task.name&&""!==this.task.name||(this.nameValidationError="Name must be set",t=!1);var e=!0;return"undefined"!==typeof this.$refs.parameterEditor&&(e=this.$refs.parameterEditor.validateInput()),t&&e},createService:function(t,e){this.$emit("create-service",this.taskKey,t,e)}},mounted:function(){yo()(this.task.provider.parameters)&&this.task.provider.parameters.length&&(this.initializeTypeParameters=!1),this.loadCategories()}},_o=Co,$o=Object(u["a"])(_o,bo,go,!1,null,"8492b736",null),xo=$o.exports,wo=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("core-panel",[o("h1",[o("font-awesome-icon",{attrs:{icon:"wrench"}}),t._v("\n            "+t._s(t.action.type.label)+"\n        ")],1),o("table",[o("tr",[o("td",[o("label",[t._v("Category")])]),o("td",[o("select",{directives:[{name:"model",rawName:"v-model",value:t.action.category,expression:"action.category"}],on:{change:[function(e){var o=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.$set(t.action,"category",e.target.multiple?o:o[0])},function(e){t.loadTypes(t.action.category.key)}]}},t._l(t.categories,function(e){return o("option",{key:e.key,domProps:{value:e}},[t._v("\n                            "+t._s(e.label)+"\n                        ")])}),0)])]),o("tr",[o("td",[t._v("Type")]),o("td",[o("select",{directives:[{name:"model",rawName:"v-model",value:t.action.type,expression:"action.type"}],on:{change:[function(e){var o=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.$set(t.action,"type",e.target.multiple?o:o[0])},function(e){t.loadTypeParameters(t.action.type.key)}]}},t._l(t.types,function(e){return o("option",{key:e.key,domProps:{value:e}},[t._v("\n                            "+t._s(e.label)+"\n                        ")])}),0)])])])]),o("core-panel",[o("h2",[t._v("Action Parameters")]),o("parameter-editor",{ref:"parameterEditor",attrs:{parameters:t.action.parameters},on:{"create-service":t.createService}})],1)],1)},jo=[],To={name:"action-configurator",components:{CorePanel:$t,ParameterEditor:Te},props:["action","actionKey"],data:function(){return{categories:[],types:[],initializeTypeParameters:!0}},methods:{loadCategories:function(){var t=this;this.$http.get("/api/category/action").then(function(e){for(var o=t.categories.length;o>0;o--)t.categories.pop();C()(e.data).forEach(function(e){t.categories.push(e)}),t.loadTypes(t.action.category.key)}).catch(function(e){t.feedback=e,t.feedbackOk=!1})},loadTypes:function(t){var e=this;this.$http.get("/api/type/action/"+t).then(function(t){for(var o=e.types.length;o>0;o--)e.types.pop();C()(t.data).forEach(function(t){e.types.push(t)}),e.initializeTypeParameters?e.loadTypeParameters(e.action.type.key):e.initializeTypeParameters=!0}).catch(function(t){e.feedback=t,e.feedbackOk=!1})},loadTypeParameters:function(t){var e=this;e.initializeTypeParameters=!0,this.$http.get("/api/parameters/action/"+t).then(function(t){e.action.parameters=t.data}).catch(function(t){e.feedback=t,e.feedbackOk=!1})},validateInput:function(){var t=!0;return"undefined"!==typeof this.$refs.parameterEditor&&(t=this.$refs.parameterEditor.validateInput()),t},createService:function(t,e){this.$emit("create-service",this.actionKey,t,e)}},watch:{action:function(){this.initializeTypeParameters=!1,this.loadCategories()}},mounted:function(){yo()(this.action.parameters)&&this.action.parameters.length&&(this.initializeTypeParameters=!1),this.loadCategories()}},Eo=To,So=Object(u["a"])(Eo,wo,jo,!1,null,"6c69019f",null),Io=So.exports,Do=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("transition",{attrs:{name:"slide-fade"}},[o("core-content",[o("div",{staticClass:"test-result-container"},[o("button-row",[o("h1",{attrs:{slot:"left"},slot:"left"},[t._v(t._s(t.heading))]),o("input-button",{attrs:{slot:"right",icon:"times"},on:{clicked:function(e){t.$emit("close")}},slot:"right"})],1),o("pre",[t._v("      "),o("code",[t._v("\n"+t._s(t.format(t.selectedTestResults))+"\n      ")]),t._v("\n    ")])],1)])],1)},Po=[],Ao=o("f499"),Jo=o.n(Ao),No={name:"test-result-container",components:{CoreContent:ht,InputButton:M,ButtonRow:R},props:["heading","selectedTestResults"],methods:{format:function(t){return Jo()(t,null,2)}}},Oo=No,Ro=(o("0386"),Object(u["a"])(Oo,Do,Po,!1,null,"f7d7b10c",null)),Fo=Ro.exports,Vo=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("button-row",{staticClass:"margin-bottom",class:{info:!t.alert,alert:t.alert}},[t._t("feedback",null,{slot:"left"}),t._t("button",null,{slot:"right"})],2)},Bo=[],Lo={name:"feedback-box",components:{ButtonRow:R},props:["alert"]},Wo=Lo,Mo=(o("c6d7"),Object(u["a"])(Wo,Vo,Bo,!1,null,"aab30a5c",null)),Ko=Mo.exports,Uo=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("modal-dialog",[o("p",{attrs:{slot:"header"},slot:"header"},[o("button-row",[o("h1",{attrs:{slot:"left"},slot:"left"},[t._v("Job Execution Details")]),o("input-button",{attrs:{slot:"right",icon:"times"},on:{clicked:function(e){t.$emit("close")}},slot:"right"})],1)],1),o("div",{attrs:{slot:"body"},slot:"body"},[o("h2",[t._v("Time and state")]),o("table",{staticClass:"execution-core"},[o("tr",[o("td",[t._v("State")]),o("td",[t._v(t._s(t.jobExecution.executionState))])]),null==t.jobExecution.started?o("tr",[o("td",[t._v("Scheduled:")]),o("td",[t._v(t._s(t.formatDate(t.jobExecution.created)))])]):t._e(),null==t.jobExecution.started?o("tr",[o("td",[t._v("Waiting:")]),o("td",[t._v(t._s(t.calculateDuration(t.jobExecution.created,t.jobExecution.finished)))])]):t._e(),null!=t.jobExecution.started?o("tr",[o("td",[t._v("Started:")]),o("td",[t._v(t._s(t.formatDate(t.jobExecution.started)))])]):t._e(),null!=t.jobExecution.finished?o("tr",[o("td",[t._v("Finished:")]),o("td",[t._v(t._s(t.formatDate(t.jobExecution.finished)))])]):t._e(),null!=t.jobExecution.started?o("tr",[o("td",[t._v("Duration:")]),o("td",[t._v(t._s(t.calculateDuration(t.jobExecution.started,t.jobExecution.finished)))])]):t._e()]),""!=t.jobExecution.errorCause?o("div",[o("h2",[t._v("Error cause")]),o("pre",[o("code",[t._v(t._s(t.jobExecution.errorCause)+"\n  ")]),t._v("\n")])]):t._e()])])},Ho=[],zo=(o("6b54"),o("f576"),o("0a0d")),qo=o.n(zo),Go={name:"job-execution-details",props:["jobExecution"],components:{InputButton:M,ButtonRow:R,ModalDialog:et},methods:{formatDate:function(t){var e={year:"numeric",month:"2-digit",day:"2-digit"},o=new Date(t);return o.toLocaleDateString(void 0,e)+" "+o.toLocaleTimeString()},calculateDuration:function(t,e){var o=new Date(t).getTime(),n=qo()();null!=e&&(n=new Date(e).getTime());var a=Math.ceil((n-o)/1e3),i=Math.floor(a/3600)%24;a-=3600*i;var r=Math.floor(a/60)%60;a-=60*r;var s=a%60;return i.toString().padStart(2,"0")+":"+r.toString().padStart(2,"0")+":"+s.toString().padStart(2,"0")}}},Xo=Go,Zo=(o("1f2c"),Object(u["a"])(Xo,Uo,Ho,!1,null,"8bb8d852",null)),Qo=Zo.exports,Yo={name:"job-editor",components:{JobExecutionDetails:Qo,FeedbackBox:Ko,SideMenu:Ae,TestResultContainer:Fo,InputButton:M,ButtonRow:R,ModalDialog:et,ActionConfigurator:Io,TaskConfigurator:xo,JobConfigurator:mo,JobTreeNavigation:no,CoreContent:ht,CoreContainer:lt},props:["jobId"],data:function(){return{newJob:!0,showDeleteTaskDialog:!1,showDeleteActionDialog:!1,initialProviderCategory:{},initialProviderType:{},initialActionCategory:{},initialActionType:{},selectedTaskIndex:-1,selectedActionIndex:-1,selectedJobExecution:null,testResults:null,selectedTestResults:null,jobConfiguration:{name:"New Job",trigger:"",description:"",executionHistoryLimit:5,active:!0,tasks:[]},validationErrors:[],jobExecutions:[],jobExecutionsRefreshTimer:null}},computed:{jobRunning:function(){if(null!=this.jobExecutions)for(var t=0;t<this.jobExecutions.length;t++)if("RUNNING"===this.jobExecutions[t].executionState)return!0;return!1}},methods:{formatJobExecution:function(t){var e={year:"numeric",month:"2-digit",day:"2-digit"};if("RUNNING"===t.executionState){var o=new Date(t.started);return o.toLocaleDateString(void 0,e)+" "+o.toLocaleTimeString()+" (running)"}if("WAITING"===t.executionState){var n=new Date(t.created);return n.toLocaleDateString(void 0,e)+" "+n.toLocaleTimeString()+" (waiting)"}if("FINISHED"===t.executionState){var a=new Date(t.finished);return a.toLocaleDateString(void 0,e)+" "+a.toLocaleTimeString()+" (finished)"}if("CANCELLED"===t.executionState){var i=new Date(t.finished);return i.toLocaleDateString(void 0,e)+" "+i.toLocaleTimeString()+" (cancelled)"}if("FAILED"===t.executionState){var r=new Date(t.finished);return r.toLocaleDateString(void 0,e)+" "+r.toLocaleTimeString()+" (failed)"}return t.executionState},loadJob:function(t){var e=this;this.$http.get("/api/job/"+t).then(function(t){e.jobConfiguration=t.data,e.updateJobExecutions()}).catch(function(t){e.$root.$data.store.setFeedback("Loading failed! ("+t+")",!0)})},saveConfiguration:function(){if(this.validateInput()){this.testResults=null;var t=this;this.$root.$data.store.setWip("Saving job"),this.newJob?this.$http.post("/api/job",this.jobConfiguration).then(function(e){t.jobConfiguration=e.data,t.newJob=!1,t.$root.$data.store.setFeedback("Job '"+t.jobConfiguration.name+"' saved.",!1),t.$root.$data.store.clearWip(),t.$router.push({name:"job-editor",params:{jobId:t.jobConfiguration.id}})}).catch(function(e){t.$root.$data.store.setFeedback("Saving failed! ("+e+")",!0),t.$root.$data.store.clearWip()}):this.$http.put("/api/job",this.jobConfiguration).then(function(e){t.jobConfiguration=e.data,t.$root.$data.store.setFeedback("Job '"+t.jobConfiguration.name+"' updated.",!1),t.$root.$data.store.clearWip()}).catch(function(e){t.$root.$data.store.setFeedback("Saving failed! ("+e+")",!0),t.$root.$data.store.clearWip()})}},testConfiguration:function(){if(this.validateInput()){this.testResults=null,this.selectedTestResults=null;var t=this;this.$root.$data.store.setWip("Testing job"),this.$http.post("/api/job/test",this.jobConfiguration).then(function(e){t.testResults=e.data,t.$root.$data.store.setFeedback("Test OK.",!1),t.$root.$data.store.clearWip(),t.updateSelectedTestResult()}).catch(function(e){t.$root.$data.store.setFeedback("Testing failed! ("+e+")",!0),t.$root.$data.store.clearWip()})}},cancelConfiguration:function(){this.$router.push({name:"jobs"})},selectJob:function(){this.selectedTaskIndex=-1,this.selectedActionIndex=-1,this.selectedTestResults=null},selectTask:function(t){this.selectedTaskIndex=t,this.selectedActionIndex=-1,this.updateSelectedTestResult()},selectAction:function(t,e){this.selectedTaskIndex=t,this.selectedActionIndex=e,this.updateSelectedTestResult()},addTask:function(){var t={name:"Task",description:"",provider:{category:this.initialProviderCategory,type:this.initialProviderType,parameters:[]},actions:[]};this.jobConfiguration.tasks.push(t),this.selectTask(this.jobConfiguration.tasks.length-1)},showDeleteTask:function(t){this.selectedTaskIndex=t,this.showDeleteTaskDialog=!0},deleteTask:function(){this.validationErrors=[],this.$delete(this.jobConfiguration.tasks,this.selectedTaskIndex),this.showDeleteTaskDialog=!1,this.selectedTaskIndex=-1,this.selectedActionIndex=-1},addAction:function(t){var e={category:this.initialActionCategory,type:this.initialActionType,parameters:[]};this.jobConfiguration.tasks[t].actions.push(e),this.selectAction(t,this.jobConfiguration.tasks[t].actions.length-1)},showDeleteAction:function(t,e){this.selectedTaskIndex=t,this.selectedActionIndex=e,this.showDeleteActionDialog=!0},deleteAction:function(){this.validationErrors=[],this.jobConfiguration.tasks[this.selectedTaskIndex].actions.splice(this.selectedActionIndex,1),this.showDeleteActionDialog=!1,this.selectedTaskIndex=-1,this.selectedActionIndex=-1},moveTaskUp:function(t){0!==t&&(this.arrayMove(this.jobConfiguration.tasks,t,t-1),this.selectTask(t-1))},moveTaskDown:function(t){t<this.jobConfiguration.tasks.length-1&&(this.arrayMove(this.jobConfiguration.tasks,t,t+1),this.selectTask(t+1))},moveActionUp:function(t,e){0!==e&&(this.arrayMove(this.jobConfiguration.tasks[t].actions,e,e-1),this.selectAction(t,e-1),this.validationErrors=[])},moveActionDown:function(t,e){e<this.jobConfiguration.tasks[t].actions.length-1&&(this.arrayMove(this.jobConfiguration.tasks[t].actions,e,e+1),this.selectAction(t,e+1),this.validationErrors=[])},arrayMove:function(t,e,o){if(o>=t.length){var n=o-t.length+1;while(n--)t.push(void 0)}t.splice(o,0,t.splice(e,1)[0])},validateInput:function(){this.validationErrors=[];var t=this.$refs.jobConfigurator.validateInput();t||this.validationErrors.push("-1_-1");var e=!0;for(var o in this.$refs.taskConfigurators){var n=this.$refs.taskConfigurators[o].validateInput();n||this.validationErrors.push(o+"_-1"),e=n&&e}var a=!0;for(var i in this.$refs.actionConfigurators){var r=this.$refs.actionConfigurators[i].validateInput();r||this.validationErrors.push(this.$refs.actionConfigurators[i].actionKey),a=r&&a}return!!(t&&e&&a)||(this.$root.$data.store.setFeedback("Validation failed!",!0),!1)},updateSelectedTestResult:function(){if(null!=this.testResults){var t=this.selectedTaskIndex,e=this.selectedActionIndex;if(-1!=t&&-1!=e){var o=this.testResults.taskResults;if(null!=o[t]&&null!=o[t].actionResults){var n=o[t].actionResults;null!=n[e]&&(this.selectedTestResults=this.testResults.taskResults[t].actionResults[e].results)}}else-1!=t&&null!=this.testResults.taskResults[t]&&(this.selectedTestResults=this.testResults.taskResults[t].providerResults)}},isTaskSelected:function(t){return t==this.selectedTaskIndex&&-1==this.selectedActionIndex},isActionSelected:function(t,e){return t==this.selectedTaskIndex&&e==this.selectedActionIndex},runJob:function(){if(this.validateInput()){var t=this;this.$http.post("/api/job/run",this.jobConfiguration).then(function(e){t.jobConfiguration=e.data,t.$root.$data.store.setFeedback("Job '"+t.jobConfiguration.name+"' started manually.",!1),t.updateJobExecutions()}).catch(function(e){t.$root.$data.store.setFeedback("Job '"+t.jobConfiguration.name+"' startup failed ("+e+").",!0)})}},updateJobExecutions:function(){var t=this;this.$http.get("/api/job/"+this.jobConfiguration.id+"/executions",this.jobConfiguration).then(function(e){for(var o=t.jobExecutions.length;o>0;o--)t.jobExecutions.pop();C()(e.data).forEach(function(e){t.jobExecutions.push(e)})}).catch(function(e){t.$root.$data.store.setFeedback("Background sync failed! ("+e.response.data.error+")",!0)})},cancelJob:function(){var t=this;this.$http.post("/api/job/"+this.jobConfiguration.id+"/cancel",this.jobConfiguration).then(function(){t.$root.$data.store.setFeedback("Job '"+t.jobConfiguration.name+"' cancelled.",!1),t.updateJobExecutions()}).catch(function(e){t.$root.$data.store.setFeedback("Job '"+t.jobConfiguration.name+"' cancellation failed ("+e+").",!0)})},createService:function(t,e,o){this.$root.$data.store.setJobData(this.jobConfiguration,t,e,o),this.$router.push({name:"service-editor"})}},mounted:function(){var t=this,e=this.$root.$data.store.getJobData();if(null!=e.jobConfiguration){this.jobConfiguration=e.jobConfiguration,null!=this.jobConfiguration.id&&(this.newJob=!1,this.updateJobExecutions(),this.jobExecutionsRefreshTimer=setInterval(function(){return t.updateJobExecutions()},1e3));var o=e.selectionKey;if(null!=o){var n=-1,a=-1;if(("string"===typeof o||o instanceof String)&&o.includes("_")?(n=o.split("_")[0],a=o.split("_")[1]):n=o,n>-1&&a>-1){if(null!=e.serviceParameter&&null!=e.parameterIndex){var i=this.jobConfiguration.tasks[n].actions[a].parameters[e.parameterIndex];i.serviceName=e.serviceParameter.name,i.value=e.serviceParameter.id}this.selectAction(n,a)}else if(n>-1){if(null!=e.serviceParameter&&null!=e.parameterIndex){var r=this.jobConfiguration.tasks[n].provider.parameters[e.parameterIndex];r.serviceName=e.serviceParameter.name,r.value=e.serviceParameter.id}this.selectTask(n)}}this.$root.$data.store.clearJobData()}else null!=this.jobId&&(this.newJob=!1,this.loadJob(this.jobId),this.jobExecutionsRefreshTimer=setInterval(function(){return t.updateJobExecutions()},1e3));var s=this;this.$http.get("/api/category/provider").then(function(t){s.initialProviderCategory=C()(t.data)[0],s.$http.get("/api/type/provider/"+s.initialProviderCategory.key).then(function(t){s.initialProviderType=C()(t.data)[0]}).catch(function(t){s.$root.$data.store.setFeedback("Could not load provider types ("+t+")",!0)})}).catch(function(t){s.$root.$data.store.setFeedback("Could not load provider categories ("+t+")",!0)}),this.$http.get("/api/category/action").then(function(t){s.initialActionCategory=C()(t.data)[0],s.$http.get("/api/type/action/"+s.initialActionCategory.key).then(function(t){s.initialActionType=C()(t.data)[0]}).catch(function(t){s.$root.$data.store.setFeedback("Could not load action types ("+t+")",!0)})}).catch(function(t){s.$root.$data.store.setFeedback("Could not load action categories ("+t+")",!0)})},destroyed:function(){clearInterval(this.jobExecutionsRefreshTimer)}},tn=Yo,en=(o("08da"),Object(u["a"])(tn,Xe,Ze,!1,null,"aeb8878a",null)),on=en.exports;n["a"].use(b["a"]);var nn=new b["a"]({routes:[{path:"/",name:"home",component:Gt},{path:"/services:saveResult?",name:"services",component:se,props:!0},{path:"/service-editor/:serviceId?",name:"service-editor",component:Re,props:!0},{path:"/jobs",name:"jobs",component:Ge,props:!0},{path:"/job-editor/:jobId?",name:"job-editor",component:on,props:!0}]}),an=o("ecee"),rn=o("ad3d"),sn=o("c074"),cn=o("b702");an["c"].add(sn["a"]),an["c"].add(cn["a"]),n["a"].component("font-awesome-icon",rn["a"]),n["a"].component("font-awesome-layers",rn["b"]),n["a"].config.productionTip=!1,window.axios=o("bc3a"),window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest",n["a"].prototype.$http=window.axios;var ln={debug:!0,feedback:{timeout:void 0,message:"",alert:!1},wip:{timeout:void 0,message:""},jobData:{jobConfiguration:null,selectionKey:null,parameterIndex:null,serviceCategory:null,serviceParameter:null},valueStore:{},routeChanged:!1,setFeedback:function(t,e){this.feedback.message=t,this.feedback.alert=e,this.routeChanged=!1;var o=this;void 0!==this.feedback.timeout&&clearTimeout(this.feedback.timeout),this.feedback.alert?this.feedback.timeout=setTimeout(function(){o.clearFeedback()},15e3):this.feedback.timeout=setTimeout(function(){o.clearFeedback()},5e3)},getFeedback:function(){return this.feedback},clearFeedback:function(){this.feedback.message="",this.feedback.alert=!1,this.routeChanged=!1},setWip:function(t){var e=this;this.wip.timeout=setTimeout(function(){e.wip.message=t},250)},getWip:function(){return this.wip},clearWip:function(){void 0!==this.wip.timeout&&clearTimeout(this.wip.timeout),this.wip.message=""},setJobData:function(t,e,o,n){this.jobData.jobConfiguration=t,this.jobData.selectionKey=e,this.jobData.parameterIndex=o,this.jobData.serviceCategory=n},getJobData:function(){return this.jobData},clearJobData:function(){this.jobData.jobConfiguration=null,this.jobData.selectionKey=null,this.jobData.parameterIndex=null,this.jobData.serviceParameter=null},setValue:function(t,e){this.valueStore[t]=e},getValue:function(t){return this.valueStore[t]},clearValue:function(t){delete this.valueStore[t]}};new n["a"]({el:"#app",data:{store:ln},router:nn,components:{App:m},template:"<App/>"}),nn.beforeEach(function(t,e,o){ln.routeChanged?ln.clearFeedback():ln.routeChanged=!0,o()})},"5f54":function(t,e,o){"use strict";var n=o("990d"),a=o.n(n);a.a},6434:function(t,e,o){},"64a9":function(t,e,o){},6552:function(t,e,o){"use strict";var n=o("6ffe"),a=o.n(n);a.a},"6ffe":function(t,e,o){},"762b":function(t,e,o){},"77d1":function(t,e,o){},"7ace":function(t,e,o){},8118:function(t,e,o){},"843c":function(t,e,o){"use strict";var n=o("02c8"),a=o.n(n);a.a},8958:function(t,e,o){},"8b83":function(t,e,o){"use strict";var n=o("2110"),a=o.n(n);a.a},"8cba":function(t,e,o){"use strict";var n=o("77d1"),a=o.n(n);a.a},"930f":function(t,e,o){},9544:function(t,e,o){},"990d":function(t,e,o){},"9ee4":function(t,e,o){"use strict";var n=o("762b"),a=o.n(n);a.a},a09c:function(t,e,o){},a1c2:function(t,e,o){"use strict";var n=o("930f"),a=o.n(n);a.a},a225:function(t,e,o){"use strict";var n=o("a09c"),a=o.n(n);a.a},ac26:function(t,e,o){},b779:function(t,e,o){},c6d7:function(t,e,o){"use strict";var n=o("e393"),a=o.n(n);a.a},d320:function(t,e,o){"use strict";var n=o("e765"),a=o.n(n);a.a},db2d:function(t,e,o){"use strict";var n=o("375c"),a=o.n(n);a.a},dc67:function(t,e,o){},e15a:function(t,e,o){"use strict";var n=o("9544"),a=o.n(n);a.a},e1f8:function(t,e,o){},e393:function(t,e,o){},e765:function(t,e,o){},e8e6:function(t,e,o){},ecd2:function(t,e,o){},f006:function(t,e,o){},f0e6:function(t,e,o){"use strict";var n=o("05be"),a=o.n(n);a.a},ff58:function(t,e,o){"use strict";var n=o("e8e6"),a=o.n(n);a.a}});
//# sourceMappingURL=app.a5b93649.js.map
<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>&#39;Copy New Files&#39; Example | Igor Reference Documentation (v0.7.0)</title>
    <meta name="generator" content="VuePress 1.9.10">
    
    <meta name="description" content="">
    <meta name="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta name="Pragma" content="no-cache">
    <meta name="Expires" content="0">
    
    <link rel="preload" href="/igor/assets/css/0.styles.852a0cf5.css" as="style"><link rel="preload" href="/igor/assets/js/app.a7d8439f.js" as="script"><link rel="preload" href="/igor/assets/js/2.51b2f37c.js" as="script"><link rel="preload" href="/igor/assets/js/1.de8085b4.js" as="script"><link rel="preload" href="/igor/assets/js/13.d42f4583.js" as="script"><link rel="prefetch" href="/igor/assets/js/10.102584d0.js"><link rel="prefetch" href="/igor/assets/js/11.d61c6723.js"><link rel="prefetch" href="/igor/assets/js/12.368682a2.js"><link rel="prefetch" href="/igor/assets/js/14.bf091d12.js"><link rel="prefetch" href="/igor/assets/js/15.a7f658d5.js"><link rel="prefetch" href="/igor/assets/js/16.a736e60d.js"><link rel="prefetch" href="/igor/assets/js/17.36d00895.js"><link rel="prefetch" href="/igor/assets/js/18.e7ad2a1b.js"><link rel="prefetch" href="/igor/assets/js/19.ab9de154.js"><link rel="prefetch" href="/igor/assets/js/20.8b89c6ea.js"><link rel="prefetch" href="/igor/assets/js/21.5ac24fa2.js"><link rel="prefetch" href="/igor/assets/js/22.afe9e2d8.js"><link rel="prefetch" href="/igor/assets/js/23.d8eb53ae.js"><link rel="prefetch" href="/igor/assets/js/24.7928c0f9.js"><link rel="prefetch" href="/igor/assets/js/25.95c53784.js"><link rel="prefetch" href="/igor/assets/js/26.1f012559.js"><link rel="prefetch" href="/igor/assets/js/27.713e4e85.js"><link rel="prefetch" href="/igor/assets/js/28.c74bbd2b.js"><link rel="prefetch" href="/igor/assets/js/29.b9ed78ce.js"><link rel="prefetch" href="/igor/assets/js/3.73b424a9.js"><link rel="prefetch" href="/igor/assets/js/30.02ad0b62.js"><link rel="prefetch" href="/igor/assets/js/31.3b7fc804.js"><link rel="prefetch" href="/igor/assets/js/32.4803e445.js"><link rel="prefetch" href="/igor/assets/js/33.6b1c185a.js"><link rel="prefetch" href="/igor/assets/js/34.22148d45.js"><link rel="prefetch" href="/igor/assets/js/35.86269840.js"><link rel="prefetch" href="/igor/assets/js/36.86991ce6.js"><link rel="prefetch" href="/igor/assets/js/37.f8fd79f5.js"><link rel="prefetch" href="/igor/assets/js/38.8a69b1e7.js"><link rel="prefetch" href="/igor/assets/js/39.e44c0908.js"><link rel="prefetch" href="/igor/assets/js/4.2162bf9d.js"><link rel="prefetch" href="/igor/assets/js/40.1536c6c0.js"><link rel="prefetch" href="/igor/assets/js/41.12709fc2.js"><link rel="prefetch" href="/igor/assets/js/42.d85cea19.js"><link rel="prefetch" href="/igor/assets/js/43.7e457457.js"><link rel="prefetch" href="/igor/assets/js/44.a14bd33b.js"><link rel="prefetch" href="/igor/assets/js/45.96ed0877.js"><link rel="prefetch" href="/igor/assets/js/46.a4230c8b.js"><link rel="prefetch" href="/igor/assets/js/47.a6800048.js"><link rel="prefetch" href="/igor/assets/js/48.1525c2e3.js"><link rel="prefetch" href="/igor/assets/js/49.ea2f0221.js"><link rel="prefetch" href="/igor/assets/js/5.27f588df.js"><link rel="prefetch" href="/igor/assets/js/50.403f6db7.js"><link rel="prefetch" href="/igor/assets/js/51.cde31a50.js"><link rel="prefetch" href="/igor/assets/js/52.6e8c3a49.js"><link rel="prefetch" href="/igor/assets/js/53.2e443143.js"><link rel="prefetch" href="/igor/assets/js/54.cc8ea2cd.js"><link rel="prefetch" href="/igor/assets/js/55.eae75536.js"><link rel="prefetch" href="/igor/assets/js/56.e71b7557.js"><link rel="prefetch" href="/igor/assets/js/57.22999f4f.js"><link rel="prefetch" href="/igor/assets/js/58.1895bc4c.js"><link rel="prefetch" href="/igor/assets/js/59.9a28b9e6.js"><link rel="prefetch" href="/igor/assets/js/6.19557dce.js"><link rel="prefetch" href="/igor/assets/js/60.f70c3cca.js"><link rel="prefetch" href="/igor/assets/js/61.51f104bb.js"><link rel="prefetch" href="/igor/assets/js/62.5bfb26be.js"><link rel="prefetch" href="/igor/assets/js/63.b322d34b.js"><link rel="prefetch" href="/igor/assets/js/64.2c7a513c.js"><link rel="prefetch" href="/igor/assets/js/65.afd23c99.js"><link rel="prefetch" href="/igor/assets/js/66.85cbd613.js"><link rel="prefetch" href="/igor/assets/js/67.887f5865.js"><link rel="prefetch" href="/igor/assets/js/68.cf800353.js"><link rel="prefetch" href="/igor/assets/js/69.95bc7a4b.js"><link rel="prefetch" href="/igor/assets/js/7.ba76af71.js"><link rel="prefetch" href="/igor/assets/js/70.8a73ce43.js"><link rel="prefetch" href="/igor/assets/js/71.665b47d5.js"><link rel="prefetch" href="/igor/assets/js/72.7122d6dc.js"><link rel="prefetch" href="/igor/assets/js/73.69fdaed7.js"><link rel="prefetch" href="/igor/assets/js/74.db33574a.js"><link rel="prefetch" href="/igor/assets/js/75.ddbff43f.js"><link rel="prefetch" href="/igor/assets/js/76.3b211ea5.js"><link rel="prefetch" href="/igor/assets/js/77.128d1ba6.js"><link rel="prefetch" href="/igor/assets/js/78.851550e1.js"><link rel="prefetch" href="/igor/assets/js/79.05566adc.js"><link rel="prefetch" href="/igor/assets/js/80.88f1bae5.js"><link rel="prefetch" href="/igor/assets/js/81.3a72e9cb.js"><link rel="prefetch" href="/igor/assets/js/82.3b796595.js"><link rel="prefetch" href="/igor/assets/js/83.5e207e17.js"><link rel="prefetch" href="/igor/assets/js/84.8bb3d7b4.js"><link rel="prefetch" href="/igor/assets/js/85.180d10cd.js"><link rel="prefetch" href="/igor/assets/js/86.3ed60103.js"><link rel="prefetch" href="/igor/assets/js/87.b1245188.js"><link rel="prefetch" href="/igor/assets/js/vendors~docsearch.7a484b82.js">
    <link rel="stylesheet" href="/igor/assets/css/0.styles.852a0cf5.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container docpage"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/igor/" class="home-link router-link-active"><!----> <span class="site-name">Igor Reference Documentation (v0.7.0)</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/igor/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/igor/user/" class="nav-link">
  User Guide
</a></div><div class="nav-item"><a href="/igor/developer/" class="nav-link">
  Developer Guide
</a></div><div class="nav-item"><a href="/igor/examples/" class="nav-link router-link-active">
  Examples
</a></div><div class="nav-item"><a href="https://www.github.com/arassec/igor" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/igor/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/igor/user/" class="nav-link">
  User Guide
</a></div><div class="nav-item"><a href="/igor/developer/" class="nav-link">
  Developer Guide
</a></div><div class="nav-item"><a href="/igor/examples/" class="nav-link router-link-active">
  Examples
</a></div><div class="nav-item"><a href="https://www.github.com/arassec/igor" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Overview</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>File Handling</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/igor/examples/copynewfiles.html" aria-current="page" class="active sidebar-link">'Copy New Files' Example</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/igor/examples/copynewfiles.html#introduction" class="sidebar-link">Introduction</a></li><li class="sidebar-sub-header"><a href="/igor/examples/copynewfiles.html#general-idea" class="sidebar-link">General Idea</a></li><li class="sidebar-sub-header"><a href="/igor/examples/copynewfiles.html#job-configuration" class="sidebar-link">Job Configuration</a></li><li class="sidebar-sub-header"><a href="/igor/examples/copynewfiles.html#conclusion" class="sidebar-link">Conclusion</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="copy-new-files-example"><a href="#copy-new-files-example" class="header-anchor">#</a> 'Copy New Files' Example</h1> <h2 id="introduction"><a href="#introduction" class="header-anchor">#</a> Introduction</h2> <p>This example shows how to solve the following task with igor:</p> <div class="custom-block tip"><p class="custom-block-title">Task</p> <p>Regularly copy new files on a remote server to a destination server.
Only files with names matching a certain pattern should be copied.
Each file should be copied only once.
A message should be sent to an application to further process each newly copied file.</p></div> <h2 id="general-idea"><a href="#general-idea" class="header-anchor">#</a> General Idea</h2> <p>The following is a rough idea of how to configure a job in igor to solve the task.</p> <ul><li>Use a CRON expression to regularly check for new files.</li> <li>List all files on the remote server</li> <li>Filter files with names not matching the desired pattern</li> <li>Ignore already copied files</li> <li>Copy new files to the destination system</li> <li>Send a message to the target application waiting for new files</li></ul> <h2 id="job-configuration"><a href="#job-configuration" class="header-anchor">#</a> Job Configuration</h2> <p>In order to implement the general idea with igor, we will create a new job with the following configuration.</p> <h3 id="trigger"><a href="#trigger" class="header-anchor">#</a> Trigger</h3> <p>We configure a <strong>CRON trigger</strong> and set the expression to <code>0 */15 * * * *</code>.
Thus, igor will start the job every 15 minutes.</p> <p>The configuration of the job then looks like this:</p> <p><img src="/igor/assets/img/job-configuration.678a99ed.png" alt="job configuration"></p> <p>The resulting initial data item looks like this:</p> <p><img src="/igor/assets/img/job-configuration-sim-result.40e3e2db.png" alt="job configuration sim result"></p> <h3 id="list-files"><a href="#list-files" class="header-anchor">#</a> List Files</h3> <p>The <strong>'List Files' action</strong> will list all files in the configured directory and create data items from them.
In this example I chose a locally running docker instance providing an FTP server.</p> <p>In order to filter files in the first place we configure the required file ending to be <code>txt</code> (see the advanced configuration parameters).</p> <p>The action configuration looks like this:</p> <p><img src="/igor/assets/img/list-files.a7c63f6e.png" alt="list files"></p> <p>The resulting data items look like this:</p> <p><img src="/igor/assets/img/list-files-sim-result.e9be0ca3.png" alt="list files sim result"></p> <h3 id="filename-filter"><a href="#filename-filter" class="header-anchor">#</a> Filename Filter</h3> <p>The job's second action filters the data items based on the file name.
In the example, we don't want files containing the word &quot;backup&quot; in the filename to be copied.</p> <div><p>The <strong>'Filter by Regular Expression' action</strong> can be used for this.
Since we want to filter by filename, we set the input parameter to <code>{{data.filename}}</code>.
The expression parameter can be set to <code>.*backup.*</code>.
In order to drop matching data items rather than letting them pass we have to check the advanced configuration parameter <code>Drop matching</code>.</p></div><p>The action configuration looks like this:</p> <p><img src="/igor/assets/img/filename-filter.94f8fb6f.png" alt="filename filter"></p> <p>The resulting data items look like this:</p> <p><img src="/igor/assets/img/filename-filter-sim-result.4d0c8154.png" alt="filename filter sim result"></p> <h3 id="filter-already-copied-files"><a href="#filter-already-copied-files" class="header-anchor">#</a> Filter Already Copied Files</h3> <p>In order to filter already processed files we use igor's persistence actions.</p> <div><p>The <strong>'Filter Persisted Value' action</strong> filters all data items from the stream that contain a value, that is already persisted in igor's datastore.
The filter operates on the filename, so we configure the input parameter to <code>{{data.filename}}</code>.</p></div><p>We will add persisting the values later, after we successfully copied the file.
Here we only configure the filtering of already persisted values.</p> <p>The action configuration looks like this:</p> <p><img src="/igor/assets/img/filter-already-copied-files.289183b2.png" alt="filter already copied files"></p> <p>Since we have nothing persisted yet, the data items will not change during a simulated job execution.</p> <h3 id="copy-files"><a href="#copy-files" class="header-anchor">#</a> Copy Files</h3> <p>The data items that remain in the stream contain those files we want to copy.</p> <p>The <strong>'Copy File' action</strong> can do this for us.
The source service has to be the same as the one we used in the 'List Files' provider configuration.
The target service is locally running docker image providing an SSH server, that I configured as SCP file connector.</p> <p>The action configuration looks like this:</p> <p><img src="/igor/assets/img/copy-file.4c471ef4.png" alt="copy file"></p> <p>The action adds information about the copied file to the processed data item:</p> <p><img src="data:image/png;base64,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iIiYZCAiIiIiIiJikoGIiIiIiIiISQYiIiIiIiIiJhmIiIiIiIiImGQgIiIiIiIiYpKBiIiIiIiIiEkGIiIiIiIiIiYZiIiIiIiIiJhkICIiIiIiImKSgYiIiIiIiIhJBiIiIiIiIiImGYiIiIiIiIiYZCAiIiIiIiJikoGIiIiIiIiISQYiIiIiIiIiJhmIiIiIiIiImGQgIiIiIiIiYpKBiIiIiIiIiEkGIiIiIiIiIiYZiIiIiIiIiJhkICIiIiIiImKSgYiIiIiIiIhJNn6gum1bICIiIiIiIjUvNzmFimLmv86NNmHmbH4IGyIiIiIiInLLmjBzNjdKzPzX+aEMREREREREREwyEBERERERETHJQERERERERMQkAxERERERERGTbIiIiIiIiMhtbeHbr+IItFPRhJmzefOXzzL33QU4ncXUFAMRERERERG5rTkC7VQlsmk4c2ZNx+GwU1NsiIiIiIiIyG0lMiKc7p3a47V07Raq4nDYWbpuC17NmzYi6cQZaoINERERERERua306NyBccOj8Vq6dgtVefOlmWRm5+CVkX2FmmJDRERERERE/uOEhQYTFhqM17GUM9QUAxERERERERGTDERERERERERMMhARERERERExyUBERERERETEJAMRERERERERk2yIiIiIiIjIbavHXe34dNlaghx2qrNtzwFqig0RERERERG5bT01ZRxxh4+SmX2Vipau3cKNYENERERERERuKxnZV/AJCrQzoGdXKnIWFbN07RZuBBsiIiIiIiJyW9m+5yDb9xzkZjAQERERERERMclARERERERExCQDEREREREREZMMREREREREREwyEBERERERETHJQERERERERMQkGyIiIiIiInLLipn/OrcSGz9QbnIKIiIiIiIicuNNmDmbW42BiIiIiIiIiEkGIiIiIiIiIiYZiIiIiIiIiJhkICIiIiIiImKSgYiIiIiIiIhJBiIiIiIiIiImGYiIiIiIiIiYZCAiIiIiIiJikoGIiIiIiIiISQYiIiIiIiIiJhmIiIiIiIiImGSLmf86IiIiIiIiImbYJsycjYiIiIiIiIgZBiIiIiIiIiImGYiIiIiIiIiYZCAiIiIiIiJikoGIiIiIiIiISQYiIiIiIiIiJhmIiIiIiIiImGQgIiIiIiIiYpKBiIiIiIiIiEkGIiIiIiIiIiYZ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" alt="copy file sim result"></p> <h3 id="send-message"><a href="#send-message" class="header-anchor">#</a> Send Message</h3> <p>After the file has been copied a message should be sent to trigger another service to start processing the new file.</p> <p>The <strong>'Send Message' action</strong> can be used for this.
I configured a locally running docker instance providing a RabbitMQ server and used it as connector in the action's configuration.
The message contains simply the filename.</p> <p>The action configuration looks like this:</p> <p><img src="/igor/assets/img/send-message.79a38292.png" alt="send message"></p> <p>The action doesn't change anything on the data items in the stream.</p> <h3 id="save-filename"><a href="#save-filename" class="header-anchor">#</a> Save Filename</h3> <p>In order for the 'Filter Persisted Value' action to work, we now have to save the filename of all copied files to igor's datastore.
During the next job run, those filenames will then be filtered and the files won't be copied again.</p> <div><p>The <strong>'Persist Value' action</strong> stores a value from the data item in igor's datastore.
As input parameter we set the data item's filename by configuring <code>{{data.filename}}</code>.
Since we don't want to store an unbounded number of values in igor's datastore, we limit the number of filenames to keep in this example to <code>1</code>.
This value has to be adopted according to the number of files on the server and how often filenames might e.g. get recycled.
The action configuration looks like this:</p></div><p><img src="/igor/assets/img/save-filename.fe261bc7.png" alt="save filename"></p> <h2 id="conclusion"><a href="#conclusion" class="header-anchor">#</a> Conclusion</h2> <p>That's it. The final job configuration is complete and looks like this:</p> <p><img src="/igor/assets/img/final-configuration.6c1ae8f7.png" alt="final configuration"></p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ‚Üê
      <a href="/igor/examples/" class="prev router-link-active">
        Overview
      </a></span> <!----></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/igor/assets/js/app.a7d8439f.js" defer></script><script src="/igor/assets/js/2.51b2f37c.js" defer></script><script src="/igor/assets/js/1.de8085b4.js" defer></script><script src="/igor/assets/js/13.d42f4583.js" defer></script>
  </body>
</html>
